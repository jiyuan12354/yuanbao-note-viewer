/*! For license information please see vendor_tencent.47fad1abc824d2bad15c.js.LICENSE.txt */
(self.webpackChunkhunyuan_bot=self.webpackChunkhunyuan_bot||[]).push([[9167],{480:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var r=n(7378);function o(e){var t=(0,r.useRef)(e);return t.current=e,(0,r.useCallback)((function(){return t.current}),[])}},9241:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7378);const o=(0,n(92566).hh)("loading-animate",!1,(function(e){return r.createElement("svg",{viewBox:"0 0 128 128",width:e.size,height:e.size},r.createElement("g",null,r.createElement("path",{d:"M64.063875,2.68525 C30.1685,2.68525 2.685375,30.167875 2.685375,64.063875 C2.685375,97.9605 30.167375,125.442625 64.063875,125.442625 C67.383125,125.442625 70.073875,122.75175 70.073875,119.432625 C70.073875,116.113375 67.383125,113.422625 64.063875,113.422625 C36.80575,113.422625 14.70525,91.322125 14.70525,64.063875 C14.70525,36.806375 36.806875,14.70525 64.064,14.70525 C91.322125,14.70525 113.422625,36.80575 113.422625,64.064 C113.422625,67.383125 116.113375,70.074 119.432625,70.074 C122.75175,70.074 125.442625,67.383125 125.442625,64.064 C125.442625,30.167375 97.9605,2.68525 64.063875,2.68525 L64.063875,2.68525 Z",fillRule:"nonzero",fill:e.colors[0]},r.createElement("animateTransform",{attributeType:"XML",attributeName:"transform",begin:"0s",dur:"1s",type:"rotate",from:"0 64 64",to:"360 64 64",repeatCount:"indefinite"}))))}))},10173:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}n.d(t,{A:()=>Zn});var o={exports:{}},i={exports:{}},a={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(a);var s,u,c=r(a.exports),l={exports:{}};!function(e){var t=a.exports.default;e.exports=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(l),function(e){var t=a.exports.default,n=l.exports;e.exports=function(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""},e.exports.__esModule=!0,e.exports.default=e.exports}(i),u=i.exports,(s=o).exports=function(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},s.exports.__esModule=!0,s.exports.default=s.exports;var f=r(o.exports),p={exports:{}},d={exports:{}};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(d);var h={exports:{}};!function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports}(h);var v={exports:{}},m={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}(m),function(e){var t=m.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(v);var g={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(g),function(e){var t=d.exports,n=h.exports,r=v.exports,o=g.exports;e.exports=function(e,i){return t(e)||n(e,i)||r(e,i)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(p);var y=r(p.exports),b={exports:{}},w={exports:{}};!function(e){var t=m.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(w);var S={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(S);var E={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(E),function(e){var t=w.exports,n=S.exports,r=v.exports,o=E.exports;e.exports=function(e){return t(e)||n(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(b);var x=r(b.exports),O={exports:{}};!function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}(O);var k=r(O.exports),I={exports:{}};!function(e){var t=i.exports;function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(I);var _=r(I.exports);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}!function(){if("object"===("undefined"==typeof window?"undefined":c(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(){for(var e=window.document,t=o(e);t;)t=o(e=t.ownerDocument);return e}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?p(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,a=null;if(this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),u(e,"resize",r,!0)),u(t,"scroll",r,!0),a&&a.disconnect()})),t!=(this.root&&(this.root.ownerDocument||this.root)||e)){var c=o(t);c&&this._monitorIntersections(c.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}));if(!i){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=o(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,a=l(o),s=this._rootContainsTarget(o),u=r.entry,c=e&&s&&this._computeTargetAndRootIntersection(o,a,t),f=null;this._rootContainsTarget(o)?n&&!this.root||(f=t):f={top:0,bottom:0,left:0,right:0,width:0,height:0};var p=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:f,intersectionRect:c});u?e&&s?this._hasCrossedThreshold(u,p)&&this._queuedEntries.push(p):u&&u.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,o,i){if("none"!=window.getComputedStyle(t).display){for(var a,s,u,c,f,d,v,m,g=o,y=h(t),b=!1;!b&&y;){var w=null,S=1==y.nodeType?window.getComputedStyle(y):{};if("none"==S.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==e)n&&!this.root?!r||0==r.width&&0==r.height?(y=null,w=null,g=null):w=r:w=i;else{var E=h(y),x=E&&l(E),O=E&&this._computeTargetAndRootIntersection(E,x,i);x&&O?(y=E,w=p(x,O)):(y=null,g=null)}else{var k=y.ownerDocument;y!=k.body&&y!=k.documentElement&&"visible"!=S.overflow&&(w=l(y))}if(w&&(a=w,s=g,void 0,void 0,void 0,void 0,void 0,void 0,u=Math.max(a.top,s.top),c=Math.min(a.bottom,s.bottom),f=Math.max(a.left,s.left),m=c-u,g=(v=(d=Math.min(a.right,s.right))-f)>=0&&m>=0&&{top:u,bottom:c,left:f,right:d,width:v,height:m}||null),!g)break;y=y&&h(y)}return g}},a.prototype._getRootRect=function(){var t;if(this.root&&!v(this.root))t=l(this.root);else{var n=v(this.root)?this.root:e,r=n.documentElement,o=n.body;t={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||d(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return d(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=f(e.rootBounds),this.boundingClientRect=f(e.boundingClientRect),this.intersectionRect=f(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect;this.intersectionRatio=n?Number((r.width*r.height/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function u(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function l(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function f(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function p(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function d(e,t){for(var n=t;n;){if(n==e)return!0;n=h(n)}return!1}function h(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?o(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function v(e){return e&&9===e.nodeType}}(),function(e){function t(){var t=this||self;return delete e.prototype.__magic__,t}"object"==typeof globalThis?globalThis:this?t():(e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t}),__magic__)}(Object);var A={useText:[".ant-btn",'[role="menuitem"]',".ant-cascader-menu-item",".ant-checkbox-wrapper",".ant-radio-wrapper",".ant-radio-button-wrapper",".ant-select-item",'[role="button"]',".ant-tabs-tab"]},R={useText:[".adm-side-bar-item",".adm-tabs-tab",".adm-selector-item",".adm-button",".adm-dropdown-item",".adm-capsule-tabs-tab",".adm-checkbox"]},C={useText:[".el-button",".el-checkbox-button",".el-menu-item",".el-radio-button",".el-select-dropdown__item",".el-tabs__item",".el-cascader-node",".el-select-dropdown__item"]},P={useText:[".omui-button",".omui-radio",".omui-checkbox",".omui-dropdown__item",".omui-tab__label",".omui-select__item",".omui-suggestion__option"],useAttribute:{ignore:["_nk"]}},j={useText:[".t-button",".t-menu__item",".t-checkbox",".t-radio",".t-radio-button",".t-select-option",".t-anchor__item",".t-dropdown__item",".t-breadcrumb__item",".t-tabs__nav-item",".t-tree__item",".t-drawer__header",".t-popconfirm__inner"]},N={omui:{click:{autoSelector:[".omui-button",".omui-radio",".omui-input__inner",".omui-checkbox",".omui-dropdown__trigger",".omui-dropdown__item",".omui-tab__label",".omui-textarea",".omui-datepicker-input",".omui-icon-clear-reverse",".omui-thumb",".omui-select__input",".omui-select__item",".omui-swiper",".omui-suggestion__control",".omui-suggestion__option",".omui-upload-normal-trigger",".omui-upload-image-trigger",".omui-upload-container-wrap",".omui-button"],autoStrategy:P},area:{autoSelector:[".omui-panel",".omui-form__group",".omui-table-table",".omui-tooltip__content"],autoStrategy:P}},antd:{click:{autoSelector:['[role="menuitem"]',".ant-cascader-menu-item",".ant-checkbox-wrapper",".ant-radio-wrapper",".ant-radio-button-wrapper",".ant-select",".ant-select-item",'[role="button"]',".ant-tabs-tab"],autoStrategy:A},area:{autoSelector:[".ant-card",".ant-list",".ant-table",".ant-tabs-tabpane",'[role="tooltip"]','[role="dialog"]',".ant-notification-notice",".ant-form-item",'[role="button"]','[role="menuitem"]'],autoStrategy:A}},element:{click:{autoSelector:[".el-radio",".el-input",".el-checkbox",".el-input-number",".el-cascader",".el-dropdown",".el-tabs__item",".el-textarea",".el-date-editor",".el-switch",".el-select",".el-slider__button",".el-upload",".el-radio-button",".el-icon",".el-button",".el-slider",".el-checkbox-button",".el-color-picker",".el-select-v2",".el-avatar",".el-calendar",".el-carousel__item",".el-image",".el-tree-node",".el-backtop",".el-menu-item",".el-tabs__item",".el-select-dropdown__item",".el-button",".el-menu-item"],autoStrategy:C},area:{autoSelector:[".el-tabs",".el-table",".el-form",".el-card",".el-descriptions",".el-timeline",".el-dialog"],autoStrategy:C}},antdm:{click:{autoSelector:[".adm-side-bar-item",".adm-input",".adm-button",".adm-checkbox",".adm-cascader",".adm-picker",".adm-radio",".adm-switch",".adm-image-uploader",".adm-tabs-tab",".adm-tab-bar",".adm-dropdown-item",".adm-selector-item",".adm-text-area",".adm-calendar-cell",".adm-action-sheet-button-item-wrapper",".adm-capsule-tabs-tab",".adm-list-item"],autoStrategy:R},area:{autoSelector:[".adm-card",".adm-tabs",".adm-form",".adm-list",".adm-picker-body",".adm-popup-body",".adm-button",".adm-side-bar-item"],autoStrategy:R}},tdesign:{click:{autoSelector:[".t-button",".t-menu__item",".t-input",".t-checkbox",".t-radio",".t-radio-button",".t-select",".t-select-option",".t-anchor__item",".t-dropdown__item",".t-breadcrumb__item",".t-tabs__nav-item",".t-tabs__btn",".t-date-picker__cell",".t-switch",".t-textarea",".t-tree__item",".t-swiper__arrow-left",".t-swiper__arrow-right",".t-icon-close",".t-icon-browse",".t-icon-add",".t-icon-delete"],autoStrategy:j},area:{autoSelector:[".t-table",".t-form",".t-steps",".t-list",".t-tooltip",".t-tab-panel",".t-cascader__panel",".t-date-picker__panel",".t-tree",".t-select__dropdown",".t-transfer",".t-time-picker__panel",".t-swiper__content",".t-alert",".t-dialog",".t-drawer__content-wrapper",".t-message",".t-popconfirm",".t-button",".t-menu__item"],autoStrategy:j}}};function D(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var L,q={exports:{}};(L=q).exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},L.exports.__esModule=!0,L.exports.default=L.exports;var M=D(q.exports),U={exports:{}},B={exports:{}},F={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==T(Symbol.iterator)?function(e){return T(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":T(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(F);var H=D(F.exports),V={exports:{}};!function(e){var t=F.exports.default;e.exports=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(V),function(e){var t=F.exports.default,n=V.exports;e.exports=function(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""},e.exports.__esModule=!0,e.exports.default=e.exports}(B),function(e){var t=B.exports;function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(U);var W=D(U.exports),G={exports:{}};!function(e){var t=B.exports;e.exports=function(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(G);var J,K=D(G.exports);!function(e){e.INITIAL="INITIAL",e.BEACON_OA="BEACON_OA",e.BEACON_CLOUD="BEACON_CLOUD"}(J||(J={}));var Q=["id","class","length","style","width","height","fill","viewBox","target","dt-remark",/at-inspector/,/-checked/,/^aria-/,"disabled"],$={uid:"A1",atversion:"A300",system:"A301",browser:"A302",pathname:"A303",urlfrom:"A304",pagefrom:"A305",query:"A306",hostname:"A307",title:"A308",viewportWidth:"A309",viewportHeight:"A310",eid:"A311",text:"A312",queryDom:"A313",queryPath:"A314",domIndex:"A315",remark:"A316",isExit:"A317",staytime:"A318",scrollY:"A319",attributes:"A320",classnames:"A321",coordinate:"A322",spider:"A323",beacon_trigger_x:"A332",beacon_trigger_y:"A333",url:"A102"},z=K(K({},J.BEACON_OA,$),J.BEACON_CLOUD,$),X="_init",Y=K(K(K(K(K(K({click:"at_click",show_area:"at_show_area",show_page:"at_imp",stay_page:"at_stay_page",stay_area:"at_stay_area",scroll_page:"at_scroll_page"},"click".concat(X),"at_click".concat(X)),"show_area".concat(X),"at_show_area".concat(X)),"show_page".concat(X),"at_imp".concat(X)),"stay_page".concat(X),"at_stay_page".concat(X)),"stay_area".concat(X),"at_stay_area".concat(X)),"scroll_page".concat(X),"at_scroll_page".concat(X)),Z=K(K({},J.BEACON_OA,Y),J.BEACON_CLOUD,Y),ee={ELEMENT_NODE:1,DOCUMENT_FRAGMENT_NODE:11},te={ASYNC_EVENT_SFFIX:X,REPORT_PARAMS_MAP:z,REPORT_EVENT_MAP:Z},ne={exports:{}},re={exports:{}};!function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports}(re),function(e){var t=re.exports;e.exports=function(e,n){if(null==e)return{};var r,o,i=t(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n.includes(r=a[o])||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i},e.exports.__esModule=!0,e.exports.default=e.exports}(ne);var oe=D(ne.exports),ie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)},t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function n(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function r(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}"function"==typeof SuppressedError&&SuppressedError;var o="__BEACON_",i="__BEACON_deviceId",a="last_report_time",s="sending_event_ids",u="beacon_config",c="beacon_config_request_time",l=new Set(["rqd_js_init","rqd_applaunched"]),f=function(){function e(){var e=this;this.emit=function(t,n){if(e){var r,o=e.__EventsList[t];if(null==o?void 0:o.length){o=o.slice();for(var i=0;i<o.length;i++){r=o[i];try{var a=r.callback.apply(e,[n]);if(1===r.type&&e.remove(t,r.callback),!1===a)break}catch(e){throw e}}}return e}},this.__EventsList={}}return e.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},e.prototype.on=function(e,t,n){if(void 0===n&&(n=0),this){var r=this.__EventsList[e];return r||(r=this.__EventsList[e]=[]),-1===this.indexOf(r,t)?(r.push({name:e,type:n||0,callback:t}),this):this}},e.prototype.one=function(e,t){this.on(e,t,1)},e.prototype.remove=function(e,t){if(this){var n=this.__EventsList[e];if(!n)return null;if(!t){try{delete this.__EventsList[e]}catch(e){}return null}if(n.length){var r=this.indexOf(n,t);n.splice(r,1)}return this}},e}();function p(e,t){for(var n={},r=0,o=Object.keys(e);r<o.length;r++){var i=o[r],a=e[i];if("string"==typeof a)n[d(i)]=d(a);else{if(t)throw new Error("value mast be string  !!!!");n[d(String(i))]=d(String(a))}}return n}function d(e){if("string"!=typeof e)return e;try{return e.replace(new RegExp("\\|","g"),"%7C").replace(new RegExp("\\&","g"),"%26").replace(new RegExp("\\=","g"),"%3D").replace(new RegExp("\\+","g"),"%2B")}catch(e){return""}}function h(e){return String(e.A99)+String(e.A100)}var v=function(){},m=function(){function e(e){var n=this;this.lifeCycle=new f,this.uploadJobQueue=[],this.additionalParams={},this.delayTime=0,this._normalLogPipeline=function(e){if(!e||!e.reduce||!e.length)throw new TypeError("createPipeline 方法需要传入至少有一个 pipe 的数组");return 1===e.length?function(t,n){e[0](t,n||v)}:e.reduce((function(e,t){return function(n,r){return void 0===r&&(r=v),e(n,(function(e){return null==t?void 0:t(e,r)}))}}))}([function(e){n.send({url:n.strategy.getUploadUrl(),data:e,method:"post",contentType:"application/json;charset=UTF-8"},(function(){var t=n.config.onReportSuccess;"function"==typeof t&&t(JSON.stringify(e.events))}),(function(){var t=n.config.onReportFail;"function"==typeof t&&t(JSON.stringify(e.events))}))}]),function(e,t){if(!e)throw t instanceof Error?t:new Error(t)}(Boolean(e.appkey),"appkey must be initial"),this.config=t(t({},e),{needReportRqdEvent:null==e.needReportRqdEvent||e.needReportRqdEvent})}return e.prototype.onUserAction=function(e,t){this.preReport(e,t,!1)},e.prototype.onDirectUserAction=function(e,t){this.preReport(e,t,!0)},e.prototype.preReport=function(e,t,n){e?this.strategy.isEventUpOnOff()&&(this.strategy.isBlackEvent(e)||this.strategy.isSampleEvent(e)||!this.config.needReportRqdEvent&&l.has(e)||this.onReport(e,t,n)):this.errorReport.reportError("602"," no eventCode")},e.prototype.addAdditionalParams=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this.additionalParams[r]=e[r]}},e.prototype.setChannelId=function(e){this.commonInfo.channelID=String(e)},e.prototype.setOpenId=function(e){this.commonInfo.openid=String(e)},e.prototype.setUnionid=function(e){this.commonInfo.unid=String(e)},e.prototype.getDeviceId=function(){return this.commonInfo.deviceId},e.prototype.getCommonInfo=function(){return this.commonInfo},e.prototype.removeSendingId=function(e){try{var t=JSON.parse(this.storage.getItem(s)),n=t.indexOf(e);-1!=n&&(t.splice(n,1),this.storage.setItem(s,JSON.stringify(t)))}catch(e){}},e}(),g=function(){function e(e,t,n,r){this.requestParams={},this.network=r,this.requestParams.attaid="00400014144",this.requestParams.token="6478159937",this.requestParams.product_id=e.appkey,this.requestParams.platform=n,this.requestParams.uin=t.deviceId,this.requestParams.model="",this.requestParams.os=n,this.requestParams.app_version=e.appVersion,this.requestParams.sdk_version=t.sdkVersion,this.requestParams.error_stack="",this.uploadUrl=e.isOversea?"https://htrace.wetvinfo.com/kv":"https://h.trace.qq.com/kv"}return e.prototype.reportError=function(e,t){this.requestParams._dc=Math.random(),this.requestParams.error_msg=t,this.requestParams.error_code=e,this.network.get(this.uploadUrl,{params:this.requestParams}).catch((function(e){}))},e}(),y=function(){function e(e,t,n,r,o){this.strategy={isEventUpOnOff:!0,httpsUploadUrl:"https://otheve.beacon.qq.com/analytics/v2_upload",requestInterval:30,blacklist:[],samplelist:[]},this.realSample={},this.appkey="",this.needQueryConfig=!0,this.appkey=t.appkey,this.storage=r,this.needQueryConfig=e;try{var i=JSON.parse(this.storage.getItem(u));i&&this.processData(i)}catch(e){}t.isOversea&&(this.strategy.httpsUploadUrl="https://svibeacon.onezapp.com/analytics/v2_upload"),!t.isOversea&&this.needRequestConfig()&&this.requestConfig(t.appVersion,n,o)}return e.prototype.requestConfig=function(e,t,n){var r=this;this.storage.setItem(c,Date.now().toString()),n.post("https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig",{platformId:"undefined"==typeof wx?"3":"4",mainAppKey:this.appkey,appVersion:e,sdkVersion:t.sdkVersion,osVersion:t.userAgent,model:"",packageName:"",params:{A3:t.deviceId}}).then((function(e){if(0==e.data.ret)try{var t=JSON.parse(e.data.beaconConfig);t&&(r.processData(t),r.storage.setItem(u,e.data.beaconConfig))}catch(e){}else r.processData(null),r.storage.setItem(u,"")})).catch((function(e){}))},e.prototype.processData=function(e){var t,n,r,o,i;this.strategy.isEventUpOnOff=null!==(t=null==e?void 0:e.isEventUpOnOff)&&void 0!==t?t:this.strategy.isEventUpOnOff,this.strategy.httpsUploadUrl=null!==(n=null==e?void 0:e.httpsUploadUrl)&&void 0!==n?n:this.strategy.httpsUploadUrl,this.strategy.requestInterval=null!==(r=null==e?void 0:e.requestInterval)&&void 0!==r?r:this.strategy.requestInterval,this.strategy.blacklist=null!==(o=null==e?void 0:e.blacklist)&&void 0!==o?o:this.strategy.blacklist,this.strategy.samplelist=null!==(i=null==e?void 0:e.samplelist)&&void 0!==i?i:this.strategy.samplelist;for(var a=0,s=this.strategy.samplelist;a<s.length;a++){var u=s[a].split(",");2==u.length&&(this.realSample[u[0]]=u[1])}},e.prototype.needRequestConfig=function(){if(!this.needQueryConfig)return!1;var e=Number(this.storage.getItem(c));return Date.now()-e>60*this.strategy.requestInterval*1e3},e.prototype.getUploadUrl=function(){return this.strategy.httpsUploadUrl+"?appkey="+this.appkey},e.prototype.isBlackEvent=function(e){return-1!=this.strategy.blacklist.indexOf(e)},e.prototype.isEventUpOnOff=function(){return this.strategy.isEventUpOnOff},e.prototype.isSampleEvent=function(e){return!!Object.prototype.hasOwnProperty.call(this.realSample,e)&&this.realSample[e]<Math.floor(Math.random()*Math.floor(1e4))},e}(),b="session_storage_key",w=function(){function e(e,t,n){this.getSessionStackDepth=0,this.beacon=n,this.storage=e,this.duration=t,this.appkey=n.config.appkey}return e.prototype.getSession=function(){this.getSessionStackDepth+=1;var e=this.storage.getItem(b);if(!e)return this.createSession();var t="",n=0;try{var r=JSON.parse(e)||{sessionId:void 0,sessionStart:void 0};if(!r.sessionId||!r.sessionStart)return this.createSession();var o=Number(this.storage.getItem(a));if(Date.now()-o>this.duration)return this.createSession();t=r.sessionId,n=r.sessionStart,this.getSessionStackDepth=0}catch(e){}return{sessionId:t,sessionStart:n}},e.prototype.createSession=function(){var e=Date.now(),t={sessionId:this.appkey+"_"+e.toString(),sessionStart:e};this.storage.setItem(b,JSON.stringify(t)),this.storage.setItem(a,e.toString());var n="is_new_user",r=this.storage.getItem(n);return this.getSessionStackDepth<=1&&this.beacon.onDirectUserAction("rqd_applaunched",{A21:r?"N":"Y"}),this.storage.setItem(n,JSON.stringify(!1)),t},e}();function S(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Edge")>-1&&!t,r=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var o=parseFloat(RegExp.$1);return 7==o?7:8==o?8:9==o?9:10==o?10:6}return n?-2:r?11:-1}var E,x=function(){function e(e){this.config=e}return e.canUseDB=function(){return"undefined"!=typeof indexedDB},e.prototype.openDB=function(){var t=this;return new Promise((function(n,r){if(!e.canUseDB())return r({message:"当前不支持 indexeddb"});var o=t.config,i=o.stores,a=indexedDB.open(o.name,o.version);a.onsuccess=function(){t.db=a.result,n()},a.onerror=function(e){r(e)},a.onupgradeneeded=function(){t.db=a.result;try{null==i||i.forEach((function(e){t.createStore(e)}))}catch(e){r(e)}}}))},e.prototype.useStore=function(e){return this.storeName=e,this},e.prototype.deleteDB=function(){var e=this;return this.closeDB(),new Promise((function(t,n){var r=indexedDB.deleteDatabase(e.config.name);r.onsuccess=function(){return t()},r.onerror=n}))},e.prototype.closeDB=function(){var e;null===(e=this.db)||void 0===e||e.close(),this.db=null},e.prototype.getStoreCount=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readonly").count();r.onsuccess=function(){return t(r.result)},r.onerror=n}))},e.prototype.clearStore=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readwrite").clear();r.onsuccess=function(){return t()},r.onerror=n}))},e.prototype.add=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").add(e,t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.put=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").put(e,t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.get=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore().index(e).get(t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.remove=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").index(e).objectStore.delete(t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.removeList=function(e,t){var n=this;return new Promise((function(r){var o=n.getStore("readwrite").index(e),i=[];t.forEach((function(e){o.objectStore.delete(e).onerror=function(){i.push(e)}})),r(i)}))},e.prototype.getStoreAllData=function(e){var t=this;return void 0===e&&(e=1/0),new Promise((function(n,r){var o=t.getStore("readonly").openCursor(),i=[];o.onsuccess=function(){var t=o.result;if(t&&i.length<e)try{t.value&&i.push(t.value),t.continue()}catch(e){n(i)}else n(i)},o.onerror=r}))},e.prototype.getDataRangeByIndex=function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=i.getStore().index(e),c=IDBKeyRange.bound(t,n,r,o),l=[],f=u.openCursor(c);f.onsuccess=function(){var e;(null===(e=null==f?void 0:f.result)||void 0===e?void 0:e.value)?(l.push(null==f?void 0:f.result.value),null==f||f.result.continue()):a(l)},f.onerror=s}))},e.prototype.removeDataByIndex=function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=i.getStore("readwrite").index(e),c=IDBKeyRange.bound(t,n,r,o),l=u.openCursor(c),f=0;l.onsuccess=function(e){var t=e.target.result;t?(f+=1,t.delete(),t.continue()):a(f)},l.onerror=s}))},e.prototype.createStore=function(e){var t=e.name,n=e.indexes,r=void 0===n?[]:n,o=e.options;if(this.db){this.db.objectStoreNames.contains(t)&&this.db.deleteObjectStore(t);var i=this.db.createObjectStore(t,o);r.forEach((function(e){i.createIndex(e.indexName,e.keyPath,e.options)}))}},e.prototype.getStore=function(e){var t;return void 0===e&&(e="readonly"),null===(t=this.db)||void 0===t?void 0:t.transaction(this.storeName,e).objectStore(this.storeName)},e}(),O="event_table_v3",k="eventId",I=function(){function e(e,t){this.isReady=!1,this.taskQueue=Promise.resolve(),this.db=new x({name:"Beacon_"+e+"_V3",version:1,stores:[{name:O,options:{keyPath:k},indexes:[{indexName:k,keyPath:k,options:{unique:!0}}]}]}),this.open(t)}return e.prototype.getCount=function(){var e=this;return this.readyExec((function(){return e.db.getStoreCount()}))},e.prototype.setItem=function(e,t){var n=this;return this.readyExec((function(){return n.db.add({eventId:e,value:t})}))},e.prototype.getItem=function(e){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(n){return[2,this.readyExec((function(){return t.db.getDataRangeByIndex(k,e,e)}))]}))}))},e.prototype.removeItem=function(e){var t=this;return this.readyExec((function(){return t.db.removeDataByIndex(k,e,e)}))},e.prototype.removeItemList=function(e){var t=this;return this.readyExec((function(){return t.db.removeList(k,e)}))},e.prototype.updateItem=function(e,t){var n=this;return this.readyExec((function(){return n.db.put({eventId:e,value:t})}))},e.prototype.iterate=function(e){var t=this;return this.readyExec((function(){return t.db.getStoreAllData().then((function(t){t.forEach((function(t){e(t.value)}))})).catch((function(e){}))}))},e.prototype.open=function(e){return n(this,void 0,void 0,(function(){var t,n=this;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.taskQueue=this.taskQueue.then((function(){return n.db.openDB()})),[4,this.taskQueue];case 1:return r.sent(),this.isReady=!0,this.db.useStore(O),[3,3];case 2:return t=r.sent(),null==e||e.openDBFail(t),[3,3];case 3:return[2]}}))}))},e.prototype.readyExec=function(e){return this.isReady?e():(this.taskQueue=this.taskQueue.then((function(){return e()})),this.taskQueue)},e}(),_=function(){function e(e){this.keyObject={},this.storage=e}return e.prototype.getCount=function(){return this.storage.getStoreCount()},e.prototype.removeItem=function(e){this.storage.removeItem(e),delete this.keyObject[e]},e.prototype.removeItemList=function(e){var t=this;e.forEach((function(e){return t.removeItem(e)}))},e.prototype.setItem=function(e,t){var n=JSON.stringify(t);this.storage.setItem(e,n),this.keyObject[e]=t},e.prototype.iterate=function(e){for(var t=Object.keys(this.keyObject),n=0;n<t.length;n++){var r=this.storage.getItem(t[n]);e(JSON.parse(r))}},e}(),T=function(){function e(e,t){var n=this;this.dbEventCount=0;var r=S(),o=function(){n.store=new _(t),n.dbEventCount=n.store.getCount()};r>0||!window.indexedDB||/X5Lite/.test(navigator.userAgent)?o():(this.store=new I(e,{openDBFail:function(e){o()}}),this.getCount().then((function(e){n.dbEventCount=e})).catch((function(e){})))}return e.prototype.getCount=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.store.getCount()];case 1:return[2,e.sent()];case 2:return e.sent(),[2,Promise.reject()];case 3:return[2]}}))}))},e.prototype.insertEvent=function(e,t){return n(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:if(this.dbEventCount>=1e3)return[2,Promise.reject()];n=h(e.mapValue),r.label=1;case 1:return r.trys.push([1,3,,4]),this.dbEventCount++,[4,this.store.setItem(n,e)];case 2:return[2,r.sent()];case 3:return o=r.sent(),t&&t(o,e),this.dbEventCount--,[2,Promise.reject()];case 4:return[2]}}))}))},e.prototype.getEvents=function(){return n(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:e=[],t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.store.iterate((function(t){e.push(t)}))];case 2:case 3:return t.sent(),[2,Promise.all(e)];case 4:return[2]}}))}))},e.prototype.removeEvent=function(e){return n(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:t=h(e.mapValue),n.label=1;case 1:return n.trys.push([1,3,,4]),this.dbEventCount--,[4,this.store.removeItem(t)];case 2:return[2,n.sent()];case 3:return n.sent(),this.dbEventCount++,[2,Promise.reject()];case 4:return[2]}}))}))},e.prototype.removeEventList=function(e){return n(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:t=e.map((function(e){return h(e.mapValue)})),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.store.removeItemList(t)];case 2:return n=r.sent(),this.dbEventCount-=t.length-(null==n?void 0:n.length)||0,[3,4];case 3:return r.sent(),[2,Promise.reject()];case 4:return[2]}}))}))},e}(),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function R(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function C(e,t){var n=[null,void 0,"",NaN].includes(e);if(t.isSkipEmpty&&n)return null;var r=!t.isSkipEmpty&&n?"":e;try{return t.encode?encodeURIComponent(r):r}catch(e){return null}}function P(e,t){return new Promise((function(n,r){if(t&&document.querySelectorAll("script[data-tag="+t+"]").length)return n();var o=document.createElement("script"),i=A({type:"text/javascript",charset:"utf-8"},e);Object.keys(i).forEach((function(e){return function(e,t,n){if(e)return void 0===n?e.getAttribute(t):e.setAttribute(t,n)}(o,e,i[e])})),t&&(o.dataset.tag=t),o.onload=function(){return n()},o.onreadystatechange=function(){["complete","loaded"].includes(o.readyState)&&(o.onreadystatechange=null,n())},o.onerror=r,document.body.appendChild(o)}))}!function(e){e[e.equal=0]="equal",e[e.low=-1]="low",e[e.high=1]="high"}(E||(E={}));var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function N(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function D(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var L=function(){function e(){this.interceptors=[]}return e.prototype.use=function(e,t){return this.interceptors.push({resolved:e,rejected:t}),this.interceptors.length-1},e.prototype.traverse=function(e,t){void 0===t&&(t=!1);var n=Promise.resolve(e);return(t?Array.prototype.reduceRight:Array.prototype.reduce).call(this.interceptors,(function(e,t){return t&&(n=n.then(t.resolved,t.rejected)),e}),""),n},e.prototype.eject=function(e){this.interceptors[e]&&(this.interceptors[e]=null)},e}(),q={defaults:{timeout:0,method:"GET",mode:"cors",redirect:"follow",credentials:"same-origin"},headers:{common:{Accept:"application/json, text/plain, */*"},POST:{"Content-Type":"application/x-www-form-urlencoded"},PUT:{"Content-Type":"application/x-www-form-urlencoded"},PATCH:{"Content-Type":"application/x-www-form-urlencoded"}},baseURL:"",polyfillUrl:"https://vm.gtimg.cn/comps/script/fetch.min.js",interceptors:{request:new L,response:new L}},M=/^([a-z][a-z\d+\-.]*:)?\/\//i,U=Object.prototype.toString;function B(e){return N(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:if(window.fetch)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,P({src:e})];case 2:return n.sent(),[3,4];case 3:throw t=n.sent(),new Error("加载 polyfill "+e+" 失败: "+t.message);case 4:return[2]}}))}))}function F(e){return N(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,p,d,h,v,m,g;return D(this,(function(y){switch(y.label){case 0:return t=q.baseURL,n=q.defaults,r=q.interceptors,[4,B(q.polyfillUrl)];case 1:return y.sent(),(o=j(j({},n),e)).headers||(o.headers=function(e){void 0===e&&(e="GET");var t=q.headers[e]||{};return j(j({},q.headers.common),t)}(o.method)),function(e){["Accept","Content-Type"].forEach((function(t){return n=t,void((r=e.headers)&&Object.keys(r).forEach((function(e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=r[e],delete r[e])})));var n,r})),function(e){if("[object Object]"!==U.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}(e.body)&&(e.body=JSON.stringify(e.body),e.headers&&(e.headers["Content-Type"]="application/json;charset=utf-8"))}(o),[4,r.request.traverse(o,!0)];case 2:if((i=y.sent())instanceof Error)throw i;return i.url=function(e,t){return!e||M.test(t)?t:e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}(t,i.url),a=i.url,s=i.timeout,u=i.params,l=["GET","DELETE","OPTIONS","HEAD"].includes(void 0===(c=i.method)?"GET":c)&&!!u,f=l?function(e,t){void 0===t&&(t={encode:!0,isSkipEmpty:!1});var n=e.url,r=e.query,o=void 0===r?{}:r,i=e.hash,a=n.split("#"),s=a[1],u=void 0===s?"":s,c=a[0].split("?")[0],l=[],f=C(i||u,t),p=A(A({},function(e){var t=e.split("#"),n=t[1],r=void 0===n?"":n,o=t[0].split("?"),i=o[0],a=o[1],s=void 0===a?"":a,u=R(r),c=Object.create(null);return s.split("&").forEach((function(e){var t=e.split("="),n=t[1],r=void 0===n?"":n,o=R(t[0]),i=R(r);null===o||null===i||""===o&&""===i||c[o]||(c[o]=i)})),{url:i,query:c,hash:u}}(n).query),o);return Object.keys(p).forEach((function(e){var n=C(e,t),r=C(p[e],t);null!==n&&null!==r&&l.push(n+"="+r)})),c+(l.length?"?"+l.join("&"):"")+(f?"#"+f:"")}({url:a,query:u}):a,p=[],s&&!i.signal&&(v=new Promise((function(e){d=setTimeout((function(){e(new Error("timeout"))}),s)})),p.push(v),h=new AbortController,i.signal=h.signal),p.push(fetch(f,i).catch((function(e){return e}))),[4,Promise.race(p)];case 3:return m=y.sent(),d&&clearTimeout(d),[4,r.response.traverse(m)];case 4:if((g=y.sent())instanceof Error)throw null==h||h.abort(),g;return[2,g]}}))}))}var H=function(){function e(e){q.interceptors.request.use((function(n){var r=n.method,o=n.body,i=o;if(e.onReportBeforeSend){var a=e.onReportBeforeSend({url:n.url,method:r,data:o?JSON.parse(o):null});i=(null==a?void 0:a.data)?JSON.stringify(a.data):null}return"GET"!=r&&i?t(t({},n),{body:i}):n}))}return e.prototype.get=function(e,o){return n(this,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,F(t({url:e},o))];case 1:return[4,(n=r.sent()).json()];case 2:return i=r.sent(),[2,Promise.resolve({data:i,status:n.status,statusText:n.statusText,headers:n.headers})]}}))}))},e.prototype.post=function(e,o,i){return n(this,void 0,void 0,(function(){var n,a;return r(this,(function(r){switch(r.label){case 0:return[4,F(t({url:e,body:o,method:"POST"},i))];case 1:return[4,(n=r.sent()).json()];case 2:return a=r.sent(),[2,Promise.resolve({data:a,status:n.status,statusText:n.statusText,headers:n.headers})]}}))}))},e}(),V=function(){function e(e){this.appkey=e}return e.prototype.getItem=function(e){try{return window.localStorage.getItem(this.getStoreKey(e))}catch(e){return""}},e.prototype.removeItem=function(e){try{window.localStorage.removeItem(this.getStoreKey(e))}catch(e){}},e.prototype.setItem=function(e,t){try{window.localStorage.setItem(this.getStoreKey(e),t)}catch(e){}},e.prototype.setSessionItem=function(e,t){try{window.sessionStorage.setItem(this.getStoreKey(e),t)}catch(e){}},e.prototype.getSessionItem=function(e){try{return window.sessionStorage.getItem(this.getStoreKey(e))}catch(e){return""}},e.prototype.getStoreKey=function(e){return o+this.appkey+"_"+e},e.prototype.createDeviceId=function(){try{var e=window.localStorage.getItem(i);return e||(e=function(){for(var e="",t=0;t<32;t++)e+="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789".charAt(Math.floor(51*Math.random()));return e}(),window.localStorage.setItem(i,e)),e}catch(e){return""}},e.prototype.clear=function(){try{for(var e=window.localStorage.length,t=0;t<e;t++){var n=window.localStorage.key(t);(null==n?void 0:n.substr(0,9))==o&&window.localStorage.removeItem(n)}}catch(e){}},e.prototype.getStoreCount=function(){var e=0;try{e=window.localStorage.length}catch(e){}return e},e}(),W="logid_start",G="4.5.30-web",J=function(n){function r(e){var t=n.call(this,e)||this;if(t.qimei36="",t.uselessCycleTaskNum=0,t.underWeakNet=!1,t.pauseSearching=!1,t.lsEnable=!0,t.throttleTimer=null,t.throttleBuffer=[],t.send=function(e,n,r){t.storage.setItem(a,Date.now().toString()),t.network.post(t.uploadUrl||t.strategy.getUploadUrl(),e.data).then((function(r){var o;t.delayTime=100==(null===(o=null==r?void 0:r.data)||void 0===o?void 0:o.result)?1e3*r.data.delayTime:0,n&&n(e.data);var i=e.data.events;t.store.removeEventList(i).then((function(){i.forEach((function(e){return t.removeSendingId(h(e.mapValue))}))})).catch((function(e){})),t.doCustomCycleTask()})).catch((function(n){var o=e.data.events;t.errorReport.reportError(n.code?n.code.toString():"600",n.message),r&&r(e.data);var i=JSON.parse(t.storage.getItem(s));o.forEach((function(e){i&&-1!=i.indexOf(h(e))&&t.store.insertEvent(e,(function(e,n){e&&t.errorReport.reportError("604","insertEvent fail!")})),t.removeSendingId(h(e))})),t.monitorUploadFailed()}))},!window.localStorage)return t.errorReport.reportError("605","no localStorage!"),t.lsEnable=!1,t;var r,o,i=S();return t.isUnderIE8=i>0&&i<8,t.isUnderIE8||(t.isUnderIE=i>0,e.needInitQimei&&function(e,t){var n;(void 0===n&&(n=Date.now()+"-"+Math.random()),new Promise((function(e,t){if(document.getElementById(n))e(void 0);else{var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.onload=function(){return function(){o.onload=null,e(void 0)}},o.onerror=function(e){o.onerror=null,r.removeChild(o),t(e)},o.src="https://tun-cos-1258344701.file.myqcloud.com/fp.js",o.id=n,r.appendChild(o)}}))).then((function(){(new Fingerprint).getQimei36(e,t)})).catch((function(e){}))}(e.appkey,(function(e){t.qimei36=e.q36})),t.network=new H(e),t.storage=new V(e.appkey),t.initCommonInfo(e),t.store=new T(e.appkey,t.storage),t.errorReport=new g(t.config,t.commonInfo,"web",t.network),t.strategy=new y(null==e.needQueryConfig||e.needQueryConfig,t.config,t.commonInfo,t.storage,t.network),t.logidStartTime=t.storage.getItem(W),t.logidStartTime||(t.logidStartTime=Date.now().toString(),t.storage.setItem(W,t.logidStartTime)),r=t.logidStartTime,o=Date.now()-Number.parseFloat(r),Math.floor(o/864e5)>=365&&t.storage.clear(),t.initSession(e),t.onDirectUserAction("rqd_js_init",{}),setTimeout((function(){return t.lifeCycle.emit("init")}),0),t.storage.setItem(s,"[]"),t.initDelayTime=e.delay?e.delay:1e3,t.cycleTask(t.initDelayTime)),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(r,n),r.prototype.initSession=function(e){var t=18e5;e.sessionDuration&&e.sessionDuration>3e4&&(t=e.sessionDuration),this.beaconSession=new w(this.storage,t,this)},r.prototype.initCommonInfo=function(e){var t=Number(this.storage.getItem(a));try{var n=JSON.parse(this.storage.getItem(s));(Date.now()-t>3e4||!n)&&this.storage.setItem(s,JSON.stringify([]))}catch(e){}e.uploadUrl&&(this.uploadUrl=e.uploadUrl+"?appkey="+e.appkey);var r=[window.screen.width,window.screen.height];window.devicePixelRatio&&r.push(window.devicePixelRatio),this.commonInfo={deviceId:this.storage.createDeviceId(),language:navigator&&navigator.language||"zh_CN",query:window.location.search,userAgent:navigator.userAgent,pixel:r.join("*"),channelID:e.channelID?String(e.channelID):"",openid:e.openid?String(e.openid):"",unid:e.unionid?String(e.unionid):"",sdkVersion:G},this.config.appVersion=e.versionCode?String(e.versionCode):"",this.config.strictMode=e.strictMode},r.prototype.cycleTask=function(e){var t=this;this.intervalID=window.setInterval((function(){t.pauseSearching||t.store.getEvents().then((function(e){0==e.length&&(t.pauseSearching=!0);var n=[],r=JSON.parse(t.storage.getItem(s));r||(r=[]),e&&e.forEach((function(e){var t=h(e.mapValue);-1==r.indexOf(t)&&(n.push(e),r.push(t))})),r.length>1e3&&(r=[]),0!=n.length&&(t.storage.setItem(s,JSON.stringify(r)),t._normalLogPipeline(t.assembleData(n)))})).catch((function(e){}))}),e)},r.prototype.thottleReport=function(e){var t,n=this;if((t=this.throttleBuffer).push.apply(t,e),this.throttleBuffer.length>=500){var r=this.throttleBuffer.slice(0);this.throttleBuffer.length=0,this._normalLogPipeline(this.assembleData(r))}else{if(this.throttleTimer)return;this.throttleTimer=setTimeout((function(){var e=n.throttleBuffer.slice(0);n.throttleBuffer.length=0,n._normalLogPipeline(n.assembleData(e)),n.throttleTimer=null}),1e3)}},r.prototype.onReport=function(e,t,n){var r=this;if(this.lsEnable)if(this.isUnderIE8)this.errorReport.reportError("601","UnderIE8");else{this.pauseSearching=!1;var o=this.generateData(e,t,n);if(n&&0==this.delayTime&&!this.underWeakNet)this._normalLogPipeline(this.assembleData(o));else{var i=o.shift();i&&this.store.insertEvent(i,(function(e){e&&r.errorReport.reportError("604","insertEvent fail!")})).catch((function(e){r.thottleReport([i])}))}}},r.prototype.onSendBeacon=function(e,t){if(this.lsEnable)if(this.isUnderIE)this.errorReport.reportError("605","UnderIE");else{this.pauseSearching=!1;var n=this.assembleData(this.generateData(e,t,!0));"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.uploadUrl||this.strategy.getUploadUrl(),JSON.stringify(n))}},r.prototype.generateData=function(e,n,r){var o=[],i=G+"_"+(r?"direct_log_id":"normal_log_id"),a=Number(this.storage.getItem(i));return a=a||1,n=t(t({},n),{A99:r?"Y":"N",A100:a.toString(),A72:G,A88:this.logidStartTime}),a++,this.storage.setItem(i,a.toString()),o.push({eventCode:e,eventTime:Date.now().toString(),mapValue:p(n,this.config.strictMode)}),o},r.prototype.assembleData=function(e){var n=this.beaconSession.getSession();return{appVersion:this.config.appVersion?d(this.config.appVersion):"",sdkId:"js",sdkVersion:G,mainAppKey:this.config.appkey,platformId:3,common:p(t(t({},this.additionalParams),{A2:this.commonInfo.deviceId,A8:this.commonInfo.openid,A12:this.commonInfo.language,A17:this.commonInfo.pixel,A23:this.commonInfo.channelID,A50:this.commonInfo.unid,A76:n.sessionId,A101:this.commonInfo.userAgent,A102:window.location.href,A104:document.referrer,A119:this.commonInfo.query,A153:this.qimei36}),!1),events:e}},r.prototype.monitorUploadFailed=function(){this.uselessCycleTaskNum++,this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(6e4),this.underWeakNet=!0)},r.prototype.doCustomCycleTask=function(){this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(this.initDelayTime)),this.uselessCycleTaskNum=0,this.underWeakNet=!1},r.prototype.setQimei=function(e){this.qimei36=e},r}(m);return J}(),ae={exports:{}},se={exports:{}};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(se);var ue={exports:{}};!function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports}(ue);var ce={exports:{}},le={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}(le),function(e){var t=le.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(ce);var fe={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(fe),function(e){var t=se.exports,n=ue.exports,r=ce.exports,o=fe.exports;e.exports=function(e,i){return t(e)||n(e,i)||r(e,i)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(ae);var pe=D(ae.exports),de=function(e){return(e||"").split("").reduce((function(e,t){return t.charCodeAt(0)+(e<<6)+(e<<16)-e}),0)},he=function(e){return e instanceof RegExp?e.toString():"object"===H(e)?JSON.stringify(e):e},ve=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),me={throttle:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=Date.now();return function(){for(var i=this,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];clearTimeout(t);var c=function(){o=Date.now(),t=null,e.apply(i,s)};(n=Date.now()-o)>r?c():t=setTimeout(c,r-n)}},debounce:function(e,t){var n;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n&&clearTimeout(n),n=setTimeout((function(){e.apply(r,i),n=null}),t)}},copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},hashcode:de,getEid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return String(de(t?"".concat(e,"~~").concat(t):e))},formatText:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[\r\n]/g,"").replace(/\s/g,"").slice(0,40)},mergeArrays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(e)?e:(null==e?void 0:e([]))||[],r=[];t&&(r=Array.isArray(t)?n.concat(t):t(n));var o=[];return null==r||r.forEach((function(e){o.some((function(t){return he(t)===he(e)}))||o.push(e)})),o},getStayTime:function(e,t){return e<=t?e:t},strOrRegMatchFunc:function(e,t){return e instanceof RegExp?e.test(t):e===t},getJsonFromString:function(e){var t=null;try{t=JSON.parse(e)}catch(e){t=null}return t},isMobile:ve,uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},setTimeoutWithRAF:function(e,t){var n=0,r=0;return r=requestAnimationFrame((function o(i){r&&(n||(n=i),i-n>=t?(e(),cancelAnimationFrame(r)):r=requestAnimationFrame(o))})),{clear:function(){r&&(cancelAnimationFrame(r),r=0)},rafId:r}}};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=me.uuidv4,we=function(){var e=navigator.userAgent.match(/NetType\/(\w+)/),t="";if(e&&e.length>1)t=pe(e,2)[1];else{var n=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{},r=n.effectiveType,o=n.type;t=(void 0===r?"":r)||(void 0===o?"":o)}var i={wifi:"1","2g":"2","3g":"3","4g":"4","5g":"5","6g":"6"};return t&&i[t]?i[t]:"100"},Se=function(){var e,t,n,r,o,i,a,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,f=window.ATInfo,p=f.uid,d=f.sdkVersion,h=ye({id:"VbBIPNcGnBRAvRvYXE",uin:(void 0===p?"":p)||"_0",version:void 0===d?"":d,aid:be(),env:location.port?"local":"production",sessionId:"session-".concat(Date.now()),from:encodeURIComponent(location.href),platform:(t=navigator.userAgent,n=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||"unknown",r=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,o=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),i=["Win32","Windows"].includes(n),a=["Mac68K","MacPPC","Macintosh","MacIntel","macOS"].includes(n),s=String(n).indexOf("Linux")>-1,r?"1":o?"2":i?"3":a?"4":s?"5":"100"),netType:we(),vp:"".concat(c," * ").concat(l),sr:"".concat(screen.width," * ").concat(screen.height),referer:encodeURIComponent(document.referrer)},u),v="";return Object.keys(h).forEach((function(e,t){v+="".concat(0===t?"":"&").concat(e,"=").concat(h[e])})),v},Ee=function(e){var t=e.bodyData,n=void 0===t?"":t,r=e.queries,o=e.url,i=e.method,a=void 0===i?"post":i;fetch("".concat(void 0===o?"https://aegis.qq.com/collect":o,"?").concat(r),ye({method:a,headers:{"content-type":"application/json"}},n?{body:n}:{})).catch((function(e){}))},xe={reportError:function(e,t){var n=JSON.stringify({level:[4],count:1,msg:[String(null==t?void 0:t.stack)]}),r=window.ATInfo.appkey,o=void 0===r?"":r,i=Se({ext1:encodeURIComponent(e),ext2:o});Ee({bodyData:n,queries:i})},customReport:function(e,t){var n=JSON.stringify({level:[8192],count:1,msg:[e]}),r=localStorage.getItem("__BEACON_deviceId")||"",o=window.ATInfo.appkey,i=Se({name:e,ext1:void 0===o?"":o,ext2:t.openType,ext3:r});Ee({bodyData:n,queries:i})}},Oe=["code","event","eid","remark"],ke=["appkey","code"];function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=null,Ae={exports:{}},Re={exports:{}};!function(e){var t=le.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(Re);var Ce={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(Ce);var Pe={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(Pe),function(e){var t=Re.exports,n=Ce.exports,r=ce.exports,o=Pe.exports;e.exports=function(e){return t(e)||n(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(Ae);var je=D(Ae.exports);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=xe.reportError,Me=me.getJsonFromString,Ue=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=[];return t&&o.push.apply(o,je(Array.prototype.slice.call(n.querySelectorAll(t)))),0===r.length||Array.prototype.slice.call(n.querySelectorAll(r.join(","))).forEach((function(n){n.shadowRoot&&o.push.apply(o,je(e(t,n.shadowRoot,r)))})),o},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[];if(!e)return r;var o=(Me(e)||[e]).filter(Boolean);try{var i=o.length;if(i>1){var a=Array.prototype.slice.call(document.querySelectorAll(o[i-1]));if(0===a.length)return[];for(var s=a,u=function(){var e=o[c],t=[];if(s.forEach((function(n){n.shadowRoot&&t.push.apply(t,je(Array.prototype.slice.call(n.shadowRoot.querySelectorAll(e))))})),0===t.length)return s=[],1;s=t},c=i-2;c>=0&&!u();c--);return s.filter((function(e){return t===document||t.contains(e)}))}return Ue(e,t,n)}catch(e){qe("getQuerySelectorAll error",e),r=[]}return r},Fe=function(e){var t=[],n=[];return e.forEach((function(e){Me(e)?n.push(e):t.push(e)})),{normalSelectors:t,mutiSelectors:n}},He=function(e,t){if(!e||!t||e.nodeType!==ee.ELEMENT_NODE)return!1;if(Me(t))return!!Be(t).find((function(t){return t===e}));var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;return!!r&&r.call(e,t)},Ve=function(e){var t=e.name,n=e.value,r=e.transformAttributeKey,o={};if("function"==typeof r){var i=r(t);i&&(o[i]=n)}else o[t]=n;return o},We=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;if(!r||0===r.childNodes.length)return null;if(Array.prototype.slice.call(r.childNodes).some((function(e){return e===t})))return r;var o=null;return Array.prototype.slice.call(Be(n.join(","),r)).find((function(r){if(r.shadowRoot){var i=e(t,n,r.shadowRoot);return i&&(o=i),!!i}return!1})),o},Ge={isNull:function(e){return"null"===Object.prototype.toString.call(e).replace(/\[object[\s]/,"").replace("]","").toLowerCase()},elementMatches:He,getClosest:function(e,t){if(!t)return null;if(Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(He(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),Array.isArray(t)){var n=null;return t.find((function(t){var r=e.closest(t);return null!==r&&(n=r),!!r})),n}return e.closest(t)},getDataFromAttrKey:function(e,t){var n="",r=Array.isArray(t)?t:[t],o=e.findIndex((function(e){return r.some((function(t){var r,o=null===(r=e.getAttribute)||void 0===r?void 0:r.call(e,t);return!!o&&(n=o,!0)}))}));return{parentList:-1===o?[]:e.slice(o,e.length),attrValue:n}},getVisibleEventAttr:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;return void 0!==n.hidden?(e="hidden",t="visibilitychange"):void 0!==n.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==n.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{hidden:e,visibilityChange:t}},getTagAndOtherSelector:function(){var e=[],t=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){/^[a-zA-Z]+$/.test(n)?e.push(n):t.push(n)})),{tagSelectors:e,otherSelectors:t}},getQuerySelectorAll:Be,getAttributesParams:function(e,t){var n={};return t.forEach((function(t){var r="",o={};if("string"==typeof t||t instanceof RegExp)r=t;else if((null==t?void 0:t.length)>0){var i=pe(t,2);r=i[0],o=i[1]}if(r){var a=null==o?void 0:o.transformAttributeKey;if(r instanceof RegExp){var s,u=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e.attributes);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=c.name,f=c.value;r.test(l)&&(n=De(De({},n),Ve({name:l,value:f,transformAttributeKey:a})))}}catch(e){u.e(e)}finally{u.f()}}else{var p=e.getAttribute(r);p&&(n=De(De({},n),Ve({name:r,value:p,transformAttributeKey:a})))}}})),n},getCoords:function(e){if(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=t.left+i-(r.clientLeft||n.clientLeft||0);return{top:Math.round(t.top+o-(r.clientTop||n.clientTop||0)),left:Math.round(a)}}return{top:0,left:0}},isElement:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":H(HTMLElement))?e instanceof HTMLElement:!!e&&"object"===H(e)&&1===e.nodeType&&"string"==typeof e.nodeName},getParents:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=e;r;)n.push(r),r="HTML"===r.tagName&&r!==window.document.documentElement&&t.length>0?We(r,t):r.parentNode||r.host;return n},getShadowHostDoms:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1?arguments[1]:void 0,r=[];return n.forEach((function(o){var i=Array.prototype.slice.call(t.querySelectorAll(o));0!==i.length&&(r.push.apply(r,je(i)),i.forEach((function(t){var o=e(t,n);r.push.apply(r,je(o))})))})),r},getElementsFromQueryDoms:function(e,t){var n=Fe(e),r=n.mutiSelectors,o=Be(n.normalSelectors.join(","),t);return r.forEach((function(e){var n=Be(e,t);o.push.apply(o,je(n))})),o},isAtPanelElement:function(e){var t,n;return null===(n=null===(t=null==e?void 0:e.className)||void 0===t?void 0:t.match)||void 0===n?void 0:n.call(t,/at-inspector|at-heat|at-kit/)},elementMatchSelectors:function(e,t){var n=Fe(t),r=n.mutiSelectors;return!!He(e,n.normalSelectors.join(","))||!!r.some((function(t){return He(e,t)}))}};function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t){if(e){if("string"==typeof e)return Je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e){return $e="function"==typeof Symbol&&"symbol"==T(Symbol.iterator)?function(e){return T(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":T(e)},$e(e)}function ze(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xe={},Ye=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))},Ze="%[a-f0-9]{2}",et=new RegExp("("+Ze+")|([^%]+?)","gi"),tt=new RegExp("("+Ze+")+","gi");function nt(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;var n=e.slice(0,t=t||1),r=e.slice(t);return Array.prototype.concat.call([],nt(n),nt(r))}function rt(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(et)||[],n=1;n<t.length;n++)t=(e=nt(t,n).join("")).match(et)||[];return e}}var ot=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+$e(e)+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=tt.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=rt(n[0]);r!==n[0]&&(t[n[0]]=r)}n=tt.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),i=0;i<o.length;i++){var a=o[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}(e)}},it=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},at=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var a=r[i],s=e[a];(o?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n};function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){var t=Ye,n=ot,r=it,o=at;function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function a(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function s(e,t){return t.decode?n(e):e}function u(e){return Array.isArray(e)?e.sort():"object"===$e(e)?u(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function c(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){var t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),r[e=e.replace(/\[\]$/,"")]=t?void 0!==r[e]?[].concat(r[e],n):[n]:n};case"comma":case"separator":return function(t,n,r){var o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&s(n,e).includes(e.arrayFormatSeparator);n=i?s(n,e):n;var a=o||i?n.split(e.arrayFormatSeparator).map((function(t){return s(t,e)})):null===n?n:s(n,e);r[t]=a};default:return function(e,t,n){n[e]=void 0!==n[e]?[].concat(n[e],t):t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var a,c=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e.split("&"));try{for(c.s();!(a=c.n()).done;){var l=a.value;if(""!==l){var p=Qe(r(t.decode?l.replace(/\+/g," "):l,"="),2),d=p[0],h=p[1];h=void 0===h?null:["comma","separator"].includes(t.arrayFormat)?h:s(h,t),n(s(d,t),h,o)}}}catch(e){c.e(e)}finally{c.f()}for(var v=0,m=Object.keys(o);v<m.length;v++){var g=m[v],y=o[g];if("object"===$e(y)&&null!==y)for(var b=0,w=Object.keys(y);b<w.length;b++){var S=w[b];y[S]=f(y[S],t)}else o[g]=f(y,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return e[t]=Boolean(n)&&"object"===$e(n)&&!Array.isArray(n)?u(n):n,e}),Object.create(null))}e.extract=l,e.parse=p,e.stringify=function(e,t){if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(ze(n),null===r?[[a(t,e),"[",o,"]"].join("")]:[[a(t,e),"[",a(o,e),"]=",a(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(ze(n),null===r?[[a(t,e),"[]"].join("")]:[[a(t,e),"[]=",a(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null==r||0===r.length?n:0===n.length?[[a(t,e),"=",a(r,e)].join("")]:[[n,a(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(ze(n),null===r?[a(t,e)]:[[a(t,e),"=",a(r,e)].join("")])}}}}(t),r={},o=0,s=Object.keys(e);o<s.length;o++){var u=s[o];c=u,t.skipNull&&null==e[c]||t.skipEmptyString&&""===e[c]||(r[u]=e[u])}var c,l=Object.keys(r);return!1!==t.sort&&l.sort(t.sort),l.map((function(r){var o=e[r];return void 0===o?"":null===o?a(r,t):Array.isArray(o)?o.reduce(n(r),[]).join("&"):a(r,t)+"="+a(o,t)})).filter((function(e){return e.length>0})).join("&")},e.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=Qe(r(e,"#"),2),o=n[1];return Object.assign({url:n[0].split("?")[0]||"",query:p(l(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:s(o,t)}:{})},e.stringifyUrl=function(t,n){n=Object.assign({encode:!0,strict:!0},n);var r=c(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),s=Object.assign(i,t.query),u=e.stringify(s,n);u&&(u="?".concat(u));var l=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(t.url);return t.fragmentIdentifier&&(l="#".concat(a(t.fragmentIdentifier,n))),"".concat(r).concat(u).concat(l)},e.pick=function(t,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=e.parseUrl(t,r),a=i.fragmentIdentifier;return e.stringifyUrl({url:i.url,query:o(i.query,n),fragmentIdentifier:a},r)},e.exclude=function(t,n,r){var o=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return e.pick(t,o,r)}}(Xe);var lt=xe.reportError,ft=function(e,t){return Object.keys(e).reduce((function(n,r){return n["".concat(t).concat(r.toLowerCase())]=e[r]||"",n}),{})},pt=function(e){return e&&e.length>=2&&"#/"===e.substring(0,2)},dt=me.strOrRegMatchFunc,ht=function(e){return e>=128||45===e||95===e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122},vt=function(e){var t=String(e),n=t.length,r="",o=t.charCodeAt(0);if(1===n&&45===o)return"\\".concat(t);for(var i=0;i<n;i++){var a=t.charCodeAt(i);0!==a?a>=1&&a<=31||127===a||0===i&&a>=48&&a<=57||1===i&&a>=48&&a<=57&&45===o?r+="\\".concat(a.toString(16)," "):ht(a)?(r+=t.charAt(i),i+=1):r+="\\".concat(t.charAt(i)):r+="�"}return r},mt=function(e){return e.replace(/("|\n)/g,(CSS.escape||vt)("$1"))},gt=function(e,t){var n=t.ignore,r=t.match;return je(e.attributes).reduce((function(e,t){var o=t.nodeName,i=t.value;return r.find((function(e){return dt(e,o)}))&&!n.find((function(e){return dt(e,o)}))&&e.push("[".concat(o,'="').concat(mt(i),'"]')),e}),[])},yt=me.strOrRegMatchFunc,bt=function(e,t){var n=function(e,t){var n=t.ignore,r=t.match;if(!e.hasAttribute("class"))return[];var o=[];try{o=Array.prototype.slice.call(e.classList)}catch(t){o=e.getAttribute("class").trim().replace(/\s+/g," ").split(" ")}return o.filter((function(e){return/^[a-z_-][a-z\d_-]*$/i.test(e)&&r.find((function(t){return yt(t,e)}))&&!n.find((function(t){return yt(t,e)}))}))}(e,t).filter(Boolean);return n.map((function(e){return".".concat(e)}))},wt=function e(t,n,r,o,i,a,s){if(a!==s)for(var u=o;u<=i&&i-u+1>=s-a;++u)r[a]=n[u],e(t,n,r,u+1,i,a+1,s);else t.push(r.slice(0,a).join(""))},St=function(e){var t=e.getAttribute("id");return null!==t&&""!==t?/^\d|:|\.|%|\$|#|=|\||\//.test(t)?'[id="'.concat(t,'"]'):"#".concat(t):null},Et=Ge.isElement,xt=function(e){var t=e.parentNode;if(Boolean(t)){var n=Array.prototype.slice.call(t.children).findIndex((function(t){return Et(t)&&t===e}));if(n>-1)return":nth-child(".concat(n+1,")")}return null},Ot=Ge.getQuerySelectorAll,kt=function(e,t){if(!Boolean(t))return!1;var n=e[0],r=e[e.length-1],o=Ot(t,r.parentNode?r.parentNode:r);return 1===o.length&&o[0]===n};function It(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt=Ge.getQuerySelectorAll,At=xe.reportError,Rt=function(e,t){var n=e.parentNode;if(!n)return!0;var r=Tt(t,n);return 1===r.length&&r[0]===e},Ct=function(e,t){return t.find((function(t){return Rt(e,t)}))},Pt=function(e,t,n){var r=function(e){for(var t=[],n=e.length,r=[],o=1;o<=3;++o)wt(t,e,r,0,n-1,0,o);return t}(t),o=Ct(e,r);return Boolean(o)||Boolean(n)&&(r=r.map((function(e){return n+e})),o=Ct(e,r),Boolean(o))?o:null},jt=function(e,t,n){var r,o,i=n.useAttribute,a=n.useClass,s=null===(r=e.tagName)||void 0===r?void 0:r.toLowerCase().replace(/:/g,"\\:"),u=It(t);try{for(u.s();!(o=u.n()).done;)switch(o.value){case"ID":var c=St(e);if(Boolean(c)&&Rt(e,c))return c;break;case"Attributes":var l=gt(e,i);if(Boolean(l)&&l.length){var f=Pt(e,l,s);if(f)return f}break;case"Class":var p=bt(e,a);if(Boolean(p)&&p.length){var d=Pt(e,p,s);if(d)return d}break;case"Tag":if(Boolean(s)&&Rt(e,s))return s;break;case"NthChild":var h=xt(e);if(Boolean(h))return h}}catch(e){u.e(e)}finally{u.f()}return"*"},Nt=function(e,t){var n,r=t.useAttribute,o=t.useClass,i=[t.useId&&"ID",r.match.length>0&&"Attributes",o.match.length>0&&"Class","Tag","NthChild"].filter((function(e){return!!e})),a=[],s=It(e);try{for(s.s();!(n=s.n()).done;){var u=jt(n.value,i,{useAttribute:r,useClass:o});if(Boolean(u)){a.unshift(u);var c=a.join(" > ");if(kt(e,c))return c}}}catch(e){s.e(e)}finally{s.f()}return""},Dt={getUniqueSelector:function(e,t){try{if(e.length<=0)return[];for(var n=[],r=0;r<e.length;r++){var o=e[r];if(o.getAttribute("slot")&&r<e.length-1)for(var i=r+1;i<e.length;i++){var a=e[i];if(a===o.parentNode){n.push(o),n.push(a),r=i;break}i===e.length-1&&n.push(o)}else n.push(o)}if(n.length<=0)return[];for(var s=[],u=0,c=0;c<n.length;c++){var l=n[c];c>0&&l.shadowRoot&&n[c-1].parentNode!==l?(s.push(n.slice(u,c)),u=c):c===n.length-1&&s.push(n.slice(u,c+1))}for(var f=[],p=0,d=s;p<d.length;p++){var h=Nt(d[p],t);if(!h){f=[];break}f.push(h)}return f}catch(e){return At("getUniqueSelector error",e),[]}},SELECTOR_LINK:" > "},Lt={common:me,route:{getQueryAndParams:function(e,t,n,r){try{var o={};e&&(o=ct(ct({},o),Xe.parse(e))),r.forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)&&delete o[e]}));var i=ft(o,"qr_"),a=ft(t,"pr_"),s=ft(n,"rx_");return{queryObj:o,routerParams:ct(ct(ct({},i),a),s)}}catch(e){return lt("getQueryAndParams error",e),{}}},getRouteParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{var n={};return e.find((function(e){var r=e(t);return r&&(n=r.params),r})),n}catch(e){return lt("getRouteParams error",e),{}}},extendEvent:function(e){var t=window.history[e];return function(){var n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,window.dispatchEvent(r),n}},splitHashAndQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;try{var t=e.hostname,n=e.hash,r=e.search,o=e.pathname,i=void 0===o?"":o,a=n.indexOf("?"),s=pt(n),u={hostname:t,pathname:"".concat(i).concat(s?n:""),search:r};if(-1===a)return u;var c=n.substring(a);return c="?"===c?"":c,u.pathname="".concat(i).concat(s?n.substring(0,a):""),u.search=r&&"?"!==r?"".concat(r).concat(c?"&".concat(c.substring(1)):""):c,u}catch(e){return lt("splitHashAndQuery error",e),{hostname:"",pathname:"",search:""}}},isHashRouteChange:function(e,t){return e!==t&&(pt(e)||pt(t))},isQueryChange:function(e,t){var n=Xe.parse(e),r=Xe.parse(t),o=Object.keys(n),i=Object.keys(r);if(o.length!==i.length)return!0;for(var a=0,s=o;a<s.length;a++){var u=s[a];if(!i.includes(u))return!0;if(n[u]!==r[u])return!0}return!1}},domElement:Ge,unique:Dt,tamReport:xe,constant:te,getBeaconReporter:function(e){var t=e.appkey,n=void 0===t?"0AND05HGM55JG3O5":t,r=e.code,o=oe(e,ke);return Te||(Te=new ie(_e({appkey:n,delay:1e3},o))),function(e){return function(e){var t=e.code,n=e.event,r=e.eid,o=e.remark,i=oe(e,Oe);try{Promise.resolve().then((function(){var e=(null===window||void 0===window?void 0:window.ATInfo)||{},a=e.reportRouterinfo,s=_e({at_appkey:e.appkey,at_sdk_version:e.sdkVersion,at_hostname:(void 0===a?{hostname:""}:a).hostname,at_event_code:n||"",at_eid:r||"",at_remark:o||""},i);null==Te||Te.onUserAction(t,s)}))}catch(e){xe.reportError("".concat(t," Report error"),e)}}(_e(_e({},e),{},{code:r}))}}},qt=Lt.domElement,Mt=Lt.tamReport.reportError,Ut=qt.getQuerySelectorAll,Bt=qt.elementMatches,Ft=qt.getElementsFromQueryDoms,Ht=1e-4,Vt={childList:!0,subtree:!0},Wt=["useText"];function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt=Lt.domElement,Qt=Lt.common,$t=Lt.unique,zt=Lt.tamReport.reportError,Xt=Kt.getCoords,Yt=Kt.getQuerySelectorAll,Zt=Kt.getTagAndOtherSelector,en=Kt.elementMatches,tn=Kt.isAtPanelElement,nn=Qt.getEid,rn=Qt.formatText,on=Qt.strOrRegMatchFunc,an=$t.getUniqueSelector,sn=$t.SELECTOR_LINK,un=function(e){return!e.includes(">")&&!e.includes(",")&&!function(e){var t=[" ",">","~","+","|",","],n=e.split("").find((function(n,r){return r>0&&r<e.length&&" "===n&&!t.includes(e[r-1])&&!t.includes(e[r+1])}));return!!n}(e)},cn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=0,o="";if(!(null==e?void 0:e.length))return{domIndex:r,queryPath:o};var i="",a=[],s=t.findIndex((function(t){return i=e.find((function(e){var n,o=-1!==(n=un(e)&&t.parentNode?Yt(e,t.parentNode).findIndex((function(e){return e===t})):Yt(e,t.ownerDocument).findIndex((function(e){return e===t})));return o&&(r=n+1),o})),a.unshift(i||t.tagName.toLowerCase()),!!i}));if(i)if(un(i)&&s<t.length-1){var u=an(t.slice(s+1,t.length),n);o=(null==u?void 0:u.length)>0?[u[0]].concat(a).join(sn):a.join(sn)}else o=a.join(sn);return{domIndex:r,queryPath:o}},ln=function(e,t){var n=pe(e,1)[0],r=n.className,o=n.attributes,i=rn(n.innerText),a=Xt(n),s={};Array.prototype.slice.call(o).filter((function(e){var t=e.nodeName,n=e.value;return!Q.find((function(e){return on(e,t)}))&&n})).forEach((function(e){s[e.nodeName]=e.value}));var u=JSON.stringify(s),c=t.autoStrategy,l=Zt(t.listSelector),f=l.tagSelectors,p=void 0===f?[]:f,d=l.otherSelectors,h=cn(void 0===d?[]:d,e,c),v=h.queryPath?h:cn(p,e,c);return Jt({text:i,classnames:r,attributes:"{}"===u?"":u,coordinate:"".concat(a.top,",").concat(a.left)},v)},fn={getTargetBasicInfo:ln,readElement:function(e,t){if((null==e?void 0:e.length)<1||e.find((function(e){return tn(e)})))return null;var n=ln(e,t),r=function(e,t,n){var r=n.autoStrategy,o=n.shadowHostSelector,i=pe(e,1)[0],a=r.useText,s=oe(r,Wt);if(a.length>0&&t){var u=a.find((function(e){return en(i,e)}));if(u){var c=Yt(u,document,o);if(1===c.length)return{queryDom:u,eid:nn(u)};if(!c.find((function(e){return e!==i&&rn(e.innerText)===t})))return{queryDom:u,eid:nn(u,t)}}}var l=an(e,s),f="";return 1===l.length?f=pe(l,1)[0]:l.length>1&&(f=JSON.stringify(l)),{queryDom:f,eid:nn(f)}}(e,n.text,t),o=r.queryDom,i=r.eid;return o?Jt(Jt({},n),{},{queryDom:o,eid:i}):null},getElementsFromData:function(e){var t=e.trackData,n=e.trackConfig;if(!n||!t)return[];try{var r=t.eid,o=n.keyAttribute,i=n.shadowHostSelector;if(!t.queryDom){var a=(Array.isArray(o)?o:[o]).map((function(e){return"[".concat(e,"='").concat(r,"']")})).join(",");return Yt(a,document,i)}var s=function(e,t){var n=e.trackData,r=n.queryDom,o=n.eid,i=n.text;if(nn(r)===o){var a=Yt(r);return 1===a.length?a[0]:null}if(nn(r,i)===o){var s=Yt(r,document,t).filter((function(e){return rn(e.innerText)===i}));return 1===s.length?s[0]:null}return null}({trackData:t},i);return s?[s]:[]}catch(e){return zt("getElementsFromData error",e),[]}}},pn=["useText","useAttribute","useClass"],dn=["autoSelector","shadowHostSelector","listSelector","autoStrategy","extraAttributes"],hn=["useText","useAttribute","useClass"],vn=["autoSelector","shadowHostSelector","listSelector","autoStrategy","extraAttributes"];function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn=fn.readElement,bn=fn.getTargetBasicInfo,wn=Lt.domElement,Sn=Lt.tamReport.reportError,En=wn.getDataFromAttrKey,xn=wn.getTagAndOtherSelector,On=wn.getAttributesParams,kn=wn.getParents,In=wn.isElement,_n=wn.elementMatchSelectors,Tn=Lt.common.mergeArrays,An=function(e,t){if(!(null==e?void 0:e.length))return[];var n=t.findIndex((function(t){return _n(t,e)}));return-1===n?[]:t.slice(n,t.length)},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ignore,r=t.ignore;return{match:Tn(e.match,t.match),ignore:Tn(n,r)}},Cn=function(e,t){try{var n=e.autoSelector,r=e.shadowHostSelector,o=e.listSelector,i=e.autoStrategy,a=void 0===i?{}:i,s=a.useText,u=a.useAttribute,c=a.useClass,l=oe(a,pn),f=e.extraAttributes,p=oe(e,dn),d=t.autoSelector,h=t.shadowHostSelector,v=t.listSelector,m=t.autoStrategy,g=void 0===m?{}:m,y=g.useText,b=g.useAttribute,w=g.useClass,S=oe(g,hn),E=t.extraAttributes,x=oe(t,vn);return gn(gn(gn({effectiveSelectors:[],remoteAutoSelector:[]},p),x),{},{autoSelector:Tn(n,d),shadowHostSelector:Tn(r,h),listSelector:Tn(o,v),autoStrategy:gn(gn(gn({},l),S),{},{useText:Tn(s,y),useAttribute:Rn(u,b),useClass:Rn(c,w)}),extraAttributes:Tn(f,E)})}catch(t){return Sn("mergeTrackConfigs error",t),e}},Pn=["name","for","role","type"],jn=["a","button","input","textarea"],Nn=["button"],Dn=["li","tr"],Ln=[/-active$/,/-selected$/,/-checked$/,/-disabled$/,/^is--/,/-is-/],qn=function(e){return gn({autoSelector:e?jn:Nn,keyAttribute:e?"dt-eid":"dt-areaid",listSelector:Dn,shadowHostSelector:[],autoStrategy:{useText:[],useId:!0,useAttribute:{match:Pn,ignore:Q},useClass:{match:[/.*/],ignore:Ln}},extraAttributes:[["dt-remark",{transformAttributeKey:function(e){return e.replace(/^dt-/,"")}}]]},e?{}:{areaDelay:1e3,areaThreshold:.5,trackStayarea:!1,repeated:!0})},Mn={domObserver:W((function e(t){var n=t.selectors,r=void 0===n?[]:n,o=t.shadowHostSelector,i=void 0===o?[]:o,a=t.onEnterView,s=t.onLeaveView,u=t.showAreaThreshold,c=void 0===u?Ht:u;M(this,e);try{IntersectionObserver.prototype.THROTTLE_TIMEOUT=300}catch(e){}this.selectors=r,this.shadowHostSelector=i,this.threshold=c>Ht&&c<=1?[Ht,c]:[Ht],this.intersectionInstance=null,this.mutationInstance=null,this.init({onEnterView:a,onLeaveView:s})}),[{key:"addObserveSelector",value:function(e){var t=this;if(e&&!this.selectors.includes(e)){this.selectors.push(e);var n=Ut(e,document,this.shadowHostSelector);n.length>0&&n.forEach((function(e){var n;e&&(null===(n=t.intersectionInstance)||void 0===n||n.observe(e))}))}}},{key:"unobserveTarget",value:function(e){var t;null===(t=this.intersectionInstance)||void 0===t||t.unobserve(e)}},{key:"disconnect",value:function(){var e,t;null===(e=this.intersectionInstance)||void 0===e||e.disconnect(),null===(t=this.mutationInstance)||void 0===t||t.disconnect()}},{key:"mutationChange",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add";try{var o=e;if([ee.DOCUMENT_FRAGMENT_NODE,ee.ELEMENT_NODE].includes(o.nodeType)){this.selectors.find((function(e){return Bt(o,e)}))&&t(o);var i=Ft(this.selectors,o);if(i.length>0&&i.forEach((function(e){e&&t(e)})),this.shadowHostSelector.length>0){var a=this.shadowHostSelector.join(","),s=Bt(o,a)?[o]:[],u=Ut(a,o).concat(s);u.length&&setTimeout((function(){u.forEach((function(e){var t,o=null==e?void 0:e.shadowRoot;o&&("add"===r&&(null===(t=n.mutationInstance)||void 0===t||t.observe(o,Vt)),n.mutationChange(o,(function(e){var t;return null===(t=n.intersectionInstance)||void 0===t?void 0:t.observe(e)})))}))}),0)}}}catch(e){Mt("domobserver mutationChange error",e)}}},{key:"init",value:function(e){var t=this,n=e.onEnterView,r=e.onLeaveView;this.intersectionInstance=new IntersectionObserver((function(e){try{null==e||e.forEach((function(e){var o=e.isIntersecting,i=e.target;o&&e.intersectionRatio>t.threshold[t.threshold.length-1]&&n(i),o||r(i)}))}catch(e){Mt("domobserver IntersectionObserver error",e)}}),{root:null,rootMargin:"0px",threshold:this.threshold}),this.mutationInstance=new MutationObserver((function(e){try{null==e||e.forEach((function(e){var n,o;null===(n=e.addedNodes)||void 0===n||n.forEach((function(e){t.mutationChange(e,(function(e){var n;return null===(n=t.intersectionInstance)||void 0===n?void 0:n.observe(e)}))})),null===(o=e.removedNodes)||void 0===o||o.forEach((function(e){t.mutationChange(e,(function(e){var n;r(e),null===(n=t.intersectionInstance)||void 0===n||n.unobserve(e)}),"remove")}))}))}catch(e){Mt("domobserver MutationObserver error",e)}})),document.body&&(this.mutationInstance.observe(document.body,Vt),this.mutationChange(document.body,(function(e){var n;return null===(n=t.intersectionInstance)||void 0===n?void 0:n.observe(e)})))}}]),element:fn,track:{getInitTrackConfig:function(e,t){return(Array.isArray(e)?e:[e]).reduce((function(e,n){return Cn(N[n][t?"click":"area"],e)}),qn(t))},mergeCustomConfig:function(e,t){var n=Cn(e,t),r=n.keyAttribute,o=n.autoSelector,i=Array.isArray(r)?r:[r];n.keyAttribute=i,i.forEach((function(e){var t,n="[".concat(e,"]");(null===(t=null==o?void 0:o.includes)||void 0===t?void 0:t.call(o,n))||null==o||o.push(n)}));var a=e.keyAttribute;return(Array.isArray(a)?a:[a]).forEach((function(e){var t="[".concat(e,"]"),n=o.findIndex((function(e){return e===t}));n>-1&&-1===i.findIndex((function(t){return t===e}))&&(null==o||o.splice(n,1))})),n},getEffectiveSelectors:function(e){return Array.from(new Set(e.filter((function(e){var t,n;if(!e)return!1;if("string"==typeof e)return!0;if(!e.selector)return!1;var r=null===(t=e.router)||void 0===t?void 0:t.pathname,o=null===(n=window.ATInfo.reportRouterinfo)||void 0===n?void 0:n.pathname;return!r||!o||("[object RegExp]"===Object.prototype.toString.call(r)?r.test(o):r.startsWith("^")?new RegExp(r).test(o):r===o)})).map((function(e){return e.selector||e}))))},trackClickDom:function(e,t){var n;try{var r=e.target;if(!r)return null;var o=t.keyAttribute,i=t.effectiveSelectors,a=t.extraAttributes,s=t.shadowHostSelector,u=(e instanceof MouseEvent||e instanceof TouchEvent?Array.prototype.slice.call((null===(n=e.composedPath)||void 0===n?void 0:n.call(e))||[]):kn(r,s)).filter((function(e){return In(e)})),c=En(u,o),l=c.parentList,f=c.attrValue;if(f){var p=pe(l,1)[0];return gn(gn(gn({},On(p,a)),bn(l,t)),{},{realTarget:p,eid:f})}if(i.length>0){var d=xn(i),h=d.tagSelectors,v=void 0===h?[]:h,m=d.otherSelectors,g=An(void 0===m?[]:m,u),y=g.length>0?g:An(v,u);if(y.length>0){var b=pe(y,1)[0],w=yn(y,t);return w?gn(gn(gn({},On(b,a)),w),{},{realTarget:b}):null}}return null}catch(e){return Sn("trackClickDom error",e),null}},trackExposeDom:function(e,t){try{var n=t.keyAttribute,r=t.extraAttributes,o=t.shadowHostSelector;if(!e||!_n(e,t.effectiveSelectors))return null;var i=kn(e,o).filter((function(e){return In(e)})),a="";(Array.isArray(n)?n:[n]).some((function(t){var n=e.getAttribute(t)||"";return!!n&&(a=n,!0)}));var s=On(e,r);if(a)return gn(gn(gn({},s),bn(i,t)),{},{eid:a});var u=yn(i,t);return u?gn(gn({},s),u):null}catch(e){return Sn("trackExposeDom error",e),null}},trackNormalDom:function(e){var t=kn(e).filter((function(e){return In(e)})),n=qn(!1),r=yn(t,n);return r?gn(gn({},On(e,n.extraAttributes)),r):null}}};function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn=Mn.track,Hn=Fn.trackExposeDom,Vn=Fn.mergeCustomConfig,Wn=Fn.getInitTrackConfig,Gn=Fn.getEffectiveSelectors,Jn=Mn.domObserver,Kn=Lt.tamReport.reportError,Qn=Lt.common.getStayTime,$n=(0,Lt.domElement.getVisibleEventAttr)(),zn=$n.visibilityChange,Xn=$n.hidden,Yn=_((function e(){k(this,e),this.pluginName="Exposure"}),[{key:"setConfig",value:function(e){this.areaConfig=Vn(this.areaConfig,e),this.handleConfigChangeThis()}},{key:"getConfig",value:function(){return this.areaConfig}},{key:"init",value:function(e,t){var n=e.uselib,r=e.dtReport,o=e.maxStaytime,i=e.appkey,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.handleVisibility=this.pageVisiblityChange.bind(this),this.handleConfigChangeThis=this.handleConfigChange.bind(this),this.handlePage=this.handlePageChange.bind(this),this.appkey=i,this.dtReport=r,this.maxStaytime=o,this.uselib=n,this.targetDataArr=[],this.hiddenMoment=0,this.showMoment=0,this.areaConfig=Wn(n,!1),this.setConfig(t),a||this.handleEventListener()}},{key:"remove",value:function(){this.removeData(!0),window.removeEventListener(zn,this.handleVisibility),window.removeEventListener("at-router-change",this.handlePage)}},{key:"stop",value:function(){this.remove()}},{key:"reStart",value:function(){this.handleEventListener()}},{key:"handleEventListener",value:function(){this.newObserver(),window.addEventListener(zn,this.handleVisibility),window.addEventListener("at-router-change",this.handlePage)}},{key:"newObserver",value:function(){var e=this;this.observerInstance=new Jn({selectors:this.areaConfig.effectiveSelectors,shadowHostSelector:this.areaConfig.shadowHostSelector,showAreaThreshold:this.areaConfig.areaThreshold,onEnterView:function(t){return e.onEnterView(t)},onLeaveView:function(t){return e.onLeaveView(t)}})}},{key:"handleConfigChange",value:function(){var e=this,t=Array.from(new Set([].concat(x(Gn(this.areaConfig.autoSelector)),x(Gn(this.areaConfig.remoteAutoSelector)))));this.areaConfig.effectiveSelectors=t,window.CustomEvent&&window.dispatchEvent(new CustomEvent("at-areaconfig-change-".concat(this.appkey),{detail:{value:this.areaConfig}})),this.observerInstance&&t.forEach((function(t){return e.observerInstance.addObserveSelector(t)}))}},{key:"handlePageChange",value:function(){this.removeData(),this.handleConfigChangeThis(),this.newObserver()}},{key:"removeData",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.observerInstance)||void 0===e||e.disconnect();for(var n=this.targetDataArr.length,r=0;r<n;r++)this.reportStay({index:r,needBeacon:t,needDelete:!1});this.targetDataArr=[]}},{key:"getNow",value:function(){return(new Date).getTime()}},{key:"pageVisiblityChange",value:function(){var e=this,t=Xn?document[Xn]:null,n=this.getNow();try{Object.entries(this.targetDataArr).forEach((function(r){var o=y(r,2),i=o[0],a=o[1].hiddenTime,s=void 0===a?0:a;t?(e.hiddenMoment=n,e.showMoment=0):e.hiddenMoment&&(s=s+n-e.hiddenMoment,e.showMoment=n),e.targetDataArr[i].hiddenTime=s}))}catch(e){Kn("expose pageVisiblityChange error",e)}}},{key:"onEnterView",value:function(e){var t=this;if(!this.targetDataArr.find((function(t){return t.target===e}))){var n={target:e,enterMoment:this.getNow(),routeInfo:Bn({},window.ATInfo.reportRouterinfo)};n.timer=window.setTimeout((function(){try{if(n.timer){var r=Hn(e,t.areaConfig);r&&(n.areaParam=r,t.dtReport("show_area",r,"onUserAction",n.target)),window.clearTimeout(n.timer),delete n.timer}}catch(e){Kn("expose onEnterView error",e)}}),this.areaConfig.areaDelay),this.targetDataArr.push(n)}}},{key:"onLeaveView",value:function(e){var t=this.targetDataArr.findIndex((function(t){return t.target===e}));t>-1&&this.reportStay({index:t})}},{key:"reportStay",value:function(e){var t,n=e.index,r=e.needBeacon,o=void 0!==r&&r,i=e.needDelete,a=void 0===i||i;try{var s=this.targetDataArr[n],u=s.target,c=s.enterMoment,l=s.hiddenTime,f=void 0===l?0:l,p=s.areaParam,d=s.timer,h=s.routeInfo,v=this.getNow();if(d)return window.clearTimeout(d),void(a&&this.targetDataArr.splice(n,1));var m=f;!this.showMoment&&this.hiddenMoment&&(m=f+v-this.hiddenMoment),this.areaConfig.trackStayarea&&this.dtReport("stay_area",Bn(Bn({staytime:Qn(v-c-m,this.maxStaytime)},p),h),o?"onSendBeacon":"onUserAction",u),a&&this.targetDataArr.splice(n,1),this.areaConfig.repeated||null===(t=this.observerInstance)||void 0===t||t.unobserveTarget(u)}catch(e){Kn("expose reportStay error",e)}}}]),Zn=new Yn},18410:function(e){e.exports=function(){var e,t;function n(t){this.name="__st"+(1e9*Math.random()>>>0)+e+"__",null!=t&&t.forEach(this.add,this),e+=1}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(e){if(null===this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return i;o+=1}}}),window.WeakSet||(e=Date.now()%1e9,n.prototype.add=function(e){var t=this.name;return e[t]||Object.defineProperty(e,t,{value:!0,writable:!0}),this},n.prototype.delete=function(e){return!!e[this.name]&&!(e[this.name]=void 0)},n.prototype.has=function(e){return!!e[this.name]},t=n,Object.defineProperty(window,"WeakSet",{value:function(e){return new t(e)}})),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++)if(null!=(r=arguments[n]))for(var r=Object(r),o=Object.keys(Object(r)),i=0,a=o.length;i<a;i++){var s=o[i],u=Object.getOwnPropertyDescriptor(r,s);null!=u&&u.enumerable&&(t[s]=r[s])}return t}});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var a,s=/_?t(\d)?(imestamp)?=\d+&?/g,u=["aegis.qq.com","tamaegis.com","/aegis-sdk","rumt-","/flog.core.min.js","pingfore.qq.com","pingfore.tencent.com","zhiyan.tencent-cloud.net","h.trace.qq.com","btrace.qq.com","beacon.qq.com","dmplog.qq.com","qq.com/report","svibeacon.onezapp.com","cube.weixinbridge.com","doubleclick.net","pcmgrmonitor.3g.qq.com","tdm.qq.com","report.qqweb.qq.com","tpstelemetry.tencent.com","galileotelemetry.tencent.com","insight.cloud.tencent.com","facebook.com","facebook.net","google","yahoo.com","twitter.com","ga-audiences","report.idqqimg.com","arms-retcode.aliyuncs.com","px.effirst.com","sentry","baidu.com","hot-update.json","u.c.b.r.o.w.s.e.r","report.url.cn","sockjs-node","m3u8","flv"],c=["ResizeObserver loop limit exceeded","ResizeObserver loop completed","Failed to execute 'transaction'","window.indexedDB.deleteDatabase is not a function"],l=["ext1","ext2","ext3","level","trace","tag","seq","code"],f=["static","fetch"],p="unknown",d=(v.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},v.prototype.on=function(e,t,n){var r;if(void 0===n&&(n=0),this)return(r=this.eventsList[e])||(this.eventsList[e]=[],r=this.eventsList[e]),-1===this.indexOf(r,t)&&r.push({name:e,type:n||0,callback:t}),this},v.prototype.one=function(e,t){this.on(e,t,1)},v.prototype.remove=function(e,t){if(this){var n=this.eventsList[e];if(n){if(t)return n.length&&(t=this.indexOf(n,t),n.splice(t,1)),this;try{delete this.eventsList[e]}catch(e){}}return null}},v.prototype.clear=function(){this.eventsList={}},v),h=function(e){if(!e||0===e.length)return"{}";e=Array.isArray(e)?e:[e];var t=Object.keys(e[0]),n={};return t.forEach((function(t){n[t]=e.map((function(e){return e[t]}))})),n.count=e.length,L(n)};function v(){var e=this;this.emit=function(t,n){if(e){var r;if(null!=(o=e.eventsList[t])&&o.length)for(var o=o.slice(),i=0;i<o.length;i++){r=o[i];try{var a=r.callback.apply(e,[n]);if(1===r.type&&e.remove(t,r.callback),!1===a)break}catch(t){throw t}}return e}},this.eventsList={}}function m(e,t){return"number"==typeof e||"string"==typeof e?e:t?a.string:a.number}function g(e,t){return"string"==typeof e?e.split("?")[t?1:0]||"":e}function y(e,t){return void 0===t&&(t=2048),String(e).replace(s,"").slice(0,t)}function b(e){return"string"==typeof e&&/^\//.test(e)?"https:"===(null==location?void 0:location.protocol):/^https/.test(e)}function w(e,t,n){var r,o,i;try{if("function"==typeof(null==t?void 0:t.retCodeHandler))return{code:void 0===(i=(o=t.retCodeHandler(e,null==n?void 0:n.url,null==n?void 0:n.ctx,null==n?void 0:n.payload)||{}).code)?p:i,isErr:o.isErr};if(!(e="string"==typeof e?JSON.parse(e):e))return{code:p,isErr:!1};"function"==typeof(null==(r=null==t?void 0:t.ret)?void 0:r.join)&&(j=[].concat(t.ret.map((function(e){return e.toLowerCase()}))));var a=Object.getOwnPropertyNames(e).filter((function(e){return-1!==j.indexOf(e.toLowerCase())}));return a.length?{code:""+(i="未知"!==(i=e[a[0]])&&""!==i?i:p),isErr:0!==i&&"0"!==i&&i!==p}:{code:p,isErr:!1}}catch(e){return{code:p,isErr:!1}}}function S(e,t,n){try{var r="function"==typeof t?t(e,null==n?void 0:n.url)||"":e;return q(r).slice(0,102400)}catch(e){return""}}function E(e,t){return"string"!=typeof e||!e||t&&-1<e.indexOf(t)||B.test(e)||u.some((function(t){return-1<e.indexOf(t)}))}function x(e,t){var n,r=[],o=e.config;return e.lifeCycle.on("destroy",(function(){r.length=0})),function(i,a){Array.isArray(i)?r=r.concat(i):r.push(i),t&&r.length>=t||e.sendNow&&0<r.length?(r=F(r),a(r.splice(0,r.length)),n&&clearTimeout(n)):(n&&clearTimeout(n),n=setTimeout((function(){n=null,0<(r=F(r)).length&&a(r.splice(0,r.length))}),o.delay))}}function O(e,t){return Array.isArray(e)?t(e.map((function(e){return t=o(o({},e),{msg:"string"==typeof e.msg?e.msg:[].concat(e.msg).map(D).join(" ")}),l.forEach((function(e){t[e]||delete t[e]})),t;var t}))):t([o(o({},e),{msg:"string"==typeof e.msg?e.msg:D(e.msg)})])}function k(e,t){return function(n,r){var i,a,s,u=Array.isArray(n),c=u?n:[n],f=(e.lifeCycle.emit("beforeRequest",n),e.config.beforeRequest);(c="function"==typeof f?c.map((function(e){try{var n=f({logs:e,logType:t});return(null==n?void 0:n.logType)===t&&null!=n&&n.logs?n.logs:!1!==n&&e}catch(n){return e}})).filter((function(e){return!1!==e})):c).length&&(i=c,n=l,!Array.isArray(i)||i.length<=1||(a=[],s=[],!(s="string"==typeof n?[n]:n))||s.length<=0||(s.forEach((function(e){i.forEach((function(t){null!=t&&t[e]&&a.push(e)}))})),0<a.length&&(i=i.map((function(e){var t={};return a.forEach((function(e){t[e]=""})),o(o({},t),e)})))),c=i,r(u?c:c[0]))}}function I(e){return function(t,n){e.lifeCycle.emit("modifyRequest",t);var r=e.config.modifyRequest;if("function"==typeof r)try{var o=r(t);"object"==typeof o&&"url"in o&&(t=o)}catch(t){}n(t)}}function _(e){return function(t,n){null!=(r=e.lifeCycle)&&r.emit("afterRequest",t);var r=(e.config||{}).afterRequest;"function"==typeof r&&!1===r(t)||n(t)}}(fe=a=a||{})[fe.number=-1]="number",fe.string="";var T,A,R,C=["application/xhtml+xml","application/xml","application/pdf","application/pkcs12","application/javascript","application/x-javascript","application/ecmascript","application/vnd.mspowerpoint","application/vnd.apple.mpegurl","application/ogg","text/css","text/javascript","image","audio","video","video/mp2t"],P=/\.(json|js|css|jpg|jpeg|png|svg|apng|webp|gif|bmp|mp4|mp3|ts|mpeg|wav|webm|ogg|flv|m3u8|ttf|woff2|otf|eot|woff|html|htm|shtml|shtm|)$/i,j=["ret","retcode","code","errcode"],N=function(){var e=new WeakSet;return function(t,n){if(n instanceof Error)return"Error.message: "+n.message+" \n  Error.stack: "+n.stack;if("object"==typeof n&&null!==n){if(e.has(n))return"[Circular "+(t||"root")+"]";e.add(n)}return n}},D=function(e){if("string"==typeof e)return e;try{return e instanceof Error?(JSON.stringify(e,N(),4)||"undefined").replace(/"/gim,""):JSON.stringify(e,N(),4)||"undefined"}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}},L=function(e){if("string"==typeof e)return e;try{return JSON.stringify(e,N())||"undefined"}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}},q=function(e,t){void 0===t&&(t=3);var n,r,o,i="";return Array.isArray(e)?(i+="[",n=e.length,e.forEach((function(e,r){i=(i+="object"==typeof e&&1<t?q(e,t-1):U(e))+(r===n-1?"":",")})),i+="]"):e instanceof Object?(i="{",r=Object.keys(e),o=r.length,r.forEach((function(n,a){"object"==typeof e[n]&&1<t?i+='"'+n+'":'+q(e[n],t-1):i+=M(n,e[n]),i+=a===o-1||a<o-1&&void 0===e[r[a+1]]?"":","})),i+="}"):i+=e,i},M=function(e,t){var n=typeof t,r="";return"string"==n||"object"==n?r+='"'+e+'":"'+t+'"':"function"==typeof t?r+='"'+e+'":"function '+t.name+'"':"symbol"==typeof t?r+='"'+e+'":"symbol"':"number"!=typeof t&&"boolean"!=n||(r+='"'+e+'": '+t),r},U=function(e){var t=typeof e;return""+("undefined"==t||"symbol"==t||"function"==t?"null":"string"==t||"object"==t?'"'+e+'"':e)},B=/data:(image|text|application|font)\/.*;base64/,F=((fe=T=T||{}).INFO_ALL="-1",fe.API_RESPONSE="1",fe.INFO="2",fe.ERROR="4",fe.PROMISE_ERROR="8",fe.AJAX_ERROR="16",fe.SCRIPT_ERROR="32",fe.IMAGE_ERROR="64",fe.CSS_ERROR="128",fe.CONSOLE_ERROR="256",fe.MEDIA_ERROR="512",fe.RET_ERROR="1024",fe.REPORT="2048",fe.PV="4096",fe.EVENT="8192",fe.PAGE_NOT_FOUND_ERROR="16384",fe.WEBSOCKET_ERROR="32768",fe.BRIDGE_ERROR="65536",fe.LAZY_LOAD_ERROR="131072",(fe=A=A||{}).LOG="log",fe.SPEED="speed",fe.PERFORMANCE="performance",fe.OFFLINE="offline",fe.WHITE_LIST="whiteList",fe.VITALS="vitals",fe.PV="pv",fe.CUSTOM_PV="customPV",fe.EVENT="event",fe.CUSTOM="custom",fe.SDK_ERROR="sdkError",fe.SET_DATA="setData",fe.LOAD_PACKAGE="loadPackage",(fe=R=R||{}).production="production",fe.development="development",fe.gray="gray",fe.pre="pre",fe.daily="daily",fe.local="local",fe.test="test",fe.others="others",function(e){return e.filter((function(t,n){return"static"!==t.type||!e.find((function(e,r){return t.url===e.url&&200===t.status&&n<r}))}))}),H=function(e){e.level===T.INFO_ALL&&(e.level=T.INFO)},V={},W={},G=function(e){return V[e]||(V[e]=setTimeout((function(){W[e]={},V[e]=null}),6e4)),V[e]},J=function(e){return(Array.isArray(e)?e:[e]).map((function(e){return Object.getOwnPropertyNames(e).reduce((function(t,n){return"ctx"!==n&&(t[n]=e[n]),t}),{level:T.INFO,msg:""})}))},K=function(e){return function(t){return e.sendPipeline([function(t,n){return n({url:e.config.url||"",data:h(J(t)),method:"post",contentType:"application/json",type:A.LOG,log:t,requestConfig:{timeout:5e3},success:function(){var r=e.config.onReport;"function"==typeof r&&t.forEach((function(e){r(e)})),"function"==typeof n&&n([])}})}],A.LOG)(t)}},Q={generateTraceId:z(16),generateSpanId:z(8)},$=Array(32);function z(e){return function(){for(var t=0;t<2*e;t++)$[t]=Math.floor(16*Math.random())+48,58<=$[t]&&($[t]+=39);return String.fromCharCode.apply(null,$.slice(0,2*e))}}function X(){return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(function(e){return(e^(16*Math.random()&15)>>e/4).toString(16)}))}function Y(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Z(e){for(var t,n,r,o="",i=0,a=(e=String(e)).length%3;i<e.length;){if(255<(t=e.charCodeAt(i++))||255<(n=e.charCodeAt(i++))||255<(r=e.charCodeAt(i++)))throw new TypeError("Failed to execute 'btoa': The string to be encoded contains characters outside of the Latin1 range.");o+=ae.charAt((t=t<<16|n<<8|r)>>18&63)+ae.charAt(t>>12&63)+ae.charAt(t>>6&63)+ae.charAt(63&t)}return a?o.slice(0,a-3)+"===".substring(a):o}function ee(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!se.test(e))throw new TypeError("Failed to execute 'atob': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,r,o="",i=0;i<e.length;)t=ae.indexOf(e.charAt(i++))<<18|ae.indexOf(e.charAt(i++))<<12|(n=ae.indexOf(e.charAt(i++)))<<6|(r=ae.indexOf(e.charAt(i++))),o+=64===n?String.fromCharCode(t>>16&255):64===r?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o}function te(e){var t,n="";return"object"==typeof e&&(t=(e=((e,t)=>{for(var n=0;n<t.length;n++){var r=t[n],o=e[r]||"function"==typeof e.get&&e.get(r);if(o)return[r,o]}return["",""]})(e,Object.keys(ce)))[0])?ce[t](e[1]):n}function ne(e){if(e&&e.reduce&&e.length)return 1===e.length?function(t,n){e[0](t,n||le)}:e.reduce((function(e,t){return function(n,r){return void 0===r&&(r=le),e(n,(function(e){return null==t?void 0:t(e,r)}))}}));throw new TypeError("createPipeline need at least one function param")}function re(e,t){Object.getOwnPropertyNames(e).forEach((function(n){"function"==typeof e[n]&&"constructor"!==n&&(t?t[n]="sendPipeline"===n?function(){return function(){}}:function(){}:e[n]=function(){})}))}function oe(){return void 0!==window.performance&&"function"==typeof performance.getEntriesByType&&"function"==typeof performance.now}function ie(e){return-1!==ge.indexOf(e)}var ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",se=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ue=(Se.prototype.generate=function(e,t,n){if(void 0===t&&(t={}),this.url=e,!this.isUrlIgnored()&&this.isUrlInTraceUrls()&&this.traceType){switch(this.traceType){case"traceparent":this.traceId=this.createTraceparent();break;case"b3":this.traceId=this.createB3();break;case"sw8":this.traceId=this.createSw8(n);break;case"sentry-trace":this.traceId=this.createSentryTrace();break;default:return void(this.traceId="")}return t[this.traceType]&&(this.traceId=t[this.traceType]),{name:this.traceType,value:this.traceId}}},Se.prototype.createTraceparent=function(){var e=Q.generateSpanId();return"00-"+Q.generateTraceId()+"-"+e+"-0"+this.traceFlag.toString(16)},Se.prototype.createB3=function(){var e=Q.generateSpanId();return Q.generateTraceId()+"-"+e+"-"+this.traceFlag},Se.prototype.createSw8=function(e){var t="function"==typeof btoa?btoa:Z,n=void 0===(n=(e=e||{}).host)?"":n,r=(e=void 0===(e=e.pathname)?"":e,Y()),o=Y();return"1-"+String(t(o))+"-"+String(t(r))+"-1-"+String(t("aegis"))+"-"+String(t("1.43.19"))+"-"+String(t(encodeURI(e)))+"-"+String(t(n))},Se.prototype.createSentryTrace=function(){var e=X().substring(16);return X()+"-"+e+"-"+this.traceFlag},Se.prototype.isUrlIgnored=function(){if(Array.isArray(this.ignoreUrls)&&0!==this.ignoreUrls.length)for(var e=0,t=this.ignoreUrls;e<t.length;e++){var n=t[e];if(this.urlMatches(this.url,n))return!0}return!1},Se.prototype.isUrlInTraceUrls=function(){if(!this.urls)return!0;if(Array.isArray(this.urls)){if(0===this.urls.length)return!1;for(var e=0,t=this.urls;e<t.length;e++){var n=t[e];if(this.urlMatches(this.url,n))return!0}}return!1},Se.prototype.urlMatches=function(e,t){return"string"==typeof t?e===t:!!e.match(t)},Se),ce={sw8:function(e){var t="function"==typeof atob?atob:ee;return(e=e.split("-")[1])?t(e):""},traceparent:function(e){return e.split("-")[1]},b3:function(e){return e.split("-")[0]},"sentry-trace":function(e){return e.split("-")[0]}},le=function(){},fe=(we.use=function(e){-1===we.installedPlugins.indexOf(e)&&e.aegisPlugin&&we.installedPlugins.push(e)},we.unuse=function(e){-1!==(e=we.installedPlugins.indexOf(e))&&we.installedPlugins.splice(e,1)},we.prototype.init=function(e){this.setConfig(e);for(var t=0;t<we.installedPlugins.length;t++)try{we.installedPlugins[t].patch(this)}catch(e){this.sendSDKError(e)}this.lifeCycle.emit("onInited")},we.prototype.destroy=function(e){void 0===e&&(e=!1);var t,n,r=we.instances.indexOf(this);-1!==r&&we.instances.splice(r,1);for(var o=we.installedPlugins.length-1;0<=o;o--)try{we.installedPlugins[o].unpatch(this)}catch(e){this.sendSDKError(e)}if(this.lifeCycle.emit("destroy"),this.lifeCycle.clear(),e)t=this,n=Object.getOwnPropertyDescriptors(t),Object.keys(n).forEach((function(e){n[e].writable&&(t[e]=null)})),Object.setPrototypeOf(this,null);else{for(var i=this;i.constructor!==Object&&re(i,this),i=Object.getPrototypeOf(i););0===we.instances.length&&(re(r=Object.getPrototypeOf(this).constructor),re(we))}},we.prototype.setConfig=function(e){Object.assign(this.config,e);var t=(e=this.config).id,n=e.uin,r=e.version,o=e.ext1,i=e.ext2,a=e.ext3,s=e.aid,u=void 0===(c=e.env)?"production":c,c=e.pageUrl;return e=this.bean.id!==t||this.bean.uin!==n||this.bean.aid!==s,this.bean.id=t||"",this.bean.uin=n||"",this.bean.version=r||"1.43.19",this.bean.aid=s||"",this.bean.env=(()=>{switch(u){case R.production:case R.development:case R.gray:case R.pre:case R.daily:case R.local:case R.test:case R.others:return 1;default:return}})()?u:R.others,c&&this.extendBean("from",encodeURIComponent(c.slice(0,2048))),o&&this.extendBean("ext1",encodeURIComponent(o)),i&&this.extendBean("ext2",encodeURIComponent(i)),a&&this.extendBean("ext3",encodeURIComponent(a)),e&&this.lifeCycle.emit("onConfigChange",this.config),this.config},we.prototype.extendBean=function(e,t){this.bean[e]=t},we.prototype.send=function(e,t,n){var r=this;return ne([I(this),function(e,o){r.request(e,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];o({isErr:!1,result:n,logType:e.type,logs:e.log}),null!=t&&t.apply(void 0,n)}),(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];o({isErr:!0,result:t,logType:e.type,logs:e.log}),null!=n&&n.apply(void 0,t)}))},_(this)])(e)},we.prototype.sendSDKError=function(e){var t=this;this.sendPipeline([function(e,n){n({url:t.config.url+"?id=1085&msg[0]="+encodeURIComponent(D(e))+"&level[0]=2&from="+t.config.id+"&count=1&version="+t.config.id+"(1.43.19)",addBean:!1,method:"get",type:A.SDK_ERROR,log:e})}],A.SDK_ERROR)(e)},we.prototype.sendPipeline=function(e,t){var n,r=this;return ne(i([function(e,t){if("number"!=typeof n.config.random&&(n.config.random=1),!n.isHidden||!n.isGetSample)if(n.isGetSample)n.isHidden||t(e);else{if(n.isGetSample=!0,Math.random()<n.config.random)return n.isHidden=!1,t(e);n.isHidden=!0}},k(n=this,t)],e,[I(this),function(e,t){r.request(e,(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=!1;-1<(""+n[r.failRequestCount=0]).indexOf("403 forbidden")&&(a=!0,r.destroy()),t({isErr:a,result:n,logType:null==e?void 0:e.type,logs:null==e?void 0:e.log}),null!=(a=null==e?void 0:e.success)&&a.call.apply(a,i([e],n))}),(function(){for(var n,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];60<=++r.failRequestCount&&r.destroy(),-1<(""+o[0]).indexOf("403 forbidden")&&r.destroy(),t({isErr:!0,result:o,logType:null==e?void 0:e.type,logs:null==e?void 0:e.log}),null!=(n=null==e?void 0:e.fail)&&n.call.apply(n,i([e],o))}))},_(this)]))},we.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:T.INFO,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:T.INFO}),this.normalLogPipeline(n)},we.prototype.infoAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:T.INFO_ALL,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:T.INFO_ALL}),this.normalLogPipeline(n)},we.prototype.report=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:T.REPORT,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0])),this.normalLogPipeline(n)},we.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:T.ERROR,msg:e};1===e.length&&e[0].msg&&Object.assign(n,o({},e[0]),{level:T.ERROR}),this.normalLogPipeline(n)},we.prototype.reportEvent=function(e){e&&(e="string"==typeof e?{name:e,ext1:this.config.ext1||"",ext2:this.config.ext2||"",ext3:this.config.ext3||""}:e).name&&("string"!=typeof e.name&&(e.name=String(e.name)),this.eventPipeline(e))},we.prototype.reportT=function(e){var t=e.name,n=e.duration,r=void 0===(r=e.ext1)?"":r,o=void 0===(o=e.ext2)?"":o,i=void 0===(i=e.ext3)?"":i;if(e=e.from,"string"==typeof t&&"number"==typeof n&&"string"==typeof r&&"string"==typeof o&&"string"==typeof i&&!(n<0||6e4<n))return this.submitCustomTime(t,n,r,o,i,void 0===e?"":e)},we.prototype.reportTime=function(e,t){if("object"==typeof e)return this.reportT(e);"string"==typeof e&&"number"==typeof t&&(t<0||6e4<t||this.submitCustomTime(e,t))},we.prototype.time=function(e){"string"==typeof e&&(this.timeMap[e]||(this.timeMap[e]=Date.now()))},we.prototype.timeEnd=function(e){"string"==typeof e&&this.timeMap[e]&&(this.submitCustomTime(e,Date.now()-this.timeMap[e]),delete this.timeMap[e])},we.prototype.ready=function(e,t,n){throw new Error('You need to override "ready" method')},we.prototype.request=function(e,t,n){throw new Error('You need to override "request" method')},we.prototype.speedLogPipeline=function(e){throw new Error('You need to override "speedLogPipeline" method')},Object.defineProperty(we.prototype,"__version__",{get:function(){return"1.43.19"},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"LogType",{get:function(){return T},enumerable:!1,configurable:!0}),we.prototype.reportPv=function(e){},we.prototype.submitCustomTime=function(e,t,n,r,o,i){this.customTimePipeline({name:e,duration:t,ext1:n||this.config.ext1,ext2:r||this.config.ext2,ext3:o||this.config.ext3,from:i||void 0})},we.version="1.43.19",we.instances=[],we.logType=T,we.environment=R,we.installedPlugins=[],we),pe=(be.prototype.patch=function(e){this.canUse(e)&&this.exist(e)&&(this.instances.push(e),this.triggerInit(e),this.triggerOnNewAegis(e))},be.prototype.unpatch=function(e){var t=this.instances.indexOf(e);-1!==t&&(this.instances.splice(t,1),0===this.instances.length)&&this.uninstall(e)},be.prototype.countInstance=function(){return this.instances.length},be.prototype.uninstall=function(e){var t;null!=(t=null==(t=this.option)?void 0:t.destroy)&&t.apply(this,[e])},be.prototype.walk=function(e){var t=this;this.instances.forEach((function(n){var r=t.canUse(n);r&&e(n,r)}))},be.prototype.canUse=function(e){return!(!(e=this.getConfig(e))||"object"!=typeof e)||!!e},be.prototype.getConfig=function(e){return null==(e=e.config)?void 0:e[this.name]},be.prototype.exist=function(e){return-1===this.instances.indexOf(e)},be.prototype.triggerInit=function(e){var t;this.inited||(this.inited=!0,null==(t=null==(t=this.option)?void 0:t.init))||t.call(this.option,this.getConfig(e))},be.prototype.triggerOnNewAegis=function(e){var t;null!=(t=null==(t=this.option)?void 0:t.onNewAegis)&&t.call(this.option,e,this.getConfig(e))},be),de=new pe({name:"aid",aid:"",init:function(e){try{var t=!0!==e&&e||window.localStorage.getItem("AEGIS_ID");t||(t=Y(),window.localStorage.setItem("AEGIS_ID",t)),this.aid=t}catch(e){}},onNewAegis:function(e){e.bean.aid=this.aid,e.config.aid=this.aid}}),he=function(e){var t;return e.payload?(t={},Object.keys(e).forEach((function(n){"payload"!==n&&(t[n]=e[n])})),t):e},ve=new pe({name:"reportAssetSpeed"}),me=ve=new pe({name:"reportAssetSpeed",collectCur:0,collectEntryType:"resource",ASSETS_INITIATOR_TYPE:["img","css","script","link","audio","video"],onNewAegis:function(e){var t=this;oe()&&(this.collectSuccessLog(e),this.collectFailLog(e),performance.onresourcetimingbufferfull=function(){"function"==typeof performance.clearResourceTimings&&(t.collectCur=0,performance.clearResourceTimings())})},publish:function(e,t){this.$walk((function(n){n===t&&n.speedLogPipeline(e)}))},publishMany:function(e,t){for(var n=t.config,r=0,o=e.length;r<o;r++){var i=e[r];-1===this.ASSETS_INITIATOR_TYPE.indexOf(i.initiatorType)||E(i.name,n.hostUrl)||this.publish(this.generateLog(i,n),t)}},collectSuccessLog:function(e){var t,n,r=this;"function"==typeof window.PerformanceObserver?(this.publishMany(performance.getEntriesByType(this.collectEntryType),e),(t=new window.PerformanceObserver((function(t){r.publishMany(t.getEntries(),e)}))).observe({entryTypes:[this.collectEntryType]}),e.lifeCycle.on("destroy",(function(){0===ve.countInstance()&&t.disconnect()}))):(n=setInterval((function(){var t=performance.getEntriesByType(r.collectEntryType),n=t.slice(r.collectCur);r.collectCur=t.length,r.publishMany(n,e)}),3e3),e.lifeCycle.on("destroy",(function(){0===ve.countInstance()&&clearInterval(n)})))},collectFailLog:function(e){function t(t){var o,i;t&&(t=t.target||t.srcElement,!(o=(null==t?void 0:t.src)||(null==t?void 0:t.href))||"string"!=typeof o||-1<window.location.href.indexOf(o)||(t="function"==typeof(null==(t=r.api)?void 0:t.resourceTypeHandler)?null==(t=r.api)?void 0:t.resourceTypeHandler(o):"",i=performance.getEntriesByType(n.collectEntryType).find((function(e){return e.name===o})),E(o,r.hostUrl))||(i={url:y(o),status:400,duration:Number(((null==i?void 0:i.duration)||0).toFixed(2)),method:"get",type:t||"static",isHttps:b(o),urlQuery:g(o,!0),nextHopProtocol:"",domainLookup:0,connectTime:0},n.publish(i,e)))}var n=this,r=e.config;window.document.addEventListener("error",t,!0),e.lifeCycle.on("destroy",(function(){0===ve.countInstance()&&window.document.removeEventListener("error",t,!0)}))},generateLog:function(e,t){t="function"==typeof(null==(n=t.api)?void 0:n.resourceTypeHandler)?null==(n=t.api)?void 0:n.resourceTypeHandler(e.name):"";var n=e.transferSize;return{url:y(e.name),method:"get",duration:Number(e.duration.toFixed(2)),status:200,type:t||"static",isHttps:b(e.name),nextHopProtocol:e.nextHopProtocol||"",urlQuery:g(e.name,!0),domainLookup:m(e.domainLookupEnd-e.domainLookupStart),connectTime:m(e.connectEnd-e.connectStart),transferSize:0<n?n:-1}},collectNotReportedLog:function(e){var t,n;oe()&&(t=(n=performance.getEntriesByType(this.collectEntryType)).length,"function"!=typeof window.PerformanceObserver)&&this.collectCur!==t&&(n=n.slice(this.collectCur),this.collectCur=t,this.publishMany(n,e,!0))},destroy:function(){this.option.publish=function(){}}}),ge=window.navigator.userAgent.toLowerCase(),ye={};function be(e){this.aegisPlugin=!0,this.name="",this.instances=[],this.inited=!1,e.$walk=this.walk.bind(this),e.$getConfig=this.getConfig.bind(this),this.option=e,this.name=e.name}function we(e){var t,n,r,o,i,a,s,u,c,l,f,p,h,v,m=this;this.isGetSample=!1,this.isHidden=!1,this.config={version:0,delay:1e3,onError:!0,repeat:60,random:1,aid:!0,device:!0,pagePerformance:!0,webVitals:!0,speedSample:!0,onClose:!0,reportLoadPackageSpeed:!0,hostUrl:"https://aegis.qq.com",env:"production",url:"",offlineUrl:"",whiteListUrl:"",pvUrl:"",speedUrl:"",customTimeUrl:"",performanceUrl:"",performanceUrlForHippy:"",webVitalsUrl:"",eventUrl:"",setDataReportUrl:"",reportImmediately:!0},this.isWhiteList=!1,this.lifeCycle=new d,this.bean={},this.normalLogPipeline=ne([x(this,5),O,function(e,n){var r=t.config;n(e=e.map((function(e){var t,n=r.maxLength||102400;try{if(!e.msg||e.msg.length<=n)return e;e.msg=null==(t=e.msg)?void 0:t.substring(0,n)}catch(t){e.msg=D(e.msg).substring(0,r.maxLength)}return e})))},(v=(t=this).config,function(e,t){var n="number"==typeof v.repeat?v.repeat:60;if(n<=0)return t(e);var r=(null==v?void 0:v.id)+"_error",o=W[r]||{};t(e.filter((function(e){if(e.level===T.ERROR||e.level===T.PROMISE_ERROR||e.level===T.AJAX_ERROR||e.level===T.SCRIPT_ERROR||e.level===T.IMAGE_ERROR||e.level===T.CSS_ERROR||e.level===T.MEDIA_ERROR||e.level===T.RET_ERROR||e.level===T.BRIDGE_ERROR||e.level===T.PAGE_NOT_FOUND_ERROR||e.level===T.WEBSOCKET_ERROR||e.level===T.LAZY_LOAD_ERROR){if(e=e.msg.slice(0,200),o[e]>n)return V[r]||G(r),!1;o[e]=1+~~o[e],W[r]=o}return!0})))}),(p=this.lifeCycle.emit,h=this.config,function(e,t){var n,r=h.logCreated;return"function"==typeof r?(n=e.filter((function(e){return!1!==r(e)})),p("beforeWrite",n),t(n)):(p("beforeWrite",e),t(e))}),(f=this,setTimeout((function(){var e=void 0===(t=(n=f.config).pvUrl)?"":t,t=n.spa,n=-1<["web-sdk","mp-sdk"].indexOf("web-sdk");e&&(n&&!t||!n)&&f.sendPipeline([function(t,n){n({url:e,type:A.PV})}],A.PV)(null)}),100),function(e,t){t(e)}),(c=u=s=!1,l=[],(i=this).lifeCycle.on("onConfigChange",(function(){a&&clearTimeout(a),a=setTimeout((function(){var e,t;!c&&i.config&&(c=!0,e=i.config.whiteListUrl,(t=void 0===e?"":e)&&i.sendPipeline([function(e,n){n({url:t,type:A.WHITE_LIST,success:function(e){u=!0;try{var t=e.data||JSON.parse(e),n=t.retcode,r=t.result,o=void 0===r?{}:r,a=(0===n&&(s=o.is_in_white_list,i.isWhiteList=s,0<=o.rate)&&o.rate<=1&&(i.config.random=o.rate,i.isGetSample=!1),i.isWhiteList&&l.length?K(i)(l.splice(0),(function(){})):!i.isWhiteList&&l.length&&(l.length=0),i.config.onWhitelist);"function"==typeof a&&a(s)}catch(e){}},fail:function(){u=!0}})}],A.WHITE_LIST)(null),c=!1)}),i.config.uin?50:500)})),i.lifeCycle.on("destroy",(function(){l.length=0})),function(e,t){var n;s||null!=(n=null==(n=i.config)?void 0:n.api)&&n.reportRequest?t(e.concat(l.splice(0)).map((function(e){return H(e),e}))):(n=e.filter((function(e){return e.level!==T.INFO&&e.level!==T.API_RESPONSE?(H(e),!0):(u||(l.push(e),200<=l.length&&(l.length=200)),!1)}))).length&&t(n)}),function(e,t){try{var n=JSON.parse(JSON.stringify(e)),r=(m.lifeCycle.emit("beforeReport",n),m.config.beforeReport);(e="function"==typeof r?e.filter((function(e){return!1!==r(e)})):e).length&&t(e)}catch(e){}},K(this)]),this.eventPipeline=ne([x(this,10),(o=this,function(e){o.sendPipeline([function(e,t){var n=e.map((function(e){return{name:e.name,ext1:e.ext1||o.config.ext1||"",ext2:e.ext2||o.config.ext2||"",ext3:e.ext3||o.config.ext3||""}}));t({url:o.config.eventUrl+"?payload="+encodeURIComponent(JSON.stringify(n)),type:A.EVENT,log:e})}],A.EVENT)(e)})]),this.customTimePipeline=ne([x(this,10),(r=this,function(e){return r.sendPipeline([function(e,t){t({url:r.config.customTimeUrl+"?payload="+encodeURIComponent(JSON.stringify({custom:e})),type:A.CUSTOM,log:e})}],A.CUSTOM)(e)})]),this.timeMap={},this.failRequestCount=0,this.config=(n=this.config,"string"!=typeof(e=void 0===(e=e.hostUrl)?"https://aegis.qq.com":e)&&(e="https://aegis.qq.com"),n.url=n.url||e+"/collect",n.offlineUrl=n.offlineUrl||e+"/offline",n.whiteListUrl=n.whiteListUrl||e+"/collect/whitelist",n.pvUrl=n.pvUrl||e+"/collect/pv",n.eventUrl=n.eventUrl||e+"/collect/events",n.speedUrl=n.speedUrl||e+"/speed",n.customTimeUrl=n.customTimeUrl||e+"/speed/custom",n.performanceUrl=n.performanceUrl||e+"/speed/performance",n.performanceUrlForHippy=n.performanceUrlForHippy||e+"/speed/hippyPerformance",n.webVitalsUrl=n.webVitalsUrl||e+"/speed/webvitals",n.setDataReportUrl=n.SetDataReportUrl||e+"/speed/miniProgramData",n),we.instances.push(this)}function Se(e,t,n,r){void 0===n&&(n=null),this.traceType=e,this.ignoreUrls=t,this.urls=n,this.traceFlag=null==r?1:Number(!!r)}function Ee(){return{host:new URL(location.href).host,pathname:location.pathname}}function xe(e,t,n){return null!=t&&t.length&&"object"==typeof e?t.reduce((function(t,r){var o=window.Headers&&e instanceof Headers?e.get(r):e[r];return o?t+(""===t?"":"\n\n")+n+" header "+r+": "+o:t}),""):""}function Oe(e,t){return e&&-1===["null","undefined"].indexOf(e)?t+": "+e:""}function ke(e,t,n){var r,o;return void 0===t&&(t=""),e="function"==typeof(null==(o=e.api)?void 0:o.resourceTypeHandler)?null==(o=e.api)?void 0:o.resourceTypeHandler(n):"",-1===f.indexOf(e)&&(r=void 0===t?"":t,o=(void 0===n?"":n).split("?")[0],e=P.test(o)||C.some((function(e){return-1!==String(r).indexOf(e)}))?"static":"fetch"),e}function Ie(e,t){return e?T.AJAX_ERROR:t?T.RET_ERROR:T.API_RESPONSE}function _e(e,t){return null!=(e=e.api)&&e.usePerformanceTiming&&"string"==typeof t.url&&(e=null==(e=performance.getEntriesByName(t.url))?void 0:e.pop())?{url:t.url,isHttps:b(t.url),method:t.method,type:t.type,status:t.status,duration:Number(e.duration.toFixed(2)),nextHopProtocol:e.nextHopProtocol||"",domainLookup:m(e.domainLookupEnd-e.domainLookupStart),connectTime:m(e.connectEnd-e.connectStart)}:{url:t.url,isHttps:b(t.url),method:t.method,type:t.type,status:t.status,duration:Number(t.duration.toFixed(2)),nextHopProtocol:"",domainLookup:a.number,connectTime:a.number}}ye.macos=function(){return ie("mac")},ye.ios=function(){return ye.iphone()||ye.ipod()||ye.ipad()},ye.iphone=function(){return!ye.windows()&&ie("iphone")},ye.ipod=function(){return ie("ipod")},ye.ipad=function(){var e="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return ie("ipad")||e},ye.android=function(){return!ye.windows()&&ie("android")},ye.androidPhone=function(){return ye.android()&&ie("mobile")},ye.androidTablet=function(){return ye.android()&&!ie("mobile")},ye.blackberry=function(){return ie("blackberry")||ie("bb10")},ye.blackberryPhone=function(){return ye.blackberry()&&!ie("tablet")},ye.blackberryTablet=function(){return ye.blackberry()&&ie("tablet")},ye.windows=function(){return ie("windows")},ye.windowsPhone=function(){return ye.windows()&&ie("phone")},ye.windowsTablet=function(){return ye.windows()&&ie("touch")&&!ye.windowsPhone()},ye.fxos=function(){return(ie("(mobile")||ie("(tablet"))&&ie(" rv:")},ye.fxosPhone=function(){return ye.fxos()&&ie("mobile")},ye.fxosTablet=function(){return ye.fxos()&&ie("tablet")},ye.meego=function(){return ie("meego")},ye.cordova=function(){return window.cordova&&"file:"===location.protocol},ye.nodeWebkit=function(){return"object"==typeof window.process},ye.mobile=function(){return ye.androidPhone()||ye.iphone()||ye.ipod()||ye.windowsPhone()||ye.blackberryPhone()||ye.fxosPhone()||ye.meego()},ye.tablet=function(){return ye.ipad()||ye.androidTablet()||ye.blackberryTablet()||ye.windowsTablet()||ye.fxosTablet()},ye.desktop=function(){return!ye.tablet()&&!ye.mobile()};var Te,Ae,Re,Ce,Pe,je,Ne,De=!(ye.isIE=function(){return"ActiveXObject"in window}),Le=[],qe=/^\/[^/]/,Me=!1,Ue=[],Be=(new pe({name:"reportApiSpeed"}),new pe({name:"reportApiSpeed",override:!1,onNewAegis:function(e){var t,n;this.override||(this.override=!0,null!=(n=e.config.api)&&n.injectTraceHeader&&(this.traceRequestHeader=new ue(n.injectTraceHeader,null!=(t=null==n?void 0:n.injectTraceIgnoreUrls)?t:[],null==n?void 0:n.injectTraceUrls,null==n?void 0:n.traceFlag)),this.overrideFetch(e.config,e),this.overrideXhr(e.config,e))},overrideFetch:function(e,t){var n=this,r=e.api,o=(r={name:this.name,traceRequestHeader:null!=r&&r.injectTraceHeader?this.traceRequestHeader:null,then:function(r,o,i,a,s){var u,c;E(i,e.hostUrl)||(u=r.headers?r.headers.get("content-type"):"","fetch"===(c=ke(e,u||"",i))?r.clone().text().then((function(u){var l,f=r.status<=0||400<=r.status,p=(null==(p=e.api)?void 0:p.reqHeaders)||[],d=xe(null==a?void 0:a.headers,p,"req"),h=(p=(null==(p=e.api)?void 0:p.resHeaders)||[],xe(r.headers,p,"res")),v=te(null==a?void 0:a.headers),m=(p=w(u,e.api,{url:i,ctx:r,payload:null==a?void 0:a.body})).code,g=p.isErr,y=(p=null==(p=e.api)?void 0:p.apiDetail)?S(null==a?void 0:a.body,null==(l=e.api)?void 0:l.reqParamHandler,{url:i}):"",b=p?S(u,null==(l=e.api)?void 0:l.resBodyHandler,{url:i,ctx:r}):"";setTimeout((function(){var l=_e(e,{url:i,duration:o,type:c,status:r.status||0,method:(null==a?void 0:a.method)||"get"}),p=[f?"FETCH_ERROR: "+u:"","fetch req url: "+i,"res status: "+(l.status||0),"res duration: "+l.duration+"ms","res startTime: "+s,d,h,"req method: "+(l.method||"GET"),"res retcode: "+m,Oe(y,"req param"),Oe(b,"res data")].filter((function(e){return e})).join("\n\n");l.payload=null==a?void 0:a.body,l.ret=m,l.isErr=+g,n.publishNormalLog({msg:p,level:Ie(f,g),code:m,trace:v},t),n.publishSpeed(l,t)}),0)})):setTimeout((function(){var s=_e(e,{url:i,duration:o,type:c,status:r.status||0,method:(null==a?void 0:a.method)||"get"});s.type="static",s.urlQuery=g(i,!0),n.publishSpeed(s,t)}),0))},catch:function(r,o,i,a,s){var u,c,l,f,p;throw E(i,e.hostUrl)||(u=ke(e,"",i),c=(null==(c=e.api)?void 0:c.reqHeaders)||[],l=xe(null==a?void 0:a.headers,c,"req"),f=te(null==a?void 0:a.headers),p=null!=(c=e.api)&&c.apiDetail?S(null==a?void 0:a.body,null==(c=e.api)?void 0:c.reqParamHandler,{url:i}):"",setTimeout((function(){var c=_e(e,{url:i,duration:o,type:u,status:0,method:(null==a?void 0:a.method)||"get"});n.publishSpeed(c,t),c="AJAX_ERROR: "+r+"\n                          \nreq url: "+i+"\n                          \nres status: 0\n                          \nres duration: "+c.duration+"ms\n                          \nreq method: "+((null==a?void 0:a.method)||"get")+"\n                          \nreq param: "+p+"\n                          \nres startTime: "+s+"\n                          \n"+l,n.publishNormalLog({msg:c,level:T.AJAX_ERROR,code:-400,trace:f},t)}),0)),r}},this.hackFetchOptions=r,this.hackFetchOptions),i=null==(r=e.api)?void 0:r.ignoreHackReg;if(void 0===i&&(i=/\.flv(\?|$)/i),Ue.find((function(e){return e.name===o.name})))throw new Error("name '"+o.name+"' is already in hackFetch option list");Ue.push(o),!Me&&window.fetch&&(Me=!0,Ce=window.fetch,window.fetch=function(e,t){void 0===t&&(t={});var n="string"==typeof e?e:null==e?void 0:e.url;if(null!=(u=null==i?void 0:i.test)&&u.call(i,n))return Ce(n,t);qe.test(n)&&(n=""+location.origin+n);var r,a,s,u=(o||{}).traceRequestHeader;u&&(r=void 0===(r=(t||{}).headers)?{}:r,a=(s=Ee()).host,a=(u=u.generate(n,r,{host:a,pathname:s.pathname})||{}).name,s=u.value)&&a&&(t.headers=Object.assign(r,((u={})[a]=s,u)));for(var c=0;c<Ue.length;c++){var l=Ue[c];try{"function"==typeof l.beforeFetch&&l.beforeFetch(n,t)}catch(e){}}var f=Date.now();return Ce(e,t).then((function(e){for(var r=e.clone(),o=0;o<Ue.length;o++){var i=Ue[o];try{"function"==typeof i.then&&i.then(r,Date.now()-f,n,t,f)}catch(e){}}return r})).catch((function(e){for(var r=0;r<Ue.length;r++){var o=Ue[r];try{"function"==typeof o.catch&&o.catch(e,Date.now()-f,n,t,f)}catch(e){}}throw e}))})},overrideXhr:function(e,t){var n,r=this,o={name:this.name,ignoreHackReg:null==(o=e.api)?void 0:o.ignoreHackReg,traceRequestHeader:null!=(o=e.api)&&o.injectTraceHeader?this.traceRequestHeader:null,send:function(n,o){var i,a,s=Date.now(),u=(((null==e?void 0:e.api)||{}).injectTraceHeader&&(a=(i=Ee()).host,i=(a=r.traceRequestHeader.generate(n.aegisUrl,{},{host:a,pathname:i.pathname})||{}).name,a=a.value,i)&&a&&n.setRequestHeader(i,a),n.addEventListener("loadend",(function(){var i,a,f,d,h=n.aegisUrl||"";E(h,e.hostUrl)||"abort"===n.failType||(i="",(n.failType||!n.status||400<=n.status)&&(i=n.failType||"failed"),a=Date.now()-s,f=n.getResponseHeader("content-type")||"",d=ke(e,f,h),setTimeout((function(){var f=_e(e,{url:h,duration:a,type:d,status:n.status,method:n.aegisMethod||"get"});if("fetch"===d){var v=(null==(v=e.api)?void 0:v.reqHeaders)||[],m=xe(n.aegisXhrReqHeader,v,"req"),y=(v=(null==(v=e.api)?void 0:v.resHeaders)||[],n.getAllResponseHeaders().split("\r\n").reduce((function(e,t){return(t=t.split(": "))[0]&&t[1]&&(e[t[0]]=t[1]),e}),{})),b=xe(y,v,"res"),w=te(n.aegisXhrReqHeader),E=(v=null==(y=e.api)?void 0:y.apiDetail)?S(o,null==(y=e.api)?void 0:y.reqParamHandler,{url:h}):"",x=v?S(n.response,null==(y=e.api)?void 0:y.resBodyHandler,{url:h}):"";try{((e,t,n,r)=>{var o,i,a;try{if("function"==typeof(null==t?void 0:t.retCodeHandlerAsync))return t.retCodeHandlerAsync(e,null==n?void 0:n.url,null==n?void 0:n.ctx,(function(e){var t=e.code;null!=r&&r({code:void 0===t?p:t,isErr:e.isErr})}));if("function"==typeof(null==t?void 0:t.retCodeHandler))return a=(i=t.retCodeHandler(e,null==n?void 0:n.url,null==n?void 0:n.ctx,null==n?void 0:n.payload)||{}).code,null!=r&&r({code:void 0===a?p:a,isErr:i.isErr});if(!(e="string"==typeof e?JSON.parse(e):e))return null!=r&&r({code:p,isErr:!1});"function"==typeof(null==(o=null==t?void 0:t.ret)?void 0:o.join)&&(j=[].concat(t.ret.map((function(e){return e.toLowerCase()}))));var s=Object.getOwnPropertyNames(e).filter((function(e){return-1!==j.indexOf(e.toLowerCase())}));if(s.length)return"未知"!==(a=e[s[0]])&&""!==a||(a=p),null!=r&&r({code:""+a,isErr:0!==a&&"0"!==a&&a!==p});null!=r&&r({code:p,isErr:!1})}catch(e){null!=r&&r({code:p,isErr:!1})}})(n.response,e.api,{url:h,ctx:n,payload:o},(function(e){var n=e.code,a=(e=e.isErr,[i?"AJAX_ERROR: request "+i:"","fetch req url: "+h,"res status: "+(f.status||0),"res duration: "+f.duration+"ms","res startTime: "+s,m,b,"req method: "+(f.method||"GET"),"res retcode: "+n,Oe(E,"req param"),Oe(x,"res data")].filter((function(e){return e})).join("\n\n"));f.ret=n,f.isErr=+e,f.payload=o,r.publishNormalLog({msg:a,level:Ie(!!i,e),code:n,trace:w},t),r.publishSpeed(f,t)}))}catch(v){f.ret=p,r.publishSpeed(f,t)}}else f.type="static",f.urlQuery=g(h,!0),r.publishSpeed(f,t);n.removeEventListener("abort",u),n.removeEventListener("error",c),n.removeEventListener("timeout",l)}),0))})),function(){n.failType="abort"}),c=function(){n.failType="error"},l=function(){n.failType="timeout"};n.addEventListener("abort",u),n.addEventListener("error",c),n.addEventListener("timeout",l)}};this.hackXHROptions=o,n=this.hackXHROptions,Le.find((function(e){return e.name===n.name}))||(Le.push(n),!De&&window.XMLHttpRequest&&(Te=window.XMLHttpRequest.prototype.send,Ae=window.XMLHttpRequest.prototype.open,Re=window.XMLHttpRequest.prototype.setRequestHeader,De=!0,window.XMLHttpRequest.prototype.open=function(){this.aegisMethod=arguments[0];var e,t=arguments[1];if(qe.test(t)&&(t=""+location.origin+t),this.aegisUrl=t,null==(t=null==(e=n.ignoreHackReg)?void 0:e.test)||!t.call(e,this.aegisUrl))if(this.aegisXhrStartTime=Date.now(),this.sendByAegis)ye.isIE()||(this.timeout=5e3);else for(var r=0;r<Le.length;r++){var o=Le[r];try{"function"==typeof o.open&&o.open(this)}catch(e){}}return Ae.apply(this,arguments)},window.XMLHttpRequest.prototype.setRequestHeader=function(){var e,t,r;return null!=(t=null==(r=n.ignoreHackReg)?void 0:r.test)&&t.call(r,this.aegisUrl)?Re.apply(this,arguments):(t=arguments[0],r=arguments[1],this.aegisXhrReqHeader=null!=(e=this.aegisXhrReqHeader)?e:{},null!=n&&n.traceRequestHeader&&-1<["traceparent","b3","sw8","sentry-trace"].indexOf(t)&&(this.aegisXhrReqHeader[t]||(arguments[1]=r),this.aegisXhrReqHeader[t])?void 0:(this.aegisXhrReqHeader[t]=arguments[1],Re.apply(this,arguments)))},window.XMLHttpRequest.prototype.send=function(){var e,t;if(!(null!=(t=null==(e=n.ignoreHackReg)?void 0:e.test)&&t.call(e,this.aegisUrl)||this.sendByAegis))for(var r=0;r<Le.length;r++){var o=Le[r];try{"function"==typeof o.send&&o.send(this,arguments[0])}catch(e){}}return Te.apply(this,arguments)}))},publishSpeed:function(e){var t=this;this.$walk((function(n){var r=t.$getConfig(n);"fetch"!==e.type||"function"!=typeof(null==r?void 0:r.urlHandler)?(e.url=g(e.url),n.speedLogPipeline(e)):n.speedLogPipeline(o(o({},e),{url:g(r.urlHandler(e.url,e.payload))}))}))},publishNormalLog:function(e){this.$walk((function(t){t.normalLogPipeline(e)}))},destroy:function(){var e,t,n;this.option.publishSpeed=function(){},this.option.publishNormalLog=function(){},this.option.hackXHROptions&&(e=this.option.hackXHROptions,-1!==(n=Le.findIndex((function(t){return t.name===e.name}))))&&Le.splice(n,1),this.option.hackFetchOptions&&(t=this.option.hackFetchOptions,-1!==(n=Ue.findIndex((function(e){return e.name===t.name}))))&&Ue.splice(n,1),this.option.override=!1}})),Fe={},He=new pe({name:"reportBridgeSpeed",override:!1,onNewAegis:function(e){this.override||(this.override=!0,this.overrideBridge(e))},publishSpeed:function(e,t){this.$walk((function(n){n===t&&n.speedLogPipeline(e)}))},overrideBridge:function(e){var t=this,n=e.config;n.reportBridgeSpeed&&n.h5Bridge&&n.h5BridgeFunc.length&&n.h5BridgeFunc.forEach((function(r){var o=n.h5Bridge[r];Fe[r]=o,n.h5Bridge[r]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=r[0],s=r[1],u=r[2],c=r[3],l=Date.now();o(a,s,u,(function(r){var o=(i=w(r,n.api)).code,i=i.isErr;o={url:a+"-"+s,name:a+"-"+s,duration:Date.now()-l,type:"bridge",ret:o,isErr:+i},t.publishSpeed(o,e),c(r)}))}}))},unHackBridge:function(e){Object.keys(Fe).forEach((function(t){Fe[t]&&(e.config.h5Bridge[t]=Fe[t])})),Fe={}},destroy:function(e){this.option.publishSpeed=function(){},this.option.unHackBridge(e),this.option.override=!1}});function Ve(e,t,n,r){return void 0===n&&(n=15e3),void 0===r&&(r=0),(t=void 0===t?0:t)<=e&&e<=n?e:r}(nt=Pe=Pe||{})[nt.unknown=100]="unknown",nt[nt.wifi=1]="wifi",nt[nt.net2g=2]="net2g",nt[nt.net3g=3]="net3g",nt[nt.net4g=4]="net4g",nt[nt.net5g=5]="net5g",nt[nt.net6g=6]="net6g",(nt=je=je||{})[nt.android=1]="android",nt[nt.ios=2]="ios",nt[nt.windows=3]="windows",nt[nt.macos=4]="macos",nt[nt.linux=5]="linux",nt[nt.other=100]="other",(nt=Ne=Ne||{})[nt.unknown=100]="unknown",nt[nt.normal=0]="normal",nt[nt.weak=1]="weak",nt[nt.disconnected=2]="disconnected";var We,Ge,Je,Ke,Qe,$e,ze,Xe,Ye,Ze,et,tt,nt=new pe({name:"device",onNewAegis:function(e){e.extendBean("platform",this.getPlatform()),e.extendBean("netType",Pe.unknown),this.getDpi(e),this.refreshNetworkTypeToBean(e),this.refreshNetworkStatusToBean(e)},getDpi:function(e){e.extendBean("vp",Math.round(window.innerWidth)+" * "+Math.round(window.innerHeight)),window.screen&&e.extendBean("sr",Math.round(window.screen.width)+" * "+Math.round(window.screen.height))},getPlatform:function(){var e={android:/\bAndroid\s*([^;]+)/,ios:/\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,windows:/\b(Windows NT)/,macos:/\b(Mac OS)/,linux:/\b(Linux)/i},t=Object.keys(e).find((function(t){return e[t].test(navigator.userAgent)}));return t?je[t]:je.other},refreshNetworkTypeToBean:function(e){var t=this,n=e.config;n&&("function"==typeof n.getNetworkType?n.getNetworkType:rt)((function(n){Pe[n]||(n=Pe.unknown),e.extendBean("netType",n),t.NetworkRefreshTimer=setTimeout((function(){t.refreshNetworkTypeToBean(e),clearTimeout(t.NetworkRefreshTimer)}),1e4)}))},refreshNetworkStatusToBean:function(e){var t,n=this,r=e.config;r&&null!=(t="function"==typeof r.getNetworkStatus?r.getNetworkStatus:t)&&t((function(t){void 0===Ne[t]&&(t=Ne.unknown),e.extendBean("netStatus",t),n.NetworkStatusRefreshTimer=setTimeout((function(){n.refreshNetworkStatusToBean(e),clearTimeout(n.NetworkStatusRefreshTimer)}),1e4)}))}}),rt=function(e){var t="",n=navigator.userAgent.match(/NetType\/(\w+)/);n?t=n[1]:navigator.connection&&(t=navigator.connection.effectiveType||navigator.connection.type),e((n=t=t||p,0<=(n=String(n).toLowerCase()).indexOf("4g")?Pe.net4g:0<=n.indexOf("wifi")?Pe.wifi:0<=n.indexOf("5g")?Pe.net5g:0<=n.indexOf("6g")?Pe.net6g:0<=n.indexOf("3g")?Pe.net3g:0<=n.indexOf("2g")?Pe.net2g:Pe.unknown))},ot=window.WebSocket,it=[],at={construct:function(e,t){var n=new e(t[0],t[1]);return n.originSend=n.send,n.addEventListener("error",(function(e){var t=(e=(null==e?void 0:e.currentTarget)||{}).url,n=e.readyState;null!=it&&it.forEach((function(e){null!=(e=e.onErr)&&e({msg:"无法获知具体错误信息，需在浏览器控制台查看！",readyState:n,connectUrl:t})}))})),Object.defineProperty(n,"send",{get:function(){return function(e){null!=(t=n.originSend)&&t.call(n,e);var t=n.readyState;if(t!==WebSocket.OPEN){var r={readyState:t,connectUrl:n.url};switch(t){case WebSocket.CLOSED:it.forEach((function(e){null!=(e=e.sendErr)&&e(o({msg:"消息发送失败，连接已关闭！"},r))}));break;case WebSocket.CONNECTING:it.forEach((function(e){(0,e.sendErr)(o({msg:"消息发送失败，正在连接中！"},r))}));break;case WebSocket.CLOSING:it.forEach((function(e){(0,e.sendErr)(o({msg:"消息发送失败，连接正在关闭！"},r))}))}}}}}),n}},st=new pe({name:"onError"}),ut=st=new pe({name:"onError",onNewAegis:function(e){this.startListen(e)},startListen:function(e){function t(t){var n,r=t&&D(t.reason);r&&l.publishErrorLog({msg:"PROMISE_ERROR: "+r,errorMsg:null==(n=null==(t=(null==(n=t.reason)?void 0:n.message)||(null==(n=t.reason)?void 0:n.errMsg)||r)?void 0:t.slice)?void 0:n.call(t,0,150),level:T.PROMISE_ERROR},e)}function n(t){var n;if(t=(null==t?void 0:t.target)||(null==t?void 0:t.srcElement)){var r=t.src||t.href||"";if(t=void 0===(t=t.tagName)?"script":t,!(E(n=r,e.config.hostUrl)||-1<window.location.href.indexOf(n))){var o={msg:t+" load fail: "+r,level:T.INFO};if(/\.js$/.test(r))o.level=T.SCRIPT_ERROR;else if(/\.css$/.test(r))o.level=T.CSS_ERROR;else switch(t.toLowerCase()){case"script":o.level=T.SCRIPT_ERROR;break;case"link":o.level=T.CSS_ERROR;break;case"img":o.level=T.IMAGE_ERROR;break;case"audio":case"video":o.level=T.MEDIA_ERROR;break;default:return}l.publishErrorLog(o,e)}}}var r,o,a,s,l=this,f=window.onerror;window.onerror=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,o=D(t[0]);"string"!=typeof(r=o)||!r||c.some((function(e){return-1<r.indexOf(e)}))||u.some((function(e){return-1<r.indexOf(e)}))||l.publishErrorLog({msg:(o||"")+" @ ("+(D(t[1])||"")+":"+(t[2]||0)+":"+(t[3]||0)+")\n          \n"+D(t[4]||""),level:T.ERROR},e),null!=f&&f.call.apply(f,i([window],t))},window.addEventListener("unhandledrejection",t),window.document.addEventListener("error",n,!0),e.lifeCycle.on("destroy",(function(){0===st.countInstance()&&(window.document.removeEventListener("unhandledrejection",t),window.document.removeEventListener("error",n,!0))})),e.config.websocketHack&&(r={key:e.config.id+"-"+this.name,onErr:function(t){var n;null!=(n=l.publishWsErrorLog)&&n.call(l,t,e)},sendErr:function(t){var n;null!=(n=l.publishWsErrorLog)&&n.call(l,t,e)}},this.hackWebsocketConfig=r,r=this.hackWebsocketConfig,window.Proxy)&&window.WebSocket&&(o=window.WebSocket,window&&!o.isHack&&(a=new Proxy(WebSocket,at),o.isHack=!0,window.WebSocket=a),s=r,it.find((function(e){return e.key===s.key}))||s&&it.push(s))},publishErrorLog:function(e,t){this.$walk((function(n){n===t&&n.normalLogPipeline(e)}))},publishWsErrorLog:function(e,t){var n=e.connectUrl;this.publishErrorLog({msg:"WEBSOCKET_ERROR: \n              connect: "+n+"\n              readyState: "+e.readyState+"\n              msg: "+e.msg,level:T.WEBSOCKET_ERROR},t)},destroy:function(){var e,t;this.option.publishErrorLog=function(){},this.option.hackWebsocketConfig&&(e=this.option.hackWebsocketConfig,window.WebSocket=ot,-1!==(t=it.findIndex((function(t){return t.key===e.key}))))&&it.splice(t,1)}}),ct=(new pe({name:"pagePerformance"}),3),lt=new pe({name:"pagePerformance",performanceMap:{},onNewAegis:function(e){oe()&&(We?this.publish(We,e):this.startCalcPerformance(e))},publish:function(e,t){var n=this;this.$walk((function(r){r===t&&r.sendPipeline([function(e,t){var o,i=[];for(o in e)i.push(o+"="+e[o]);var a,s=n.$getConfig(r);if(s)return a=-1===(null==(a=r.config.performanceUrl)?void 0:a.indexOf("?"))?"?":"&","function"==typeof s.urlHandler?t({url:r.config.performanceUrl+a+i.join("&")+"&from="+(encodeURIComponent(s.urlHandler())||window.location.href),beanFilter:["from"],type:A.PERFORMANCE,log:e}):t({url:r.config.performanceUrl+a+i.join("&"),type:A.PERFORMANCE,log:e})}],A.PERFORMANCE)(o({},e))}))},startCalcPerformance:function(e){var t=this;try{this.getFirstScreenTiming(e,(function(n){var r=performance.timing;r&&(We={dnsLookup:Ve(r.domainLookupEnd-r.domainLookupStart),tcp:Ve(r.connectEnd-r.connectStart),ssl:Ve(0===r.secureConnectionStart?0:r.requestStart-r.secureConnectionStart),ttfb:Ve(r.responseStart-r.requestStart),contentDownload:Ve(r.responseEnd-r.responseStart),domParse:Ve(r.domInteractive-r.domLoading,0,15e3,1070),resourceDownload:Ve(r.loadEventStart-r.domInteractive,0,15e3,1070),firstScreenTiming:Ve(Math.floor(n),0,15e3,15e3)},(r=e.config).extraPerformanceData&&"{}"!==JSON.stringify(r.extraPerformanceData)&&(r=(n=r.extraPerformanceData).engineInit,n=n.bundleLoad,We=o(o({},We),{engineInit:Ve(r,0,1e4),bundleLoad:Ve(n,0,1e4)})),t.publish(We,e))}))}catch(e){}},getFirstScreenTiming:function(e,t){var n=this;e.lifeCycle.on("destroy",(function(){f&&clearTimeout(f)}));var r,o=this,i=["script","style","link","br"],a=[],s={},u=(-1<(null==(c=null==(c=window.PerformanceObserver)?void 0:c.supportedEntryTypes)?void 0:c.indexOf("paint"))&&(r=new PerformanceObserver((function(o){o.getEntries().forEach((function(o){var i;"paint"===o.entryType&&"first-contentful-paint"===o.name&&0<(i=document.querySelectorAll("[AEGIS-FIRST-SCREEN-TIMING]")).length&&e.config.id&&!n.performanceMap[e.config.id]&&(n.setFirstScreenInfo(e,o.startTime,i[0],i),null!=t&&t(o.startTime),u.disconnect(),r.disconnect(),f)&&clearTimeout(f)}))}))).observe({entryTypes:["paint"]}),new MutationObserver((function(e){var t={roots:[],ignores:[],rootsDomNum:[],time:performance.now()};e.forEach((function(e){e&&e.addedNodes&&Array.prototype.slice.call(e.addedNodes).forEach((function(e){o.isEleInArray(e,t.ignores)?t.ignores.push(e):1===e.nodeType&&e.hasAttribute("AEGIS-FIRST-SCREEN-TIMING")?(Object.prototype.hasOwnProperty.apply(s,[t.time])||(s[t.time]=[]),s[t.time].push(e)):1===e.nodeType&&(o.hasAncestorOrSelfWithAttribute(e,"AEGIS-IGNORE-FIRST-SCREEN-TIMING")?t.ignores.push(e):-1!==i.indexOf(e.nodeName.toLocaleLowerCase())||o.isEleInArray(e,t.roots)||(t.roots.push(e),t.rootsDomNum.push(o.walkAndCount(e)||0)))}))})),t.roots.length&&a.push(t)})));u.observe(document,{childList:!0,subtree:!0});var c,l=function(i){(i=void 0===i?0:i)||(c=0,(p=Object.keys(s)).length?(i=Math.max.apply(null,p),n.setFirstScreenInfo(e,i,null==(p=s[i])?void 0:p[0],s)):a.forEach((function(t){for(var r=0;r<t.roots.length;r++)t.rootsDomNum[r]>c&&o.isInFirstScreen(t.roots[r])&&(c=t.rootsDomNum[r],i=t.time,n.setFirstScreenInfo(e,i,t.roots[r]))})),a.length=0,Object.keys(s).forEach((function(e){s[e]=s[e].map((function(e){var t={tagName:e.tagName},n=e.attributes;if(!n)return e;for(var r=0;r<n.length;r++){var o=n[r];o.name&&(t[o.name]=e.getAttribute(o.name))}return t}))})));var c,p=performance.timing,d=p.domInteractive-p.domLoading,h=i;f=null;for(var v=0,m=[d,p.loadEventStart-p.domInteractive,h];v<m.length;v++)if(m[v]<=0&&0<ct){f=setTimeout((function(){return l(h)}),3e3);break}f?--ct:(u.disconnect(),null!=r&&r.disconnect(),null!=t&&t(i))},f=setTimeout((function(){return l()}),3e3)},setFirstScreenInfo:function(e,t,n,r){var o;e.config.id&&this.performanceMap[e.config.id]||(e.config.id&&(this.performanceMap[e.config.id]=!0),("object"!=typeof(null==(o=e.config)?void 0:o.pagePerformance)||null!=(o=e.config.pagePerformance)&&o.firstScreenInfo)&&(e.firstScreenInfo={element:n,timing:t,markDoms:r}))},isEleInArray:function(e,t){return!(!e||e===document.documentElement)&&(-1!==t.indexOf(e)||this.isEleInArray(e.parentElement,t))},isInFirstScreen:function(e){var t;return!(!e||"function"!=typeof e.getBoundingClientRect)&&(e=e.getBoundingClientRect(),t=window.innerHeight,0<=e.left)&&e.left<window.innerWidth&&0<=e.top&&e.top<t&&0<e.width&&0<e.height},walkAndCount:function(e){var t=0;if(e&&1===e.nodeType){t+=1;var n=e.children;if(null!=n&&n.length)for(var r=0;r<n.length;r++)1===n[r].nodeType&&n[r].hasAttribute("AEGIS-IGNORE-FIRST-SCREEN-TIMING")||(t+=this.walkAndCount(n[r]))}return t},hasAncestorOrSelfWithAttribute:function(e,t){for(var n=e;n&&n!==document.body;){if(n.hasAttribute(t))return!0;n=n.parentElement}return!1}});function ft(){Qe=[],Je=-1,Ge=null,et(addEventListener)}function pt(e,t){var n=Pt(),r="navigate";return 0<=Rt?r="back-forward-cache":n&&(document.prerendering||0<jt()?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}}function dt(e,t,n){try{var r;if(PerformanceObserver.supportedEntryTypes.includes(e))return(r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}))).observe(Object.assign({type:e,buffered:!0},n||{})),r}catch(e){}}function ht(e,t,n,r){var o,i;return function(a){0<=t.value&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=(a=t.value)>n[1]?"poor":a>n[0]?"needs-improvement":"good",e(t))}}function vt(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))}function mt(e){function t(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)}addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)}function gt(e){var t=!1;return function(n){t||(e(n),t=!0)}}function yt(){return Nt<0&&(Nt=Dt(),qt(),Ct((function(){setTimeout((function(){Nt=Dt(),qt()}),0)}))),{get firstHiddenTime(){return Nt}}}function bt(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()}function wt(e,t){t=t||{},bt((function(){var n,r=yt(),o=pt("FCP"),i=dt("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime)&&(o.value=Math.max(e.startTime-jt(),0),o.entries.push(e),n(!0))}))}));i&&(n=ht(e,o,Ut,t.reportAllChanges),Ct((function(r){o=pt("FCP"),n=ht(e,o,Ut,t.reportAllChanges),vt((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))}function St(e){var t,n,r,o,i,a;e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,"pointerdown"==e.type?(n=t,r=e,o=function(){Vt(n,r),a()},i=function(){a()},a=function(){removeEventListener("pointerup",o,Ft),removeEventListener("pointercancel",i,Ft)},addEventListener("pointerup",o,Ft),addEventListener("pointercancel",i,Ft)):Vt(t,e))}function Et(e,t){function n(e,t,n,r){function o(i){"visibilitychange"===e&&"hidden"!==document.visibilityState||(r?setTimeout((function(){return t(i)}),r):t(i),n&&removeEventListener(e,o,!0))}addEventListener(e,o,!0)}var r;n("visibilitychange",e,null==t?void 0:t.once,null==(r=null==t?void 0:t.delay)?void 0:r.visibilitychange),n("pagehide",e,null==t?void 0:t.once,null==(r=null==t?void 0:t.delay)?void 0:r.pagehide)}function xt(e){var t=e.name;0<(e=e.value)&&($t[t]=e)}$e={passive:!0,capture:!0},ze=new Date,Xe=function(e,t){Ge||(Ge=t,Je=e,Ke=new Date,et(removeEventListener),Ye())},Ye=function(){var e;0<=Je&&Je<Ke-ze&&(e={entryType:"first-input",name:Ge.type,target:Ge.target,cancelable:Ge.cancelable,startTime:Ge.timeStamp,processingStart:Ge.timeStamp+Je},Qe.forEach((function(t){t(e)})),Qe=[])},Ze=function(e){var t,n,r,o,i,a;e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,"pointerdown"==e.type?(n=t,r=e,o=function(){Xe(n,r),a()},i=function(){a()},a=function(){removeEventListener("pointerup",o,$e),removeEventListener("pointercancel",i,$e)},addEventListener("pointerup",o,$e),addEventListener("pointercancel",i,$e)):Xe(t,e))},et=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Ze,$e)}))},tt="hidden"===document.visibilityState?0:1/0,addEventListener("visibilitychange",(function e(t){"hidden"===document.visibilityState&&(tt=t.timeStamp,removeEventListener("visibilitychange",e,!0))}),!0),ft(),self.webVitals={firstInputPolyfill:function(e){Qe.push(e),Ye()},resetFirstInputPolyfill:ft,get firstHiddenTime(){return tt}};var Ot,kt,It,_t,Tt,At,Rt=-1,Ct=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Rt=t.timeStamp,e(t))}),!0)},Pt=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},jt=function(){var e=Pt();return e&&e.activationStart||0},Nt=-1,Dt=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Lt=function(e){"hidden"===document.visibilityState&&-1<Nt&&(Nt="visibilitychange"===e.type?e.timeStamp:0,Mt())},qt=function(){addEventListener("visibilitychange",Lt,!0),addEventListener("prerenderingchange",Lt,!0)},Mt=function(){removeEventListener("visibilitychange",Lt,!0),removeEventListener("prerenderingchange",Lt,!0)},Ut=[1800,3e3],Bt=[.1,.25],Ft={passive:!0,capture:!0},Ht=new Date,Vt=function(e,t){Ot||(Ot=t,kt=e,It=new Date,Gt(removeEventListener),Wt())},Wt=function(){var e;0<=kt&&kt<It-Ht&&(e={entryType:"first-input",name:Ot.type,target:Ot.target,cancelable:Ot.cancelable,startTime:Ot.timeStamp,processingStart:Ot.timeStamp+kt},_t.forEach((function(t){t(e)})),_t=[])},Gt=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,St,Ft)}))},Jt=[100,300],Kt=[2500,4e3],Qt={},$t=(new pe({name:"webVitals"}),{FCP:-1,LCP:-1,FID:-1,CLS:-1}),zt=new pe({name:"webVitals",onNewAegis:function(e){if(oe()&&"function"==typeof window.PerformanceObserver&&"function"==typeof performance.getEntriesByName)try{wt(xt),i=xt,a={},bt((function(){function e(e){(e=e[e.length-1])&&e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-jt(),0),o.entries=[e],t())}var t,n,r=yt(),o=pt("LCP"),s=dt("largest-contentful-paint",e);s&&(t=ht(i,o,Kt,a.reportAllChanges),n=gt((function(){Qt[o.id]||(e(s.takeRecords()),s.disconnect(),Qt[o.id]=!0,t(!0))})),["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(n,0)}),!0)})),mt(n),Ct((function(e){o=pt("LCP"),t=ht(i,o,Kt,a.reportAllChanges),vt((function(){o.value=performance.now()-e.timeStamp,Qt[o.id]=!0,t(!0)}))})))})),r=xt,o={},bt((function(){function e(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),s(!0))}function t(t){t.forEach(e)}var n=yt(),i=pt("FID"),a=dt("first-input",t),s=ht(r,i,Jt,o.reportAllChanges);a&&mt(gt((function(){t(a.takeRecords()),a.disconnect()}))),a&&Ct((function(){i=pt("FID"),s=ht(r,i,Jt,o.reportAllChanges),_t=[],kt=-1,Ot=null,Gt(addEventListener),_t.push(e),Wt()}))})),t=xt,n={},wt(gt((function(){function e(e){e.forEach((function(e){var t,n;e.hadRecentInput||(t=a[0],n=a[a.length-1],i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e]))})),i>o.value&&(o.value=i,o.entries=a,r())}var r,o=pt("CLS",0),i=0,a=[],s=dt("layout-shift",e);s&&(r=ht(t,o,Bt,n.reportAllChanges),mt((function(){e(s.takeRecords()),r(!0)})),Ct((function(){o=pt("CLS",i=0),r=ht(t,o,Bt,n.reportAllChanges),vt((function(){return r()}))})),setTimeout(r,0))}))),Et(this.publish.bind(this,e),{once:!0,delay:{visibilitychange:10}})}catch(e){}var t,n,r,o,i,a},publish:function(e){this.$walk((function(t){var n;t===e&&null!=(n=t.sendPipeline)&&n.call(t,[function(e,n){var r,o=[];for(r in e)o.push(r+"="+e[r]);var i=-1===(null==(i=null==(i=t.config)?void 0:i.performanceUrl)?void 0:i.indexOf("?"))?"?":"&";n({url:t.config.webVitalsUrl+i+o.join("&"),type:A.VITALS,log:e,sendBeacon:!0})}],A.VITALS)(o({},$t))}))},destroy:function(){this.option.publish=function(){}}}),Xt=(new pe({name:"spa"}),["replaceState","pushState","popstate","hashchange"]),Yt=new pe({name:"spa",originFireUrl:"",onNewAegis:function(e){var t=this;history.pushState=this.wr("pushState")||history.pushState,history.replaceState=this.wr("replaceState")||history.replaceState,this.sendPv=this.sendPv.bind(this),e.config.spa&&this.sendPv(e),Xt.forEach((function(n){return window.addEventListener(n,(function(){return t.sendPv.call(t,e)}))}))},wr:function(e){var t=history[e],n="__"+e+"__hasWrittenByTamSpa";return"function"==typeof t&&!history[n]&&(Object.defineProperty(history,n,{value:!0,enumerable:!1}),function(){var n=t.apply(this,arguments),r=null;return"function"==typeof Event?r=new Event(e):(r=document.createEvent("HTMLEvents")).initEvent(e,!1,!0),window.dispatchEvent(r),n})},sendPv:function(e){var t=this;setTimeout((function(){var n=location.pathname+location.hash+e.config.id;t.$walk((function(r){var o;r===e&&(o=r.config.pvUrl)&&n&&n!==t.originFireUrl&&(r.sendPipeline([function(e,t){t({url:""+o,type:A.PV})}],A.PV)(null),t.originFireUrl=n)}))}),0)},destroy:function(){this.option.sendPv=function(){}}});function Zt(e){var t,n,r,i,a=Tt.call(this,e)||this;a.sendNow=!1,a.isReportReady=!1,a.reportRequestQueue=[],a.speedLogPipeline=ne([x(a),(i=a.config,function(e,t){var n,r,o,a="number"==typeof i.repeat?i.repeat:60;!i.speedSample||a<=0?t(e):(n=(null==i?void 0:i.id)||"0",r=W[n]||{},Array.isArray(e)?(o=e.filter((function(e){var t=!r[e.url]||r[e.url]<a;return t?(r[e.url]=1+~~r[e.url],W[n]=r):V[n]||G(n),t}))).length&&t(o):!r[e.url]||r[e.url]<a?(r[e.url]=1+~~r[e.url],W[n]=r,t(e)):V[n]||G(n))}),(r=a,function(e,t){rt((function(n){r.extendBean("netType",n),t(e)}))}),function(e,t){null!=(n=a.lifeCycle)&&n.emit("beforeReportSpeed",e);var n,r=a.config.beforeReportSpeed;if((e="function"==typeof r?e.filter((function(e){return!1!==r(e)})):e).length)return t(e)},function(e,t){t(e.map((function(e){return void 0!==e.payload&&delete e.payload,e})))},function(e){return a.sendPipeline([function(e,t){var n,r,i,s;t({type:A.SPEED,url:""+a.config.speedUrl,method:"post",data:(t=e,n=o(o({},a.bean),{from:a.getCurrentPageUrl()}),i={fetch:[],static:[],bridge:[]},s=new FormData,Array.isArray(t)?t.forEach((function(e){var t=he(e);i[e.type].push(t)})):(r=he(t),i[t.type].push(r)),s.append("payload",L(o({duration:i},n))),s),log:e})}],A.SPEED)(e)}]),e.asyncPlugin=!0;try{"undefined"!=typeof document&&(e.uin=e.uin||(null!=(t=document.cookie.match(/\buin=\D+(\d*)/))?t:[])[1]||(null!=(n=document.cookie.match(/\bilive_uin=\D*(\d+)/))?n:[])[1]||""),a.init(e),a.extendBean("sessionId",Zt.sessionID),a.extendBean("from",a.getCurrentPageUrl()),"undefined"!=typeof document&&a.extendBean("referer",encodeURIComponent(document.referrer||"")),e.ext1&&a.extendBean("ext1",encodeURIComponent(e.ext1)),e.ext2&&a.extendBean("ext2",encodeURIComponent(e.ext2)),e.ext3&&a.extendBean("ext3",encodeURIComponent(e.ext3))}catch(e){a.sendSDKError(e)}return a}function en(){this.constructor=At}r(At=Zt,fe=Tt=fe),At.prototype=null===fe?Object.create(fe):(en.prototype=fe.prototype,new en),Zt.prototype.getBean=function(e){var t=this;return void 0===e&&(e=[]),""+Object.getOwnPropertyNames(this.bean).filter((function(t){return-1===e.indexOf(t)})).map((function(e){return"from"===e?"from="+t.getCurrentPageUrl():e+"="+t.bean[e]})).join("&")},Zt.prototype.getCurrentPageUrl=function(){var e=this.config.pageUrl||location.href;return e=(e="function"==typeof this.config.urlHandler?this.config.urlHandler()||location.href:e).slice(0,2048),encodeURIComponent(e)},Zt.prototype.ready=function(){function e(){var n,r,o,i;t.reportRequestQueue.length&&(n=t.reportRequestQueue.splice(0,1)[0],r=n.options,o=n.success,i=n.fail,t.$request(r,(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return null==o?void 0:o.apply(r,t)}finally{e()}}),(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return null==i?void 0:i.apply(r,t)}finally{e()}})))}var t=this;e(),this.isReportReady=!0},Zt.prototype.request=function(e,t,n){this.config.reportImmediately||this.isReportReady?this.$request(e,t,n):this.reportRequestQueue.push({options:e,success:t,fail:n})},Zt.prototype.$request=function(e,t,n){var r,i,a,s;if(e&&"string"==typeof e.url&&""!==e.url&&this.bean.id)return s=e.url,!1!==e.addBean&&(s=((t,n)=>{var r,o,i,a=t,s=e.beanFilter||[];for(r in n)-1===s.indexOf(r)&&((i=(o=new RegExp("([?&])"+r+"(=([^&]*))?(?=&|$)")).exec(a))?i[2]&&""!==i[3]&&"undefined"!==i[3]||(a=a.replace(o,"$1"+r+"="+n[r])):(i=-1<a.indexOf("?")?"&":"?",a+=i+r+"="+n[r]));return a})(s,o(o({},this.bean),{from:this.getCurrentPageUrl()}))),e.url=s,s=e.method||"get",i=this.config.onBeforeRequest,(e=i?i(e,this):e)&&e.url?void((null!=e&&e.sendBeacon||this.sendNow)&&"function"==typeof(null==navigator?void 0:navigator.sendBeacon)?navigator.sendBeacon(e.url,e.data):((r=new XMLHttpRequest).sendByAegis=!0,r.addEventListener("readystatechange",(function(){4===r.readyState&&(400<=r.status||0===r.status?null!=n&&n(r.response):null!=t&&t(r.response))})),"get"===s.toLocaleLowerCase()?(r.open("get",(i=e.url,a=e.data,"string"!=typeof i?"":"object"==typeof a&&a?(s=Object.getOwnPropertyNames(a).map((function(e){var t=a[e];return e+"="+("string"==typeof t?encodeURIComponent(t):encodeURIComponent(JSON.stringify(t)))})).join("&").replace(/eval/gi,"evaI"),i+(-1===i.indexOf("?")?"?":"&")+s):i)),r.send()):(r.open("post",e.url),e.contentType&&r.setRequestHeader("Content-Type",e.contentType),"string"==typeof e.data&&(e.data=e.data.replace(/eval/gi,"evaI")),r.send(e.data)))):void 0},Zt.prototype.publishPluginsLogs=function(){var e=Zt.installedPlugins.find((function(e){return"reportAssetSpeed"===e.name}));null!=e&&e.option.collectNotReportedLog(this)},Zt.prototype.uploadLogs=function(e,t){var n;void 0===e&&(e={}),void 0===t&&(t={}),null!=(n=this.lifeCycle)&&n.emit("uploadLogs",e,t)},Zt.sessionID="session-"+Date.now(),fe=Zt,new pe({name:"ie"}),new pe({name:"onClose"});var tn=new pe({name:"onClose",onNewAegis:function(e){var t,n=this;ye.desktop()?(t=window.onunload,window.onunload=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n.publishNotReportedLog(e),null!=t&&t.call.apply(t,i([window],r))}):Et(this.publishNotReportedLog.bind(this,e),{once:!0})},publishNotReportedLog:function(e){var t=this;this.$walk((function(n){n===e&&(n.sendNow=!0,n.publishPluginsLogs(),t.publishThrottlePipeLogs(n))}))},publishThrottlePipeLogs:function(e){null!=e&&e.speedLogPipeline([]),null!=e&&e.eventPipeline([]),null!=e&&e.customTimePipeline([]),null!=e&&e.normalLogPipeline([])}});return new pe({name:"aid"}),fe.use(ut),fe.use(Be),fe.use(me),fe.use(lt),fe.use(zt),fe.use(de),fe.use(nt),fe.use(Yt),fe.use(tn),fe.use(He),fe}()},22532:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}n.d(t,{A:()=>Ei}),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var o={exports:{}},i={exports:{}},a={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(a);var s=r(a.exports),u={exports:{}};!function(e){var t=a.exports.default;e.exports=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(u),function(e){var t=a.exports.default,n=u.exports;e.exports=function(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""},e.exports.__esModule=!0,e.exports.default=e.exports}(i),function(e){var t=i.exports;function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(o);var c,l=r(o.exports),f={exports:{}};(c=f).exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c.exports.__esModule=!0,c.exports.default=c.exports;var p=r(f.exports),d={exports:{}},h={exports:{}};!function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}(h),function(e){var t=a.exports.default,n=h.exports;e.exports=function(e,r){if(r&&("object"==t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(d);var v=r(d.exports),m={exports:{}};!function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(m);var g=r(m.exports),y={exports:{}},b={exports:{}};!function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(b),function(e){var t=b.exports;e.exports=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)},e.exports.__esModule=!0,e.exports.default=e.exports}(y);var w=r(y.exports);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}!function(e){function t(){var t=this||self;return delete e.prototype.__magic__,t}"object"==typeof globalThis?globalThis:this?t():(e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t}),__magic__)}(Object);var E={useText:[".ant-btn",'[role="menuitem"]',".ant-cascader-menu-item",".ant-checkbox-wrapper",".ant-radio-wrapper",".ant-radio-button-wrapper",".ant-select-item",'[role="button"]',".ant-tabs-tab"]},x={useText:[".adm-side-bar-item",".adm-tabs-tab",".adm-selector-item",".adm-button",".adm-dropdown-item",".adm-capsule-tabs-tab",".adm-checkbox"]},O={useText:[".el-button",".el-checkbox-button",".el-menu-item",".el-radio-button",".el-select-dropdown__item",".el-tabs__item",".el-cascader-node",".el-select-dropdown__item"]},k={useText:[".omui-button",".omui-radio",".omui-checkbox",".omui-dropdown__item",".omui-tab__label",".omui-select__item",".omui-suggestion__option"],useAttribute:{ignore:["_nk"]}},I={useText:[".t-button",".t-menu__item",".t-checkbox",".t-radio",".t-radio-button",".t-select-option",".t-anchor__item",".t-dropdown__item",".t-breadcrumb__item",".t-tabs__nav-item",".t-tree__item",".t-drawer__header",".t-popconfirm__inner"]},_={omui:{click:{autoSelector:[".omui-button",".omui-radio",".omui-input__inner",".omui-checkbox",".omui-dropdown__trigger",".omui-dropdown__item",".omui-tab__label",".omui-textarea",".omui-datepicker-input",".omui-icon-clear-reverse",".omui-thumb",".omui-select__input",".omui-select__item",".omui-swiper",".omui-suggestion__control",".omui-suggestion__option",".omui-upload-normal-trigger",".omui-upload-image-trigger",".omui-upload-container-wrap",".omui-button"],autoStrategy:k},area:{autoSelector:[".omui-panel",".omui-form__group",".omui-table-table",".omui-tooltip__content"],autoStrategy:k}},antd:{click:{autoSelector:['[role="menuitem"]',".ant-cascader-menu-item",".ant-checkbox-wrapper",".ant-radio-wrapper",".ant-radio-button-wrapper",".ant-select",".ant-select-item",'[role="button"]',".ant-tabs-tab"],autoStrategy:E},area:{autoSelector:[".ant-card",".ant-list",".ant-table",".ant-tabs-tabpane",'[role="tooltip"]','[role="dialog"]',".ant-notification-notice",".ant-form-item",'[role="button"]','[role="menuitem"]'],autoStrategy:E}},element:{click:{autoSelector:[".el-radio",".el-input",".el-checkbox",".el-input-number",".el-cascader",".el-dropdown",".el-tabs__item",".el-textarea",".el-date-editor",".el-switch",".el-select",".el-slider__button",".el-upload",".el-radio-button",".el-icon",".el-button",".el-slider",".el-checkbox-button",".el-color-picker",".el-select-v2",".el-avatar",".el-calendar",".el-carousel__item",".el-image",".el-tree-node",".el-backtop",".el-menu-item",".el-tabs__item",".el-select-dropdown__item",".el-button",".el-menu-item"],autoStrategy:O},area:{autoSelector:[".el-tabs",".el-table",".el-form",".el-card",".el-descriptions",".el-timeline",".el-dialog"],autoStrategy:O}},antdm:{click:{autoSelector:[".adm-side-bar-item",".adm-input",".adm-button",".adm-checkbox",".adm-cascader",".adm-picker",".adm-radio",".adm-switch",".adm-image-uploader",".adm-tabs-tab",".adm-tab-bar",".adm-dropdown-item",".adm-selector-item",".adm-text-area",".adm-calendar-cell",".adm-action-sheet-button-item-wrapper",".adm-capsule-tabs-tab",".adm-list-item"],autoStrategy:x},area:{autoSelector:[".adm-card",".adm-tabs",".adm-form",".adm-list",".adm-picker-body",".adm-popup-body",".adm-button",".adm-side-bar-item"],autoStrategy:x}},tdesign:{click:{autoSelector:[".t-button",".t-menu__item",".t-input",".t-checkbox",".t-radio",".t-radio-button",".t-select",".t-select-option",".t-anchor__item",".t-dropdown__item",".t-breadcrumb__item",".t-tabs__nav-item",".t-tabs__btn",".t-date-picker__cell",".t-switch",".t-textarea",".t-tree__item",".t-swiper__arrow-left",".t-swiper__arrow-right",".t-icon-close",".t-icon-browse",".t-icon-add",".t-icon-delete"],autoStrategy:I},area:{autoSelector:[".t-table",".t-form",".t-steps",".t-list",".t-tooltip",".t-tab-panel",".t-cascader__panel",".t-date-picker__panel",".t-tree",".t-select__dropdown",".t-transfer",".t-time-picker__panel",".t-swiper__content",".t-alert",".t-dialog",".t-drawer__content-wrapper",".t-message",".t-popconfirm",".t-button",".t-menu__item"],autoStrategy:I}}};function T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A,R={exports:{}};(A=R).exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A.exports.__esModule=!0,A.exports.default=A.exports;var C=T(R.exports),P={exports:{}},j={exports:{}},N={exports:{}};!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==S(Symbol.iterator)?function(e){return S(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":S(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(N);var D=T(N.exports),L={exports:{}};!function(e){var t=N.exports.default;e.exports=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(L),function(e){var t=N.exports.default,n=L.exports;e.exports=function(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""},e.exports.__esModule=!0,e.exports.default=e.exports}(j),function(e){var t=j.exports;function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(P);var q=T(P.exports),M={exports:{}};!function(e){var t=j.exports;e.exports=function(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(M);var U,B=T(M.exports);!function(e){e.INITIAL="INITIAL",e.BEACON_OA="BEACON_OA",e.BEACON_CLOUD="BEACON_CLOUD"}(U||(U={}));var F=["id","class","length","style","width","height","fill","viewBox","target","dt-remark",/at-inspector/,/-checked/,/^aria-/,"disabled"],H={uid:"A1",atversion:"A300",system:"A301",browser:"A302",pathname:"A303",urlfrom:"A304",pagefrom:"A305",query:"A306",hostname:"A307",title:"A308",viewportWidth:"A309",viewportHeight:"A310",eid:"A311",text:"A312",queryDom:"A313",queryPath:"A314",domIndex:"A315",remark:"A316",isExit:"A317",staytime:"A318",scrollY:"A319",attributes:"A320",classnames:"A321",coordinate:"A322",spider:"A323",beacon_trigger_x:"A332",beacon_trigger_y:"A333",url:"A102"},V=B(B({},U.BEACON_OA,H),U.BEACON_CLOUD,H),W="_init",G=B(B(B(B(B(B({click:"at_click",show_area:"at_show_area",show_page:"at_imp",stay_page:"at_stay_page",stay_area:"at_stay_area",scroll_page:"at_scroll_page"},"click".concat(W),"at_click".concat(W)),"show_area".concat(W),"at_show_area".concat(W)),"show_page".concat(W),"at_imp".concat(W)),"stay_page".concat(W),"at_stay_page".concat(W)),"stay_area".concat(W),"at_stay_area".concat(W)),"scroll_page".concat(W),"at_scroll_page".concat(W)),J=B(B({},U.BEACON_OA,G),U.BEACON_CLOUD,G),K={ELEMENT_NODE:1,DOCUMENT_FRAGMENT_NODE:11},Q={ASYNC_EVENT_SFFIX:W,REPORT_PARAMS_MAP:V,REPORT_EVENT_MAP:J},$={exports:{}},z={exports:{}};!function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports}(z),function(e){var t=z.exports;e.exports=function(e,n){if(null==e)return{};var r,o,i=t(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n.includes(r=a[o])||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i},e.exports.__esModule=!0,e.exports.default=e.exports}($);var X=T($.exports),Y=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)},t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function n(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function r(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}"function"==typeof SuppressedError&&SuppressedError;var o="__BEACON_",i="__BEACON_deviceId",a="last_report_time",s="sending_event_ids",u="beacon_config",c="beacon_config_request_time",l=new Set(["rqd_js_init","rqd_applaunched"]),f=function(){function e(){var e=this;this.emit=function(t,n){if(e){var r,o=e.__EventsList[t];if(null==o?void 0:o.length){o=o.slice();for(var i=0;i<o.length;i++){r=o[i];try{var a=r.callback.apply(e,[n]);if(1===r.type&&e.remove(t,r.callback),!1===a)break}catch(e){throw e}}}return e}},this.__EventsList={}}return e.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},e.prototype.on=function(e,t,n){if(void 0===n&&(n=0),this){var r=this.__EventsList[e];return r||(r=this.__EventsList[e]=[]),-1===this.indexOf(r,t)?(r.push({name:e,type:n||0,callback:t}),this):this}},e.prototype.one=function(e,t){this.on(e,t,1)},e.prototype.remove=function(e,t){if(this){var n=this.__EventsList[e];if(!n)return null;if(!t){try{delete this.__EventsList[e]}catch(e){}return null}if(n.length){var r=this.indexOf(n,t);n.splice(r,1)}return this}},e}();function p(e,t){for(var n={},r=0,o=Object.keys(e);r<o.length;r++){var i=o[r],a=e[i];if("string"==typeof a)n[d(i)]=d(a);else{if(t)throw new Error("value mast be string  !!!!");n[d(String(i))]=d(String(a))}}return n}function d(e){if("string"!=typeof e)return e;try{return e.replace(new RegExp("\\|","g"),"%7C").replace(new RegExp("\\&","g"),"%26").replace(new RegExp("\\=","g"),"%3D").replace(new RegExp("\\+","g"),"%2B")}catch(e){return""}}function h(e){return String(e.A99)+String(e.A100)}var v=function(){},m=function(){function e(e){var n=this;this.lifeCycle=new f,this.uploadJobQueue=[],this.additionalParams={},this.delayTime=0,this._normalLogPipeline=function(e){if(!e||!e.reduce||!e.length)throw new TypeError("createPipeline 方法需要传入至少有一个 pipe 的数组");return 1===e.length?function(t,n){e[0](t,n||v)}:e.reduce((function(e,t){return function(n,r){return void 0===r&&(r=v),e(n,(function(e){return null==t?void 0:t(e,r)}))}}))}([function(e){n.send({url:n.strategy.getUploadUrl(),data:e,method:"post",contentType:"application/json;charset=UTF-8"},(function(){var t=n.config.onReportSuccess;"function"==typeof t&&t(JSON.stringify(e.events))}),(function(){var t=n.config.onReportFail;"function"==typeof t&&t(JSON.stringify(e.events))}))}]),function(e,t){if(!e)throw t instanceof Error?t:new Error(t)}(Boolean(e.appkey),"appkey must be initial"),this.config=t(t({},e),{needReportRqdEvent:null==e.needReportRqdEvent||e.needReportRqdEvent})}return e.prototype.onUserAction=function(e,t){this.preReport(e,t,!1)},e.prototype.onDirectUserAction=function(e,t){this.preReport(e,t,!0)},e.prototype.preReport=function(e,t,n){e?this.strategy.isEventUpOnOff()&&(this.strategy.isBlackEvent(e)||this.strategy.isSampleEvent(e)||!this.config.needReportRqdEvent&&l.has(e)||this.onReport(e,t,n)):this.errorReport.reportError("602"," no eventCode")},e.prototype.addAdditionalParams=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this.additionalParams[r]=e[r]}},e.prototype.setChannelId=function(e){this.commonInfo.channelID=String(e)},e.prototype.setOpenId=function(e){this.commonInfo.openid=String(e)},e.prototype.setUnionid=function(e){this.commonInfo.unid=String(e)},e.prototype.getDeviceId=function(){return this.commonInfo.deviceId},e.prototype.getCommonInfo=function(){return this.commonInfo},e.prototype.removeSendingId=function(e){try{var t=JSON.parse(this.storage.getItem(s)),n=t.indexOf(e);-1!=n&&(t.splice(n,1),this.storage.setItem(s,JSON.stringify(t)))}catch(e){}},e}(),g=function(){function e(e,t,n,r){this.requestParams={},this.network=r,this.requestParams.attaid="00400014144",this.requestParams.token="6478159937",this.requestParams.product_id=e.appkey,this.requestParams.platform=n,this.requestParams.uin=t.deviceId,this.requestParams.model="",this.requestParams.os=n,this.requestParams.app_version=e.appVersion,this.requestParams.sdk_version=t.sdkVersion,this.requestParams.error_stack="",this.uploadUrl=e.isOversea?"https://htrace.wetvinfo.com/kv":"https://h.trace.qq.com/kv"}return e.prototype.reportError=function(e,t){this.requestParams._dc=Math.random(),this.requestParams.error_msg=t,this.requestParams.error_code=e,this.network.get(this.uploadUrl,{params:this.requestParams}).catch((function(e){}))},e}(),y=function(){function e(e,t,n,r,o){this.strategy={isEventUpOnOff:!0,httpsUploadUrl:"https://otheve.beacon.qq.com/analytics/v2_upload",requestInterval:30,blacklist:[],samplelist:[]},this.realSample={},this.appkey="",this.needQueryConfig=!0,this.appkey=t.appkey,this.storage=r,this.needQueryConfig=e;try{var i=JSON.parse(this.storage.getItem(u));i&&this.processData(i)}catch(e){}t.isOversea&&(this.strategy.httpsUploadUrl="https://svibeacon.onezapp.com/analytics/v2_upload"),!t.isOversea&&this.needRequestConfig()&&this.requestConfig(t.appVersion,n,o)}return e.prototype.requestConfig=function(e,t,n){var r=this;this.storage.setItem(c,Date.now().toString()),n.post("https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig",{platformId:"undefined"==typeof wx?"3":"4",mainAppKey:this.appkey,appVersion:e,sdkVersion:t.sdkVersion,osVersion:t.userAgent,model:"",packageName:"",params:{A3:t.deviceId}}).then((function(e){if(0==e.data.ret)try{var t=JSON.parse(e.data.beaconConfig);t&&(r.processData(t),r.storage.setItem(u,e.data.beaconConfig))}catch(e){}else r.processData(null),r.storage.setItem(u,"")})).catch((function(e){}))},e.prototype.processData=function(e){var t,n,r,o,i;this.strategy.isEventUpOnOff=null!==(t=null==e?void 0:e.isEventUpOnOff)&&void 0!==t?t:this.strategy.isEventUpOnOff,this.strategy.httpsUploadUrl=null!==(n=null==e?void 0:e.httpsUploadUrl)&&void 0!==n?n:this.strategy.httpsUploadUrl,this.strategy.requestInterval=null!==(r=null==e?void 0:e.requestInterval)&&void 0!==r?r:this.strategy.requestInterval,this.strategy.blacklist=null!==(o=null==e?void 0:e.blacklist)&&void 0!==o?o:this.strategy.blacklist,this.strategy.samplelist=null!==(i=null==e?void 0:e.samplelist)&&void 0!==i?i:this.strategy.samplelist;for(var a=0,s=this.strategy.samplelist;a<s.length;a++){var u=s[a].split(",");2==u.length&&(this.realSample[u[0]]=u[1])}},e.prototype.needRequestConfig=function(){if(!this.needQueryConfig)return!1;var e=Number(this.storage.getItem(c));return Date.now()-e>60*this.strategy.requestInterval*1e3},e.prototype.getUploadUrl=function(){return this.strategy.httpsUploadUrl+"?appkey="+this.appkey},e.prototype.isBlackEvent=function(e){return-1!=this.strategy.blacklist.indexOf(e)},e.prototype.isEventUpOnOff=function(){return this.strategy.isEventUpOnOff},e.prototype.isSampleEvent=function(e){return!!Object.prototype.hasOwnProperty.call(this.realSample,e)&&this.realSample[e]<Math.floor(Math.random()*Math.floor(1e4))},e}(),b="session_storage_key",w=function(){function e(e,t,n){this.getSessionStackDepth=0,this.beacon=n,this.storage=e,this.duration=t,this.appkey=n.config.appkey}return e.prototype.getSession=function(){this.getSessionStackDepth+=1;var e=this.storage.getItem(b);if(!e)return this.createSession();var t="",n=0;try{var r=JSON.parse(e)||{sessionId:void 0,sessionStart:void 0};if(!r.sessionId||!r.sessionStart)return this.createSession();var o=Number(this.storage.getItem(a));if(Date.now()-o>this.duration)return this.createSession();t=r.sessionId,n=r.sessionStart,this.getSessionStackDepth=0}catch(e){}return{sessionId:t,sessionStart:n}},e.prototype.createSession=function(){var e=Date.now(),t={sessionId:this.appkey+"_"+e.toString(),sessionStart:e};this.storage.setItem(b,JSON.stringify(t)),this.storage.setItem(a,e.toString());var n="is_new_user",r=this.storage.getItem(n);return this.getSessionStackDepth<=1&&this.beacon.onDirectUserAction("rqd_applaunched",{A21:r?"N":"Y"}),this.storage.setItem(n,JSON.stringify(!1)),t},e}();function S(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Edge")>-1&&!t,r=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var o=parseFloat(RegExp.$1);return 7==o?7:8==o?8:9==o?9:10==o?10:6}return n?-2:r?11:-1}var E,x=function(){function e(e){this.config=e}return e.canUseDB=function(){return"undefined"!=typeof indexedDB},e.prototype.openDB=function(){var t=this;return new Promise((function(n,r){if(!e.canUseDB())return r({message:"当前不支持 indexeddb"});var o=t.config,i=o.stores,a=indexedDB.open(o.name,o.version);a.onsuccess=function(){t.db=a.result,n()},a.onerror=function(e){r(e)},a.onupgradeneeded=function(){t.db=a.result;try{null==i||i.forEach((function(e){t.createStore(e)}))}catch(e){r(e)}}}))},e.prototype.useStore=function(e){return this.storeName=e,this},e.prototype.deleteDB=function(){var e=this;return this.closeDB(),new Promise((function(t,n){var r=indexedDB.deleteDatabase(e.config.name);r.onsuccess=function(){return t()},r.onerror=n}))},e.prototype.closeDB=function(){var e;null===(e=this.db)||void 0===e||e.close(),this.db=null},e.prototype.getStoreCount=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readonly").count();r.onsuccess=function(){return t(r.result)},r.onerror=n}))},e.prototype.clearStore=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readwrite").clear();r.onsuccess=function(){return t()},r.onerror=n}))},e.prototype.add=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").add(e,t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.put=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").put(e,t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.get=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore().index(e).get(t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.remove=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").index(e).objectStore.delete(t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.removeList=function(e,t){var n=this;return new Promise((function(r){var o=n.getStore("readwrite").index(e),i=[];t.forEach((function(e){o.objectStore.delete(e).onerror=function(){i.push(e)}})),r(i)}))},e.prototype.getStoreAllData=function(e){var t=this;return void 0===e&&(e=1/0),new Promise((function(n,r){var o=t.getStore("readonly").openCursor(),i=[];o.onsuccess=function(){var t=o.result;if(t&&i.length<e)try{t.value&&i.push(t.value),t.continue()}catch(e){n(i)}else n(i)},o.onerror=r}))},e.prototype.getDataRangeByIndex=function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=i.getStore().index(e),c=IDBKeyRange.bound(t,n,r,o),l=[],f=u.openCursor(c);f.onsuccess=function(){var e;(null===(e=null==f?void 0:f.result)||void 0===e?void 0:e.value)?(l.push(null==f?void 0:f.result.value),null==f||f.result.continue()):a(l)},f.onerror=s}))},e.prototype.removeDataByIndex=function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=i.getStore("readwrite").index(e),c=IDBKeyRange.bound(t,n,r,o),l=u.openCursor(c),f=0;l.onsuccess=function(e){var t=e.target.result;t?(f+=1,t.delete(),t.continue()):a(f)},l.onerror=s}))},e.prototype.createStore=function(e){var t=e.name,n=e.indexes,r=void 0===n?[]:n,o=e.options;if(this.db){this.db.objectStoreNames.contains(t)&&this.db.deleteObjectStore(t);var i=this.db.createObjectStore(t,o);r.forEach((function(e){i.createIndex(e.indexName,e.keyPath,e.options)}))}},e.prototype.getStore=function(e){var t;return void 0===e&&(e="readonly"),null===(t=this.db)||void 0===t?void 0:t.transaction(this.storeName,e).objectStore(this.storeName)},e}(),O="event_table_v3",k="eventId",I=function(){function e(e,t){this.isReady=!1,this.taskQueue=Promise.resolve(),this.db=new x({name:"Beacon_"+e+"_V3",version:1,stores:[{name:O,options:{keyPath:k},indexes:[{indexName:k,keyPath:k,options:{unique:!0}}]}]}),this.open(t)}return e.prototype.getCount=function(){var e=this;return this.readyExec((function(){return e.db.getStoreCount()}))},e.prototype.setItem=function(e,t){var n=this;return this.readyExec((function(){return n.db.add({eventId:e,value:t})}))},e.prototype.getItem=function(e){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(n){return[2,this.readyExec((function(){return t.db.getDataRangeByIndex(k,e,e)}))]}))}))},e.prototype.removeItem=function(e){var t=this;return this.readyExec((function(){return t.db.removeDataByIndex(k,e,e)}))},e.prototype.removeItemList=function(e){var t=this;return this.readyExec((function(){return t.db.removeList(k,e)}))},e.prototype.updateItem=function(e,t){var n=this;return this.readyExec((function(){return n.db.put({eventId:e,value:t})}))},e.prototype.iterate=function(e){var t=this;return this.readyExec((function(){return t.db.getStoreAllData().then((function(t){t.forEach((function(t){e(t.value)}))})).catch((function(e){}))}))},e.prototype.open=function(e){return n(this,void 0,void 0,(function(){var t,n=this;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.taskQueue=this.taskQueue.then((function(){return n.db.openDB()})),[4,this.taskQueue];case 1:return r.sent(),this.isReady=!0,this.db.useStore(O),[3,3];case 2:return t=r.sent(),null==e||e.openDBFail(t),[3,3];case 3:return[2]}}))}))},e.prototype.readyExec=function(e){return this.isReady?e():(this.taskQueue=this.taskQueue.then((function(){return e()})),this.taskQueue)},e}(),_=function(){function e(e){this.keyObject={},this.storage=e}return e.prototype.getCount=function(){return this.storage.getStoreCount()},e.prototype.removeItem=function(e){this.storage.removeItem(e),delete this.keyObject[e]},e.prototype.removeItemList=function(e){var t=this;e.forEach((function(e){return t.removeItem(e)}))},e.prototype.setItem=function(e,t){var n=JSON.stringify(t);this.storage.setItem(e,n),this.keyObject[e]=t},e.prototype.iterate=function(e){for(var t=Object.keys(this.keyObject),n=0;n<t.length;n++){var r=this.storage.getItem(t[n]);e(JSON.parse(r))}},e}(),T=function(){function e(e,t){var n=this;this.dbEventCount=0;var r=S(),o=function(){n.store=new _(t),n.dbEventCount=n.store.getCount()};r>0||!window.indexedDB||/X5Lite/.test(navigator.userAgent)?o():(this.store=new I(e,{openDBFail:function(e){o()}}),this.getCount().then((function(e){n.dbEventCount=e})).catch((function(e){})))}return e.prototype.getCount=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.store.getCount()];case 1:return[2,e.sent()];case 2:return e.sent(),[2,Promise.reject()];case 3:return[2]}}))}))},e.prototype.insertEvent=function(e,t){return n(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:if(this.dbEventCount>=1e3)return[2,Promise.reject()];n=h(e.mapValue),r.label=1;case 1:return r.trys.push([1,3,,4]),this.dbEventCount++,[4,this.store.setItem(n,e)];case 2:return[2,r.sent()];case 3:return o=r.sent(),t&&t(o,e),this.dbEventCount--,[2,Promise.reject()];case 4:return[2]}}))}))},e.prototype.getEvents=function(){return n(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:e=[],t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.store.iterate((function(t){e.push(t)}))];case 2:case 3:return t.sent(),[2,Promise.all(e)];case 4:return[2]}}))}))},e.prototype.removeEvent=function(e){return n(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:t=h(e.mapValue),n.label=1;case 1:return n.trys.push([1,3,,4]),this.dbEventCount--,[4,this.store.removeItem(t)];case 2:return[2,n.sent()];case 3:return n.sent(),this.dbEventCount++,[2,Promise.reject()];case 4:return[2]}}))}))},e.prototype.removeEventList=function(e){return n(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:t=e.map((function(e){return h(e.mapValue)})),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.store.removeItemList(t)];case 2:return n=r.sent(),this.dbEventCount-=t.length-(null==n?void 0:n.length)||0,[3,4];case 3:return r.sent(),[2,Promise.reject()];case 4:return[2]}}))}))},e}(),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function R(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function C(e,t){var n=[null,void 0,"",NaN].includes(e);if(t.isSkipEmpty&&n)return null;var r=!t.isSkipEmpty&&n?"":e;try{return t.encode?encodeURIComponent(r):r}catch(e){return null}}function P(e,t){return new Promise((function(n,r){if(t&&document.querySelectorAll("script[data-tag="+t+"]").length)return n();var o=document.createElement("script"),i=A({type:"text/javascript",charset:"utf-8"},e);Object.keys(i).forEach((function(e){return function(e,t,n){if(e)return void 0===n?e.getAttribute(t):e.setAttribute(t,n)}(o,e,i[e])})),t&&(o.dataset.tag=t),o.onload=function(){return n()},o.onreadystatechange=function(){["complete","loaded"].includes(o.readyState)&&(o.onreadystatechange=null,n())},o.onerror=r,document.body.appendChild(o)}))}!function(e){e[e.equal=0]="equal",e[e.low=-1]="low",e[e.high=1]="high"}(E||(E={}));var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function N(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function D(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var L=function(){function e(){this.interceptors=[]}return e.prototype.use=function(e,t){return this.interceptors.push({resolved:e,rejected:t}),this.interceptors.length-1},e.prototype.traverse=function(e,t){void 0===t&&(t=!1);var n=Promise.resolve(e);return(t?Array.prototype.reduceRight:Array.prototype.reduce).call(this.interceptors,(function(e,t){return t&&(n=n.then(t.resolved,t.rejected)),e}),""),n},e.prototype.eject=function(e){this.interceptors[e]&&(this.interceptors[e]=null)},e}(),q={defaults:{timeout:0,method:"GET",mode:"cors",redirect:"follow",credentials:"same-origin"},headers:{common:{Accept:"application/json, text/plain, */*"},POST:{"Content-Type":"application/x-www-form-urlencoded"},PUT:{"Content-Type":"application/x-www-form-urlencoded"},PATCH:{"Content-Type":"application/x-www-form-urlencoded"}},baseURL:"",polyfillUrl:"https://vm.gtimg.cn/comps/script/fetch.min.js",interceptors:{request:new L,response:new L}},M=/^([a-z][a-z\d+\-.]*:)?\/\//i,U=Object.prototype.toString;function B(e){return N(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:if(window.fetch)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,P({src:e})];case 2:return n.sent(),[3,4];case 3:throw t=n.sent(),new Error("加载 polyfill "+e+" 失败: "+t.message);case 4:return[2]}}))}))}function F(e){return N(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,p,d,h,v,m,g;return D(this,(function(y){switch(y.label){case 0:return t=q.baseURL,n=q.defaults,r=q.interceptors,[4,B(q.polyfillUrl)];case 1:return y.sent(),(o=j(j({},n),e)).headers||(o.headers=function(e){void 0===e&&(e="GET");var t=q.headers[e]||{};return j(j({},q.headers.common),t)}(o.method)),function(e){["Accept","Content-Type"].forEach((function(t){return n=t,void((r=e.headers)&&Object.keys(r).forEach((function(e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=r[e],delete r[e])})));var n,r})),function(e){if("[object Object]"!==U.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}(e.body)&&(e.body=JSON.stringify(e.body),e.headers&&(e.headers["Content-Type"]="application/json;charset=utf-8"))}(o),[4,r.request.traverse(o,!0)];case 2:if((i=y.sent())instanceof Error)throw i;return i.url=function(e,t){return!e||M.test(t)?t:e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}(t,i.url),a=i.url,s=i.timeout,u=i.params,l=["GET","DELETE","OPTIONS","HEAD"].includes(void 0===(c=i.method)?"GET":c)&&!!u,f=l?function(e,t){void 0===t&&(t={encode:!0,isSkipEmpty:!1});var n=e.url,r=e.query,o=void 0===r?{}:r,i=e.hash,a=n.split("#"),s=a[1],u=void 0===s?"":s,c=a[0].split("?")[0],l=[],f=C(i||u,t),p=A(A({},function(e){var t=e.split("#"),n=t[1],r=void 0===n?"":n,o=t[0].split("?"),i=o[0],a=o[1],s=void 0===a?"":a,u=R(r),c=Object.create(null);return s.split("&").forEach((function(e){var t=e.split("="),n=t[1],r=void 0===n?"":n,o=R(t[0]),i=R(r);null===o||null===i||""===o&&""===i||c[o]||(c[o]=i)})),{url:i,query:c,hash:u}}(n).query),o);return Object.keys(p).forEach((function(e){var n=C(e,t),r=C(p[e],t);null!==n&&null!==r&&l.push(n+"="+r)})),c+(l.length?"?"+l.join("&"):"")+(f?"#"+f:"")}({url:a,query:u}):a,p=[],s&&!i.signal&&(v=new Promise((function(e){d=setTimeout((function(){e(new Error("timeout"))}),s)})),p.push(v),h=new AbortController,i.signal=h.signal),p.push(fetch(f,i).catch((function(e){return e}))),[4,Promise.race(p)];case 3:return m=y.sent(),d&&clearTimeout(d),[4,r.response.traverse(m)];case 4:if((g=y.sent())instanceof Error)throw null==h||h.abort(),g;return[2,g]}}))}))}var H=function(){function e(e){q.interceptors.request.use((function(n){var r=n.method,o=n.body,i=o;if(e.onReportBeforeSend){var a=e.onReportBeforeSend({url:n.url,method:r,data:o?JSON.parse(o):null});i=(null==a?void 0:a.data)?JSON.stringify(a.data):null}return"GET"!=r&&i?t(t({},n),{body:i}):n}))}return e.prototype.get=function(e,o){return n(this,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,F(t({url:e},o))];case 1:return[4,(n=r.sent()).json()];case 2:return i=r.sent(),[2,Promise.resolve({data:i,status:n.status,statusText:n.statusText,headers:n.headers})]}}))}))},e.prototype.post=function(e,o,i){return n(this,void 0,void 0,(function(){var n,a;return r(this,(function(r){switch(r.label){case 0:return[4,F(t({url:e,body:o,method:"POST"},i))];case 1:return[4,(n=r.sent()).json()];case 2:return a=r.sent(),[2,Promise.resolve({data:a,status:n.status,statusText:n.statusText,headers:n.headers})]}}))}))},e}(),V=function(){function e(e){this.appkey=e}return e.prototype.getItem=function(e){try{return window.localStorage.getItem(this.getStoreKey(e))}catch(e){return""}},e.prototype.removeItem=function(e){try{window.localStorage.removeItem(this.getStoreKey(e))}catch(e){}},e.prototype.setItem=function(e,t){try{window.localStorage.setItem(this.getStoreKey(e),t)}catch(e){}},e.prototype.setSessionItem=function(e,t){try{window.sessionStorage.setItem(this.getStoreKey(e),t)}catch(e){}},e.prototype.getSessionItem=function(e){try{return window.sessionStorage.getItem(this.getStoreKey(e))}catch(e){return""}},e.prototype.getStoreKey=function(e){return o+this.appkey+"_"+e},e.prototype.createDeviceId=function(){try{var e=window.localStorage.getItem(i);return e||(e=function(){for(var e="",t=0;t<32;t++)e+="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789".charAt(Math.floor(51*Math.random()));return e}(),window.localStorage.setItem(i,e)),e}catch(e){return""}},e.prototype.clear=function(){try{for(var e=window.localStorage.length,t=0;t<e;t++){var n=window.localStorage.key(t);(null==n?void 0:n.substr(0,9))==o&&window.localStorage.removeItem(n)}}catch(e){}},e.prototype.getStoreCount=function(){var e=0;try{e=window.localStorage.length}catch(e){}return e},e}(),W="logid_start",G="4.5.30-web",J=function(n){function r(e){var t=n.call(this,e)||this;if(t.qimei36="",t.uselessCycleTaskNum=0,t.underWeakNet=!1,t.pauseSearching=!1,t.lsEnable=!0,t.throttleTimer=null,t.throttleBuffer=[],t.send=function(e,n,r){t.storage.setItem(a,Date.now().toString()),t.network.post(t.uploadUrl||t.strategy.getUploadUrl(),e.data).then((function(r){var o;t.delayTime=100==(null===(o=null==r?void 0:r.data)||void 0===o?void 0:o.result)?1e3*r.data.delayTime:0,n&&n(e.data);var i=e.data.events;t.store.removeEventList(i).then((function(){i.forEach((function(e){return t.removeSendingId(h(e.mapValue))}))})).catch((function(e){})),t.doCustomCycleTask()})).catch((function(n){var o=e.data.events;t.errorReport.reportError(n.code?n.code.toString():"600",n.message),r&&r(e.data);var i=JSON.parse(t.storage.getItem(s));o.forEach((function(e){i&&-1!=i.indexOf(h(e))&&t.store.insertEvent(e,(function(e,n){e&&t.errorReport.reportError("604","insertEvent fail!")})),t.removeSendingId(h(e))})),t.monitorUploadFailed()}))},!window.localStorage)return t.errorReport.reportError("605","no localStorage!"),t.lsEnable=!1,t;var r,o,i=S();return t.isUnderIE8=i>0&&i<8,t.isUnderIE8||(t.isUnderIE=i>0,e.needInitQimei&&function(e,t){var n;(void 0===n&&(n=Date.now()+"-"+Math.random()),new Promise((function(e,t){if(document.getElementById(n))e(void 0);else{var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.onload=function(){return function(){o.onload=null,e(void 0)}},o.onerror=function(e){o.onerror=null,r.removeChild(o),t(e)},o.src="https://tun-cos-1258344701.file.myqcloud.com/fp.js",o.id=n,r.appendChild(o)}}))).then((function(){(new Fingerprint).getQimei36(e,t)})).catch((function(e){}))}(e.appkey,(function(e){t.qimei36=e.q36})),t.network=new H(e),t.storage=new V(e.appkey),t.initCommonInfo(e),t.store=new T(e.appkey,t.storage),t.errorReport=new g(t.config,t.commonInfo,"web",t.network),t.strategy=new y(null==e.needQueryConfig||e.needQueryConfig,t.config,t.commonInfo,t.storage,t.network),t.logidStartTime=t.storage.getItem(W),t.logidStartTime||(t.logidStartTime=Date.now().toString(),t.storage.setItem(W,t.logidStartTime)),r=t.logidStartTime,o=Date.now()-Number.parseFloat(r),Math.floor(o/864e5)>=365&&t.storage.clear(),t.initSession(e),t.onDirectUserAction("rqd_js_init",{}),setTimeout((function(){return t.lifeCycle.emit("init")}),0),t.storage.setItem(s,"[]"),t.initDelayTime=e.delay?e.delay:1e3,t.cycleTask(t.initDelayTime)),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(r,n),r.prototype.initSession=function(e){var t=18e5;e.sessionDuration&&e.sessionDuration>3e4&&(t=e.sessionDuration),this.beaconSession=new w(this.storage,t,this)},r.prototype.initCommonInfo=function(e){var t=Number(this.storage.getItem(a));try{var n=JSON.parse(this.storage.getItem(s));(Date.now()-t>3e4||!n)&&this.storage.setItem(s,JSON.stringify([]))}catch(e){}e.uploadUrl&&(this.uploadUrl=e.uploadUrl+"?appkey="+e.appkey);var r=[window.screen.width,window.screen.height];window.devicePixelRatio&&r.push(window.devicePixelRatio),this.commonInfo={deviceId:this.storage.createDeviceId(),language:navigator&&navigator.language||"zh_CN",query:window.location.search,userAgent:navigator.userAgent,pixel:r.join("*"),channelID:e.channelID?String(e.channelID):"",openid:e.openid?String(e.openid):"",unid:e.unionid?String(e.unionid):"",sdkVersion:G},this.config.appVersion=e.versionCode?String(e.versionCode):"",this.config.strictMode=e.strictMode},r.prototype.cycleTask=function(e){var t=this;this.intervalID=window.setInterval((function(){t.pauseSearching||t.store.getEvents().then((function(e){0==e.length&&(t.pauseSearching=!0);var n=[],r=JSON.parse(t.storage.getItem(s));r||(r=[]),e&&e.forEach((function(e){var t=h(e.mapValue);-1==r.indexOf(t)&&(n.push(e),r.push(t))})),r.length>1e3&&(r=[]),0!=n.length&&(t.storage.setItem(s,JSON.stringify(r)),t._normalLogPipeline(t.assembleData(n)))})).catch((function(e){}))}),e)},r.prototype.thottleReport=function(e){var t,n=this;if((t=this.throttleBuffer).push.apply(t,e),this.throttleBuffer.length>=500){var r=this.throttleBuffer.slice(0);this.throttleBuffer.length=0,this._normalLogPipeline(this.assembleData(r))}else{if(this.throttleTimer)return;this.throttleTimer=setTimeout((function(){var e=n.throttleBuffer.slice(0);n.throttleBuffer.length=0,n._normalLogPipeline(n.assembleData(e)),n.throttleTimer=null}),1e3)}},r.prototype.onReport=function(e,t,n){var r=this;if(this.lsEnable)if(this.isUnderIE8)this.errorReport.reportError("601","UnderIE8");else{this.pauseSearching=!1;var o=this.generateData(e,t,n);if(n&&0==this.delayTime&&!this.underWeakNet)this._normalLogPipeline(this.assembleData(o));else{var i=o.shift();i&&this.store.insertEvent(i,(function(e){e&&r.errorReport.reportError("604","insertEvent fail!")})).catch((function(e){r.thottleReport([i])}))}}},r.prototype.onSendBeacon=function(e,t){if(this.lsEnable)if(this.isUnderIE)this.errorReport.reportError("605","UnderIE");else{this.pauseSearching=!1;var n=this.assembleData(this.generateData(e,t,!0));"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.uploadUrl||this.strategy.getUploadUrl(),JSON.stringify(n))}},r.prototype.generateData=function(e,n,r){var o=[],i=G+"_"+(r?"direct_log_id":"normal_log_id"),a=Number(this.storage.getItem(i));return a=a||1,n=t(t({},n),{A99:r?"Y":"N",A100:a.toString(),A72:G,A88:this.logidStartTime}),a++,this.storage.setItem(i,a.toString()),o.push({eventCode:e,eventTime:Date.now().toString(),mapValue:p(n,this.config.strictMode)}),o},r.prototype.assembleData=function(e){var n=this.beaconSession.getSession();return{appVersion:this.config.appVersion?d(this.config.appVersion):"",sdkId:"js",sdkVersion:G,mainAppKey:this.config.appkey,platformId:3,common:p(t(t({},this.additionalParams),{A2:this.commonInfo.deviceId,A8:this.commonInfo.openid,A12:this.commonInfo.language,A17:this.commonInfo.pixel,A23:this.commonInfo.channelID,A50:this.commonInfo.unid,A76:n.sessionId,A101:this.commonInfo.userAgent,A102:window.location.href,A104:document.referrer,A119:this.commonInfo.query,A153:this.qimei36}),!1),events:e}},r.prototype.monitorUploadFailed=function(){this.uselessCycleTaskNum++,this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(6e4),this.underWeakNet=!0)},r.prototype.doCustomCycleTask=function(){this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(this.initDelayTime)),this.uselessCycleTaskNum=0,this.underWeakNet=!1},r.prototype.setQimei=function(e){this.qimei36=e},r}(m);return J}(),Z={exports:{}},ee={exports:{}};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(ee);var te={exports:{}};!function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports}(te);var ne={exports:{}},re={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}(re),function(e){var t=re.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(ne);var oe={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(oe),function(e){var t=ee.exports,n=te.exports,r=ne.exports,o=oe.exports;e.exports=function(e,i){return t(e)||n(e,i)||r(e,i)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(Z);var ie=T(Z.exports),ae=function(e){return(e||"").split("").reduce((function(e,t){return t.charCodeAt(0)+(e<<6)+(e<<16)-e}),0)},se=function(e){return e instanceof RegExp?e.toString():"object"===D(e)?JSON.stringify(e):e},ue=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ce={throttle:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=Date.now();return function(){for(var i=this,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];clearTimeout(t);var c=function(){o=Date.now(),t=null,e.apply(i,s)};(n=Date.now()-o)>r?c():t=setTimeout(c,r-n)}},debounce:function(e,t){var n;return function(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n&&clearTimeout(n),n=setTimeout((function(){e.apply(r,i),n=null}),t)}},copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},hashcode:ae,getEid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return String(ae(t?"".concat(e,"~~").concat(t):e))},formatText:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[\r\n]/g,"").replace(/\s/g,"").slice(0,40)},mergeArrays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(e)?e:(null==e?void 0:e([]))||[],r=[];t&&(r=Array.isArray(t)?n.concat(t):t(n));var o=[];return null==r||r.forEach((function(e){o.some((function(t){return se(t)===se(e)}))||o.push(e)})),o},getStayTime:function(e,t){return e<=t?e:t},strOrRegMatchFunc:function(e,t){return e instanceof RegExp?e.test(t):e===t},getJsonFromString:function(e){var t=null;try{t=JSON.parse(e)}catch(e){t=null}return t},isMobile:ue,uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},setTimeoutWithRAF:function(e,t){var n=0,r=0;return r=requestAnimationFrame((function o(i){r&&(n||(n=i),i-n>=t?(e(),cancelAnimationFrame(r)):r=requestAnimationFrame(o))})),{clear:function(){r&&(cancelAnimationFrame(r),r=0)},rafId:r}}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=ce.uuidv4,de=function(){var e=navigator.userAgent.match(/NetType\/(\w+)/),t="";if(e&&e.length>1)t=ie(e,2)[1];else{var n=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{},r=n.effectiveType,o=n.type;t=(void 0===r?"":r)||(void 0===o?"":o)}var i={wifi:"1","2g":"2","3g":"3","4g":"4","5g":"5","6g":"6"};return t&&i[t]?i[t]:"100"},he=function(){var e,t,n,r,o,i,a,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,f=window.ATInfo,p=f.uid,d=f.sdkVersion,h=fe({id:"VbBIPNcGnBRAvRvYXE",uin:(void 0===p?"":p)||"_0",version:void 0===d?"":d,aid:pe(),env:location.port?"local":"production",sessionId:"session-".concat(Date.now()),from:encodeURIComponent(location.href),platform:(t=navigator.userAgent,n=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||"unknown",r=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,o=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),i=["Win32","Windows"].includes(n),a=["Mac68K","MacPPC","Macintosh","MacIntel","macOS"].includes(n),s=String(n).indexOf("Linux")>-1,r?"1":o?"2":i?"3":a?"4":s?"5":"100"),netType:de(),vp:"".concat(c," * ").concat(l),sr:"".concat(screen.width," * ").concat(screen.height),referer:encodeURIComponent(document.referrer)},u),v="";return Object.keys(h).forEach((function(e,t){v+="".concat(0===t?"":"&").concat(e,"=").concat(h[e])})),v},ve=function(e){var t=e.bodyData,n=void 0===t?"":t,r=e.queries,o=e.url,i=e.method,a=void 0===i?"post":i;fetch("".concat(void 0===o?"https://aegis.qq.com/collect":o,"?").concat(r),fe({method:a,headers:{"content-type":"application/json"}},n?{body:n}:{})).catch((function(e){}))},me={reportError:function(e,t){var n=JSON.stringify({level:[4],count:1,msg:[String(null==t?void 0:t.stack)]}),r=window.ATInfo.appkey,o=void 0===r?"":r,i=he({ext1:encodeURIComponent(e),ext2:o});ve({bodyData:n,queries:i})},customReport:function(e,t){var n=JSON.stringify({level:[8192],count:1,msg:[e]}),r=localStorage.getItem("__BEACON_deviceId")||"",o=window.ATInfo.appkey,i=he({name:e,ext1:void 0===o?"":o,ext2:t.openType,ext3:r});ve({bodyData:n,queries:i})}},ge=["code","event","eid","remark"],ye=["appkey","code"];function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=null,Ee={exports:{}},xe={exports:{}};!function(e){var t=re.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(xe);var Oe={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(Oe);var ke={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(ke),function(e){var t=xe.exports,n=Oe.exports,r=ne.exports,o=ke.exports;e.exports=function(e){return t(e)||n(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(Ee);var Ie=T(Ee.exports);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=me.reportError,Ce=ce.getJsonFromString,Pe=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=[];return t&&o.push.apply(o,Ie(Array.prototype.slice.call(n.querySelectorAll(t)))),0===r.length||Array.prototype.slice.call(n.querySelectorAll(r.join(","))).forEach((function(n){n.shadowRoot&&o.push.apply(o,Ie(e(t,n.shadowRoot,r)))})),o},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[];if(!e)return r;var o=(Ce(e)||[e]).filter(Boolean);try{var i=o.length;if(i>1){var a=Array.prototype.slice.call(document.querySelectorAll(o[i-1]));if(0===a.length)return[];for(var s=a,u=function(){var e=o[c],t=[];if(s.forEach((function(n){n.shadowRoot&&t.push.apply(t,Ie(Array.prototype.slice.call(n.shadowRoot.querySelectorAll(e))))})),0===t.length)return s=[],1;s=t},c=i-2;c>=0&&!u();c--);return s.filter((function(e){return t===document||t.contains(e)}))}return Pe(e,t,n)}catch(e){Re("getQuerySelectorAll error",e),r=[]}return r},Ne=function(e){var t=[],n=[];return e.forEach((function(e){Ce(e)?n.push(e):t.push(e)})),{normalSelectors:t,mutiSelectors:n}},De=function(e,t){if(!e||!t||e.nodeType!==K.ELEMENT_NODE)return!1;if(Ce(t))return!!je(t).find((function(t){return t===e}));var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;return!!r&&r.call(e,t)},Le=function(e){var t=e.name,n=e.value,r=e.transformAttributeKey,o={};if("function"==typeof r){var i=r(t);i&&(o[i]=n)}else o[t]=n;return o},qe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;if(!r||0===r.childNodes.length)return null;if(Array.prototype.slice.call(r.childNodes).some((function(e){return e===t})))return r;var o=null;return Array.prototype.slice.call(je(n.join(","),r)).find((function(r){if(r.shadowRoot){var i=e(t,n,r.shadowRoot);return i&&(o=i),!!i}return!1})),o},Me={isNull:function(e){return"null"===Object.prototype.toString.call(e).replace(/\[object[\s]/,"").replace("]","").toLowerCase()},elementMatches:De,getClosest:function(e,t){if(!t)return null;if(Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(De(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),Array.isArray(t)){var n=null;return t.find((function(t){var r=e.closest(t);return null!==r&&(n=r),!!r})),n}return e.closest(t)},getDataFromAttrKey:function(e,t){var n="",r=Array.isArray(t)?t:[t],o=e.findIndex((function(e){return r.some((function(t){var r,o=null===(r=e.getAttribute)||void 0===r?void 0:r.call(e,t);return!!o&&(n=o,!0)}))}));return{parentList:-1===o?[]:e.slice(o,e.length),attrValue:n}},getVisibleEventAttr:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;return void 0!==n.hidden?(e="hidden",t="visibilitychange"):void 0!==n.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==n.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),{hidden:e,visibilityChange:t}},getTagAndOtherSelector:function(){var e=[],t=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){/^[a-zA-Z]+$/.test(n)?e.push(n):t.push(n)})),{tagSelectors:e,otherSelectors:t}},getQuerySelectorAll:je,getAttributesParams:function(e,t){var n={};return t.forEach((function(t){var r="",o={};if("string"==typeof t||t instanceof RegExp)r=t;else if((null==t?void 0:t.length)>0){var i=ie(t,2);r=i[0],o=i[1]}if(r){var a=null==o?void 0:o.transformAttributeKey;if(r instanceof RegExp){var s,u=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e.attributes);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=c.name,f=c.value;r.test(l)&&(n=Te(Te({},n),Le({name:l,value:f,transformAttributeKey:a})))}}catch(e){u.e(e)}finally{u.f()}}else{var p=e.getAttribute(r);p&&(n=Te(Te({},n),Le({name:r,value:p,transformAttributeKey:a})))}}})),n},getCoords:function(e){if(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=t.left+i-(r.clientLeft||n.clientLeft||0);return{top:Math.round(t.top+o-(r.clientTop||n.clientTop||0)),left:Math.round(a)}}return{top:0,left:0}},isElement:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":D(HTMLElement))?e instanceof HTMLElement:!!e&&"object"===D(e)&&1===e.nodeType&&"string"==typeof e.nodeName},getParents:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=e;r;)n.push(r),r="HTML"===r.tagName&&r!==window.document.documentElement&&t.length>0?qe(r,t):r.parentNode||r.host;return n},getShadowHostDoms:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1?arguments[1]:void 0,r=[];return n.forEach((function(o){var i=Array.prototype.slice.call(t.querySelectorAll(o));0!==i.length&&(r.push.apply(r,Ie(i)),i.forEach((function(t){var o=e(t,n);r.push.apply(r,Ie(o))})))})),r},getElementsFromQueryDoms:function(e,t){var n=Ne(e),r=n.mutiSelectors,o=je(n.normalSelectors.join(","),t);return r.forEach((function(e){var n=je(e,t);o.push.apply(o,Ie(n))})),o},isAtPanelElement:function(e){var t,n;return null===(n=null===(t=null==e?void 0:e.className)||void 0===t?void 0:t.match)||void 0===n?void 0:n.call(t,/at-inspector|at-heat|at-kit/)},elementMatchSelectors:function(e,t){var n=Ne(t),r=n.mutiSelectors;return!!De(e,n.normalSelectors.join(","))||!!r.some((function(t){return De(e,t)}))}};function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Be(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e){return He="function"==typeof Symbol&&"symbol"==S(Symbol.iterator)?function(e){return S(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":S(e)},He(e)}function Ve(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var We={},Ge=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))},Je="%[a-f0-9]{2}",Ke=new RegExp("("+Je+")|([^%]+?)","gi"),Qe=new RegExp("("+Je+")+","gi");function $e(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;var n=e.slice(0,t=t||1),r=e.slice(t);return Array.prototype.concat.call([],$e(n),$e(r))}function ze(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(Ke)||[],n=1;n<t.length;n++)t=(e=$e(t,n).join("")).match(Ke)||[];return e}}var Xe=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+He(e)+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=Qe.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=ze(n[0]);r!==n[0]&&(t[n[0]]=r)}n=Qe.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),i=0;i<o.length;i++){var a=o[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}(e)}},Ye=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},Ze=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var a=r[i],s=e[a];(o?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n};function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){var t=Ge,n=Xe,r=Ye,o=Ze;function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function a(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function s(e,t){return t.decode?n(e):e}function u(e){return Array.isArray(e)?e.sort():"object"===He(e)?u(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function c(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){var t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),r[e=e.replace(/\[\]$/,"")]=t?void 0!==r[e]?[].concat(r[e],n):[n]:n};case"comma":case"separator":return function(t,n,r){var o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&s(n,e).includes(e.arrayFormatSeparator);n=i?s(n,e):n;var a=o||i?n.split(e.arrayFormatSeparator).map((function(t){return s(t,e)})):null===n?n:s(n,e);r[t]=a};default:return function(e,t,n){n[e]=void 0!==n[e]?[].concat(n[e],t):t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var a,c=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(e.split("&"));try{for(c.s();!(a=c.n()).done;){var l=a.value;if(""!==l){var p=Fe(r(t.decode?l.replace(/\+/g," "):l,"="),2),d=p[0],h=p[1];h=void 0===h?null:["comma","separator"].includes(t.arrayFormat)?h:s(h,t),n(s(d,t),h,o)}}}catch(e){c.e(e)}finally{c.f()}for(var v=0,m=Object.keys(o);v<m.length;v++){var g=m[v],y=o[g];if("object"===He(y)&&null!==y)for(var b=0,w=Object.keys(y);b<w.length;b++){var S=w[b];y[S]=f(y[S],t)}else o[g]=f(y,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return e[t]=Boolean(n)&&"object"===He(n)&&!Array.isArray(n)?u(n):n,e}),Object.create(null))}e.extract=l,e.parse=p,e.stringify=function(e,t){if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(Ve(n),null===r?[[a(t,e),"[",o,"]"].join("")]:[[a(t,e),"[",a(o,e),"]=",a(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(Ve(n),null===r?[[a(t,e),"[]"].join("")]:[[a(t,e),"[]=",a(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null==r||0===r.length?n:0===n.length?[[a(t,e),"=",a(r,e)].join("")]:[[n,a(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(Ve(n),null===r?[a(t,e)]:[[a(t,e),"=",a(r,e)].join("")])}}}}(t),r={},o=0,s=Object.keys(e);o<s.length;o++){var u=s[o];c=u,t.skipNull&&null==e[c]||t.skipEmptyString&&""===e[c]||(r[u]=e[u])}var c,l=Object.keys(r);return!1!==t.sort&&l.sort(t.sort),l.map((function(r){var o=e[r];return void 0===o?"":null===o?a(r,t):Array.isArray(o)?o.reduce(n(r),[]).join("&"):a(r,t)+"="+a(o,t)})).filter((function(e){return e.length>0})).join("&")},e.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=Fe(r(e,"#"),2),o=n[1];return Object.assign({url:n[0].split("?")[0]||"",query:p(l(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:s(o,t)}:{})},e.stringifyUrl=function(t,n){n=Object.assign({encode:!0,strict:!0},n);var r=c(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),s=Object.assign(i,t.query),u=e.stringify(s,n);u&&(u="?".concat(u));var l=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(t.url);return t.fragmentIdentifier&&(l="#".concat(a(t.fragmentIdentifier,n))),"".concat(r).concat(u).concat(l)},e.pick=function(t,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=e.parseUrl(t,r),a=i.fragmentIdentifier;return e.stringifyUrl({url:i.url,query:o(i.query,n),fragmentIdentifier:a},r)},e.exclude=function(t,n,r){var o=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return e.pick(t,o,r)}}(We);var rt=me.reportError,ot=function(e,t){return Object.keys(e).reduce((function(n,r){return n["".concat(t).concat(r.toLowerCase())]=e[r]||"",n}),{})},it=function(e){return e&&e.length>=2&&"#/"===e.substring(0,2)},at=ce.strOrRegMatchFunc,st=function(e){return e>=128||45===e||95===e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122},ut=function(e){var t=String(e),n=t.length,r="",o=t.charCodeAt(0);if(1===n&&45===o)return"\\".concat(t);for(var i=0;i<n;i++){var a=t.charCodeAt(i);0!==a?a>=1&&a<=31||127===a||0===i&&a>=48&&a<=57||1===i&&a>=48&&a<=57&&45===o?r+="\\".concat(a.toString(16)," "):st(a)?(r+=t.charAt(i),i+=1):r+="\\".concat(t.charAt(i)):r+="�"}return r},ct=function(e){return e.replace(/("|\n)/g,(CSS.escape||ut)("$1"))},lt=function(e,t){var n=t.ignore,r=t.match;return Ie(e.attributes).reduce((function(e,t){var o=t.nodeName,i=t.value;return r.find((function(e){return at(e,o)}))&&!n.find((function(e){return at(e,o)}))&&e.push("[".concat(o,'="').concat(ct(i),'"]')),e}),[])},ft=ce.strOrRegMatchFunc,pt=function(e,t){var n=function(e,t){var n=t.ignore,r=t.match;if(!e.hasAttribute("class"))return[];var o=[];try{o=Array.prototype.slice.call(e.classList)}catch(t){o=e.getAttribute("class").trim().replace(/\s+/g," ").split(" ")}return o.filter((function(e){return/^[a-z_-][a-z\d_-]*$/i.test(e)&&r.find((function(t){return ft(t,e)}))&&!n.find((function(t){return ft(t,e)}))}))}(e,t).filter(Boolean);return n.map((function(e){return".".concat(e)}))},dt=function e(t,n,r,o,i,a,s){if(a!==s)for(var u=o;u<=i&&i-u+1>=s-a;++u)r[a]=n[u],e(t,n,r,u+1,i,a+1,s);else t.push(r.slice(0,a).join(""))},ht=function(e){var t=e.getAttribute("id");return null!==t&&""!==t?/^\d|:|\.|%|\$|#|=|\||\//.test(t)?'[id="'.concat(t,'"]'):"#".concat(t):null},vt=Me.isElement,mt=function(e){var t=e.parentNode;if(Boolean(t)){var n=Array.prototype.slice.call(t.children).findIndex((function(t){return vt(t)&&t===e}));if(n>-1)return":nth-child(".concat(n+1,")")}return null},gt=Me.getQuerySelectorAll,yt=function(e,t){if(!Boolean(t))return!1;var n=e[0],r=e[e.length-1],o=gt(t,r.parentNode?r.parentNode:r);return 1===o.length&&o[0]===n};function bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var St=Me.getQuerySelectorAll,Et=me.reportError,xt=function(e,t){var n=e.parentNode;if(!n)return!0;var r=St(t,n);return 1===r.length&&r[0]===e},Ot=function(e,t){return t.find((function(t){return xt(e,t)}))},kt=function(e,t,n){var r=function(e){for(var t=[],n=e.length,r=[],o=1;o<=3;++o)dt(t,e,r,0,n-1,0,o);return t}(t),o=Ot(e,r);return Boolean(o)||Boolean(n)&&(r=r.map((function(e){return n+e})),o=Ot(e,r),Boolean(o))?o:null},It=function(e,t,n){var r,o,i=n.useAttribute,a=n.useClass,s=null===(r=e.tagName)||void 0===r?void 0:r.toLowerCase().replace(/:/g,"\\:"),u=bt(t);try{for(u.s();!(o=u.n()).done;)switch(o.value){case"ID":var c=ht(e);if(Boolean(c)&&xt(e,c))return c;break;case"Attributes":var l=lt(e,i);if(Boolean(l)&&l.length){var f=kt(e,l,s);if(f)return f}break;case"Class":var p=pt(e,a);if(Boolean(p)&&p.length){var d=kt(e,p,s);if(d)return d}break;case"Tag":if(Boolean(s)&&xt(e,s))return s;break;case"NthChild":var h=mt(e);if(Boolean(h))return h}}catch(e){u.e(e)}finally{u.f()}return"*"},_t=function(e,t){var n,r=t.useAttribute,o=t.useClass,i=[t.useId&&"ID",r.match.length>0&&"Attributes",o.match.length>0&&"Class","Tag","NthChild"].filter((function(e){return!!e})),a=[],s=bt(e);try{for(s.s();!(n=s.n()).done;){var u=It(n.value,i,{useAttribute:r,useClass:o});if(Boolean(u)){a.unshift(u);var c=a.join(" > ");if(yt(e,c))return c}}}catch(e){s.e(e)}finally{s.f()}return""},Tt={getUniqueSelector:function(e,t){try{if(e.length<=0)return[];for(var n=[],r=0;r<e.length;r++){var o=e[r];if(o.getAttribute("slot")&&r<e.length-1)for(var i=r+1;i<e.length;i++){var a=e[i];if(a===o.parentNode){n.push(o),n.push(a),r=i;break}i===e.length-1&&n.push(o)}else n.push(o)}if(n.length<=0)return[];for(var s=[],u=0,c=0;c<n.length;c++){var l=n[c];c>0&&l.shadowRoot&&n[c-1].parentNode!==l?(s.push(n.slice(u,c)),u=c):c===n.length-1&&s.push(n.slice(u,c+1))}for(var f=[],p=0,d=s;p<d.length;p++){var h=_t(d[p],t);if(!h){f=[];break}f.push(h)}return f}catch(e){return Et("getUniqueSelector error",e),[]}},SELECTOR_LINK:" > "},At={common:ce,route:{getQueryAndParams:function(e,t,n,r){try{var o={};e&&(o=nt(nt({},o),We.parse(e))),r.forEach((function(e){Object.prototype.hasOwnProperty.call(o,e)&&delete o[e]}));var i=ot(o,"qr_"),a=ot(t,"pr_"),s=ot(n,"rx_");return{queryObj:o,routerParams:nt(nt(nt({},i),a),s)}}catch(e){return rt("getQueryAndParams error",e),{}}},getRouteParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{var n={};return e.find((function(e){var r=e(t);return r&&(n=r.params),r})),n}catch(e){return rt("getRouteParams error",e),{}}},extendEvent:function(e){var t=window.history[e];return function(){var n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,window.dispatchEvent(r),n}},splitHashAndQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location;try{var t=e.hostname,n=e.hash,r=e.search,o=e.pathname,i=void 0===o?"":o,a=n.indexOf("?"),s=it(n),u={hostname:t,pathname:"".concat(i).concat(s?n:""),search:r};if(-1===a)return u;var c=n.substring(a);return c="?"===c?"":c,u.pathname="".concat(i).concat(s?n.substring(0,a):""),u.search=r&&"?"!==r?"".concat(r).concat(c?"&".concat(c.substring(1)):""):c,u}catch(e){return rt("splitHashAndQuery error",e),{hostname:"",pathname:"",search:""}}},isHashRouteChange:function(e,t){return e!==t&&(it(e)||it(t))},isQueryChange:function(e,t){var n=We.parse(e),r=We.parse(t),o=Object.keys(n),i=Object.keys(r);if(o.length!==i.length)return!0;for(var a=0,s=o;a<s.length;a++){var u=s[a];if(!i.includes(u))return!0;if(n[u]!==r[u])return!0}return!1}},domElement:Me,unique:Tt,tamReport:me,constant:Q,getBeaconReporter:function(e){var t=e.appkey,n=void 0===t?"0AND05HGM55JG3O5":t,r=e.code,o=X(e,ye);return Se||(Se=new Y(we({appkey:n,delay:1e3},o))),function(e){return function(e){var t=e.code,n=e.event,r=e.eid,o=e.remark,i=X(e,ge);try{Promise.resolve().then((function(){var e=(null===window||void 0===window?void 0:window.ATInfo)||{},a=e.reportRouterinfo,s=we({at_appkey:e.appkey,at_sdk_version:e.sdkVersion,at_hostname:(void 0===a?{hostname:""}:a).hostname,at_event_code:n||"",at_eid:r||"",at_remark:o||""},i);null==Se||Se.onUserAction(t,s)}))}catch(e){me.reportError("".concat(t," Report error"),e)}}(we(we({},e),{},{code:r}))}}},Rt=At.domElement,Ct=At.tamReport.reportError,Pt=Rt.getQuerySelectorAll,jt=Rt.elementMatches,Nt=Rt.getElementsFromQueryDoms,Dt=1e-4,Lt={childList:!0,subtree:!0},qt=["useText"];function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=At.domElement,Ft=At.common,Ht=At.unique,Vt=At.tamReport.reportError,Wt=Bt.getCoords,Gt=Bt.getQuerySelectorAll,Jt=Bt.getTagAndOtherSelector,Kt=Bt.elementMatches,Qt=Bt.isAtPanelElement,$t=Ft.getEid,zt=Ft.formatText,Xt=Ft.strOrRegMatchFunc,Yt=Ht.getUniqueSelector,Zt=Ht.SELECTOR_LINK,en=function(e){return!e.includes(">")&&!e.includes(",")&&!function(e){var t=[" ",">","~","+","|",","],n=e.split("").find((function(n,r){return r>0&&r<e.length&&" "===n&&!t.includes(e[r-1])&&!t.includes(e[r+1])}));return!!n}(e)},tn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=0,o="";if(!(null==e?void 0:e.length))return{domIndex:r,queryPath:o};var i="",a=[],s=t.findIndex((function(t){return i=e.find((function(e){var n,o=-1!==(n=en(e)&&t.parentNode?Gt(e,t.parentNode).findIndex((function(e){return e===t})):Gt(e,t.ownerDocument).findIndex((function(e){return e===t})));return o&&(r=n+1),o})),a.unshift(i||t.tagName.toLowerCase()),!!i}));if(i)if(en(i)&&s<t.length-1){var u=Yt(t.slice(s+1,t.length),n);o=(null==u?void 0:u.length)>0?[u[0]].concat(a).join(Zt):a.join(Zt)}else o=a.join(Zt);return{domIndex:r,queryPath:o}},nn=function(e,t){var n=ie(e,1)[0],r=n.className,o=n.attributes,i=zt(n.innerText),a=Wt(n),s={};Array.prototype.slice.call(o).filter((function(e){var t=e.nodeName,n=e.value;return!F.find((function(e){return Xt(e,t)}))&&n})).forEach((function(e){s[e.nodeName]=e.value}));var u=JSON.stringify(s),c=t.autoStrategy,l=Jt(t.listSelector),f=l.tagSelectors,p=void 0===f?[]:f,d=l.otherSelectors,h=tn(void 0===d?[]:d,e,c),v=h.queryPath?h:tn(p,e,c);return Ut({text:i,classnames:r,attributes:"{}"===u?"":u,coordinate:"".concat(a.top,",").concat(a.left)},v)},rn={getTargetBasicInfo:nn,readElement:function(e,t){if((null==e?void 0:e.length)<1||e.find((function(e){return Qt(e)})))return null;var n=nn(e,t),r=function(e,t,n){var r=n.autoStrategy,o=n.shadowHostSelector,i=ie(e,1)[0],a=r.useText,s=X(r,qt);if(a.length>0&&t){var u=a.find((function(e){return Kt(i,e)}));if(u){var c=Gt(u,document,o);if(1===c.length)return{queryDom:u,eid:$t(u)};if(!c.find((function(e){return e!==i&&zt(e.innerText)===t})))return{queryDom:u,eid:$t(u,t)}}}var l=Yt(e,s),f="";return 1===l.length?f=ie(l,1)[0]:l.length>1&&(f=JSON.stringify(l)),{queryDom:f,eid:$t(f)}}(e,n.text,t),o=r.queryDom,i=r.eid;return o?Ut(Ut({},n),{},{queryDom:o,eid:i}):null},getElementsFromData:function(e){var t=e.trackData,n=e.trackConfig;if(!n||!t)return[];try{var r=t.eid,o=n.keyAttribute,i=n.shadowHostSelector;if(!t.queryDom){var a=(Array.isArray(o)?o:[o]).map((function(e){return"[".concat(e,"='").concat(r,"']")})).join(",");return Gt(a,document,i)}var s=function(e,t){var n=e.trackData,r=n.queryDom,o=n.eid,i=n.text;if($t(r)===o){var a=Gt(r);return 1===a.length?a[0]:null}if($t(r,i)===o){var s=Gt(r,document,t).filter((function(e){return zt(e.innerText)===i}));return 1===s.length?s[0]:null}return null}({trackData:t},i);return s?[s]:[]}catch(e){return Vt("getElementsFromData error",e),[]}}},on=["useText","useAttribute","useClass"],an=["autoSelector","shadowHostSelector","listSelector","autoStrategy","extraAttributes"],sn=["useText","useAttribute","useClass"],un=["autoSelector","shadowHostSelector","listSelector","autoStrategy","extraAttributes"];function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fn=rn.readElement,pn=rn.getTargetBasicInfo,dn=At.domElement,hn=At.tamReport.reportError,vn=dn.getDataFromAttrKey,mn=dn.getTagAndOtherSelector,gn=dn.getAttributesParams,yn=dn.getParents,bn=dn.isElement,wn=dn.elementMatchSelectors,Sn=At.common.mergeArrays,En=function(e,t){if(!(null==e?void 0:e.length))return[];var n=t.findIndex((function(t){return wn(t,e)}));return-1===n?[]:t.slice(n,t.length)},xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ignore,r=t.ignore;return{match:Sn(e.match,t.match),ignore:Sn(n,r)}},On=function(e,t){try{var n=e.autoSelector,r=e.shadowHostSelector,o=e.listSelector,i=e.autoStrategy,a=void 0===i?{}:i,s=a.useText,u=a.useAttribute,c=a.useClass,l=X(a,on),f=e.extraAttributes,p=X(e,an),d=t.autoSelector,h=t.shadowHostSelector,v=t.listSelector,m=t.autoStrategy,g=void 0===m?{}:m,y=g.useText,b=g.useAttribute,w=g.useClass,S=X(g,sn),E=t.extraAttributes,x=X(t,un);return ln(ln(ln({effectiveSelectors:[],remoteAutoSelector:[]},p),x),{},{autoSelector:Sn(n,d),shadowHostSelector:Sn(r,h),listSelector:Sn(o,v),autoStrategy:ln(ln(ln({},l),S),{},{useText:Sn(s,y),useAttribute:xn(u,b),useClass:xn(c,w)}),extraAttributes:Sn(f,E)})}catch(t){return hn("mergeTrackConfigs error",t),e}},kn=["name","for","role","type"],In=["a","button","input","textarea"],_n=["button"],Tn=["li","tr"],An=[/-active$/,/-selected$/,/-checked$/,/-disabled$/,/^is--/,/-is-/],Rn=function(e){return ln({autoSelector:e?In:_n,keyAttribute:e?"dt-eid":"dt-areaid",listSelector:Tn,shadowHostSelector:[],autoStrategy:{useText:[],useId:!0,useAttribute:{match:kn,ignore:F},useClass:{match:[/.*/],ignore:An}},extraAttributes:[["dt-remark",{transformAttributeKey:function(e){return e.replace(/^dt-/,"")}}]]},e?{}:{areaDelay:1e3,areaThreshold:.5,trackStayarea:!1,repeated:!0})},Cn={domObserver:q((function e(t){var n=t.selectors,r=void 0===n?[]:n,o=t.shadowHostSelector,i=void 0===o?[]:o,a=t.onEnterView,s=t.onLeaveView,u=t.showAreaThreshold,c=void 0===u?Dt:u;C(this,e);try{IntersectionObserver.prototype.THROTTLE_TIMEOUT=300}catch(e){}this.selectors=r,this.shadowHostSelector=i,this.threshold=c>Dt&&c<=1?[Dt,c]:[Dt],this.intersectionInstance=null,this.mutationInstance=null,this.init({onEnterView:a,onLeaveView:s})}),[{key:"addObserveSelector",value:function(e){var t=this;if(e&&!this.selectors.includes(e)){this.selectors.push(e);var n=Pt(e,document,this.shadowHostSelector);n.length>0&&n.forEach((function(e){var n;e&&(null===(n=t.intersectionInstance)||void 0===n||n.observe(e))}))}}},{key:"unobserveTarget",value:function(e){var t;null===(t=this.intersectionInstance)||void 0===t||t.unobserve(e)}},{key:"disconnect",value:function(){var e,t;null===(e=this.intersectionInstance)||void 0===e||e.disconnect(),null===(t=this.mutationInstance)||void 0===t||t.disconnect()}},{key:"mutationChange",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add";try{var o=e;if([K.DOCUMENT_FRAGMENT_NODE,K.ELEMENT_NODE].includes(o.nodeType)){this.selectors.find((function(e){return jt(o,e)}))&&t(o);var i=Nt(this.selectors,o);if(i.length>0&&i.forEach((function(e){e&&t(e)})),this.shadowHostSelector.length>0){var a=this.shadowHostSelector.join(","),s=jt(o,a)?[o]:[],u=Pt(a,o).concat(s);u.length&&setTimeout((function(){u.forEach((function(e){var t,o=null==e?void 0:e.shadowRoot;o&&("add"===r&&(null===(t=n.mutationInstance)||void 0===t||t.observe(o,Lt)),n.mutationChange(o,(function(e){var t;return null===(t=n.intersectionInstance)||void 0===t?void 0:t.observe(e)})))}))}),0)}}}catch(e){Ct("domobserver mutationChange error",e)}}},{key:"init",value:function(e){var t=this,n=e.onEnterView,r=e.onLeaveView;this.intersectionInstance=new IntersectionObserver((function(e){try{null==e||e.forEach((function(e){var o=e.isIntersecting,i=e.target;o&&e.intersectionRatio>t.threshold[t.threshold.length-1]&&n(i),o||r(i)}))}catch(e){Ct("domobserver IntersectionObserver error",e)}}),{root:null,rootMargin:"0px",threshold:this.threshold}),this.mutationInstance=new MutationObserver((function(e){try{null==e||e.forEach((function(e){var n,o;null===(n=e.addedNodes)||void 0===n||n.forEach((function(e){t.mutationChange(e,(function(e){var n;return null===(n=t.intersectionInstance)||void 0===n?void 0:n.observe(e)}))})),null===(o=e.removedNodes)||void 0===o||o.forEach((function(e){t.mutationChange(e,(function(e){var n;r(e),null===(n=t.intersectionInstance)||void 0===n||n.unobserve(e)}),"remove")}))}))}catch(e){Ct("domobserver MutationObserver error",e)}})),document.body&&(this.mutationInstance.observe(document.body,Lt),this.mutationChange(document.body,(function(e){var n;return null===(n=t.intersectionInstance)||void 0===n?void 0:n.observe(e)})))}}]),element:rn,track:{getInitTrackConfig:function(e,t){return(Array.isArray(e)?e:[e]).reduce((function(e,n){return On(_[n][t?"click":"area"],e)}),Rn(t))},mergeCustomConfig:function(e,t){var n=On(e,t),r=n.keyAttribute,o=n.autoSelector,i=Array.isArray(r)?r:[r];n.keyAttribute=i,i.forEach((function(e){var t,n="[".concat(e,"]");(null===(t=null==o?void 0:o.includes)||void 0===t?void 0:t.call(o,n))||null==o||o.push(n)}));var a=e.keyAttribute;return(Array.isArray(a)?a:[a]).forEach((function(e){var t="[".concat(e,"]"),n=o.findIndex((function(e){return e===t}));n>-1&&-1===i.findIndex((function(t){return t===e}))&&(null==o||o.splice(n,1))})),n},getEffectiveSelectors:function(e){return Array.from(new Set(e.filter((function(e){var t,n;if(!e)return!1;if("string"==typeof e)return!0;if(!e.selector)return!1;var r=null===(t=e.router)||void 0===t?void 0:t.pathname,o=null===(n=window.ATInfo.reportRouterinfo)||void 0===n?void 0:n.pathname;return!r||!o||("[object RegExp]"===Object.prototype.toString.call(r)?r.test(o):r.startsWith("^")?new RegExp(r).test(o):r===o)})).map((function(e){return e.selector||e}))))},trackClickDom:function(e,t){var n;try{var r=e.target;if(!r)return null;var o=t.keyAttribute,i=t.effectiveSelectors,a=t.extraAttributes,s=t.shadowHostSelector,u=(e instanceof MouseEvent||e instanceof TouchEvent?Array.prototype.slice.call((null===(n=e.composedPath)||void 0===n?void 0:n.call(e))||[]):yn(r,s)).filter((function(e){return bn(e)})),c=vn(u,o),l=c.parentList,f=c.attrValue;if(f){var p=ie(l,1)[0];return ln(ln(ln({},gn(p,a)),pn(l,t)),{},{realTarget:p,eid:f})}if(i.length>0){var d=mn(i),h=d.tagSelectors,v=void 0===h?[]:h,m=d.otherSelectors,g=En(void 0===m?[]:m,u),y=g.length>0?g:En(v,u);if(y.length>0){var b=ie(y,1)[0],w=fn(y,t);return w?ln(ln(ln({},gn(b,a)),w),{},{realTarget:b}):null}}return null}catch(e){return hn("trackClickDom error",e),null}},trackExposeDom:function(e,t){try{var n=t.keyAttribute,r=t.extraAttributes,o=t.shadowHostSelector;if(!e||!wn(e,t.effectiveSelectors))return null;var i=yn(e,o).filter((function(e){return bn(e)})),a="";(Array.isArray(n)?n:[n]).some((function(t){var n=e.getAttribute(t)||"";return!!n&&(a=n,!0)}));var s=gn(e,r);if(a)return ln(ln(ln({},s),pn(i,t)),{},{eid:a});var u=fn(i,t);return u?ln(ln({},s),u):null}catch(e){return hn("trackExposeDom error",e),null}},trackNormalDom:function(e){var t=yn(e).filter((function(e){return bn(e)})),n=Rn(!1),r=fn(t,n);return r?ln(ln({},gn(e,n.extraAttributes)),r):null}}},Pn={exports:{}};Pn.exports=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)},t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function n(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function r(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}"function"==typeof SuppressedError&&SuppressedError;var o="__BEACON_",i="__BEACON_deviceId",a="last_report_time",s="sending_event_ids",u="beacon_config",c="beacon_config_request_time",l=new Set(["rqd_js_init","rqd_applaunched"]),f=function(){function e(){var e=this;this.emit=function(t,n){if(e){var r,o=e.__EventsList[t];if(null==o?void 0:o.length){o=o.slice();for(var i=0;i<o.length;i++){r=o[i];try{var a=r.callback.apply(e,[n]);if(1===r.type&&e.remove(t,r.callback),!1===a)break}catch(e){throw e}}}return e}},this.__EventsList={}}return e.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},e.prototype.on=function(e,t,n){if(void 0===n&&(n=0),this){var r=this.__EventsList[e];return r||(r=this.__EventsList[e]=[]),-1===this.indexOf(r,t)?(r.push({name:e,type:n||0,callback:t}),this):this}},e.prototype.one=function(e,t){this.on(e,t,1)},e.prototype.remove=function(e,t){if(this){var n=this.__EventsList[e];if(!n)return null;if(!t){try{delete this.__EventsList[e]}catch(e){}return null}if(n.length){var r=this.indexOf(n,t);n.splice(r,1)}return this}},e}();function p(e,t){for(var n={},r=0,o=Object.keys(e);r<o.length;r++){var i=o[r],a=e[i];if("string"==typeof a)n[d(i)]=d(a);else{if(t)throw new Error("value mast be string  !!!!");n[d(String(i))]=d(String(a))}}return n}function d(e){if("string"!=typeof e)return e;try{return e.replace(new RegExp("\\|","g"),"%7C").replace(new RegExp("\\&","g"),"%26").replace(new RegExp("\\=","g"),"%3D").replace(new RegExp("\\+","g"),"%2B")}catch(e){return""}}function h(e){return String(e.A99)+String(e.A100)}var v=function(){},m=function(){function e(e){var n=this;this.lifeCycle=new f,this.uploadJobQueue=[],this.additionalParams={},this.delayTime=0,this._normalLogPipeline=function(e){if(!e||!e.reduce||!e.length)throw new TypeError("createPipeline 方法需要传入至少有一个 pipe 的数组");return 1===e.length?function(t,n){e[0](t,n||v)}:e.reduce((function(e,t){return function(n,r){return void 0===r&&(r=v),e(n,(function(e){return null==t?void 0:t(e,r)}))}}))}([function(e){n.send({url:n.strategy.getUploadUrl(),data:e,method:"post",contentType:"application/json;charset=UTF-8"},(function(){var t=n.config.onReportSuccess;"function"==typeof t&&t(JSON.stringify(e.events))}),(function(){var t=n.config.onReportFail;"function"==typeof t&&t(JSON.stringify(e.events))}))}]),function(e,t){if(!e)throw t instanceof Error?t:new Error(t)}(Boolean(e.appkey),"appkey must be initial"),this.config=t(t({},e),{needReportRqdEvent:null==e.needReportRqdEvent||e.needReportRqdEvent})}return e.prototype.onUserAction=function(e,t){this.preReport(e,t,!1)},e.prototype.onDirectUserAction=function(e,t){this.preReport(e,t,!0)},e.prototype.preReport=function(e,t,n){e?this.strategy.isEventUpOnOff()&&(this.strategy.isBlackEvent(e)||this.strategy.isSampleEvent(e)||!this.config.needReportRqdEvent&&l.has(e)||this.onReport(e,t,n)):this.errorReport.reportError("602"," no eventCode")},e.prototype.addAdditionalParams=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this.additionalParams[r]=e[r]}},e.prototype.setChannelId=function(e){this.commonInfo.channelID=String(e)},e.prototype.setOpenId=function(e){this.commonInfo.openid=String(e)},e.prototype.setUnionid=function(e){this.commonInfo.unid=String(e)},e.prototype.getDeviceId=function(){return this.commonInfo.deviceId},e.prototype.getCommonInfo=function(){return this.commonInfo},e.prototype.removeSendingId=function(e){try{var t=JSON.parse(this.storage.getItem(s)),n=t.indexOf(e);-1!=n&&(t.splice(n,1),this.storage.setItem(s,JSON.stringify(t)))}catch(e){}},e}(),g=function(){function e(e,t,n,r){this.requestParams={},this.network=r,this.requestParams.attaid="00400014144",this.requestParams.token="6478159937",this.requestParams.product_id=e.appkey,this.requestParams.platform=n,this.requestParams.uin=t.deviceId,this.requestParams.model="",this.requestParams.os=n,this.requestParams.app_version=e.appVersion,this.requestParams.sdk_version=t.sdkVersion,this.requestParams.error_stack="",this.uploadUrl=e.isOversea?"https://htrace.wetvinfo.com/kv":"https://h.trace.qq.com/kv"}return e.prototype.reportError=function(e,t){this.requestParams._dc=Math.random(),this.requestParams.error_msg=t,this.requestParams.error_code=e,this.network.get(this.uploadUrl,{params:this.requestParams}).catch((function(e){}))},e}(),y=function(){function e(e,t,n,r,o){this.strategy={isEventUpOnOff:!0,httpsUploadUrl:"https://otheve.beacon.qq.com/analytics/v2_upload",requestInterval:30,blacklist:[],samplelist:[]},this.realSample={},this.appkey="",this.needQueryConfig=!0,this.appkey=t.appkey,this.storage=r,this.needQueryConfig=e;try{var i=JSON.parse(this.storage.getItem(u));i&&this.processData(i)}catch(e){}t.isOversea&&(this.strategy.httpsUploadUrl="https://svibeacon.onezapp.com/analytics/v2_upload"),!t.isOversea&&this.needRequestConfig()&&this.requestConfig(t.appVersion,n,o)}return e.prototype.requestConfig=function(e,t,n){var r=this;this.storage.setItem(c,Date.now().toString()),n.post("https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig",{platformId:"undefined"==typeof wx?"3":"4",mainAppKey:this.appkey,appVersion:e,sdkVersion:t.sdkVersion,osVersion:t.userAgent,model:"",packageName:"",params:{A3:t.deviceId}}).then((function(e){if(0==e.data.ret)try{var t=JSON.parse(e.data.beaconConfig);t&&(r.processData(t),r.storage.setItem(u,e.data.beaconConfig))}catch(e){}else r.processData(null),r.storage.setItem(u,"")})).catch((function(e){}))},e.prototype.processData=function(e){var t,n,r,o,i;this.strategy.isEventUpOnOff=null!==(t=null==e?void 0:e.isEventUpOnOff)&&void 0!==t?t:this.strategy.isEventUpOnOff,this.strategy.httpsUploadUrl=null!==(n=null==e?void 0:e.httpsUploadUrl)&&void 0!==n?n:this.strategy.httpsUploadUrl,this.strategy.requestInterval=null!==(r=null==e?void 0:e.requestInterval)&&void 0!==r?r:this.strategy.requestInterval,this.strategy.blacklist=null!==(o=null==e?void 0:e.blacklist)&&void 0!==o?o:this.strategy.blacklist,this.strategy.samplelist=null!==(i=null==e?void 0:e.samplelist)&&void 0!==i?i:this.strategy.samplelist;for(var a=0,s=this.strategy.samplelist;a<s.length;a++){var u=s[a].split(",");2==u.length&&(this.realSample[u[0]]=u[1])}},e.prototype.needRequestConfig=function(){if(!this.needQueryConfig)return!1;var e=Number(this.storage.getItem(c));return Date.now()-e>60*this.strategy.requestInterval*1e3},e.prototype.getUploadUrl=function(){return this.strategy.httpsUploadUrl+"?appkey="+this.appkey},e.prototype.isBlackEvent=function(e){return-1!=this.strategy.blacklist.indexOf(e)},e.prototype.isEventUpOnOff=function(){return this.strategy.isEventUpOnOff},e.prototype.isSampleEvent=function(e){return!!Object.prototype.hasOwnProperty.call(this.realSample,e)&&this.realSample[e]<Math.floor(Math.random()*Math.floor(1e4))},e}(),b="session_storage_key",w=function(){function e(e,t,n){this.getSessionStackDepth=0,this.beacon=n,this.storage=e,this.duration=t,this.appkey=n.config.appkey}return e.prototype.getSession=function(){this.getSessionStackDepth+=1;var e=this.storage.getItem(b);if(!e)return this.createSession();var t="",n=0;try{var r=JSON.parse(e)||{sessionId:void 0,sessionStart:void 0};if(!r.sessionId||!r.sessionStart)return this.createSession();var o=Number(this.storage.getItem(a));if(Date.now()-o>this.duration)return this.createSession();t=r.sessionId,n=r.sessionStart,this.getSessionStackDepth=0}catch(e){}return{sessionId:t,sessionStart:n}},e.prototype.createSession=function(){var e=Date.now(),t={sessionId:this.appkey+"_"+e.toString(),sessionStart:e};this.storage.setItem(b,JSON.stringify(t)),this.storage.setItem(a,e.toString());var n="is_new_user",r=this.storage.getItem(n);return this.getSessionStackDepth<=1&&this.beacon.onDirectUserAction("rqd_applaunched",{A21:r?"N":"Y"}),this.storage.setItem(n,JSON.stringify(!1)),t},e}();function S(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Edge")>-1&&!t,r=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var o=parseFloat(RegExp.$1);return 7==o?7:8==o?8:9==o?9:10==o?10:6}return n?-2:r?11:-1}var E,x=function(){function e(e){this.config=e}return e.canUseDB=function(){return"undefined"!=typeof indexedDB},e.prototype.openDB=function(){var t=this;return new Promise((function(n,r){if(!e.canUseDB())return r({message:"当前不支持 indexeddb"});var o=t.config,i=o.stores,a=indexedDB.open(o.name,o.version);a.onsuccess=function(){t.db=a.result,n()},a.onerror=function(e){r(e)},a.onupgradeneeded=function(){t.db=a.result;try{null==i||i.forEach((function(e){t.createStore(e)}))}catch(e){r(e)}}}))},e.prototype.useStore=function(e){return this.storeName=e,this},e.prototype.deleteDB=function(){var e=this;return this.closeDB(),new Promise((function(t,n){var r=indexedDB.deleteDatabase(e.config.name);r.onsuccess=function(){return t()},r.onerror=n}))},e.prototype.closeDB=function(){var e;null===(e=this.db)||void 0===e||e.close(),this.db=null},e.prototype.getStoreCount=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readonly").count();r.onsuccess=function(){return t(r.result)},r.onerror=n}))},e.prototype.clearStore=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readwrite").clear();r.onsuccess=function(){return t()},r.onerror=n}))},e.prototype.add=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").add(e,t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.put=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").put(e,t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.get=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore().index(e).get(t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.remove=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").index(e).objectStore.delete(t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.removeList=function(e,t){var n=this;return new Promise((function(r){var o=n.getStore("readwrite").index(e),i=[];t.forEach((function(e){o.objectStore.delete(e).onerror=function(){i.push(e)}})),r(i)}))},e.prototype.getStoreAllData=function(e){var t=this;return void 0===e&&(e=1/0),new Promise((function(n,r){var o=t.getStore("readonly").openCursor(),i=[];o.onsuccess=function(){var t=o.result;if(t&&i.length<e)try{t.value&&i.push(t.value),t.continue()}catch(e){n(i)}else n(i)},o.onerror=r}))},e.prototype.getDataRangeByIndex=function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=i.getStore().index(e),c=IDBKeyRange.bound(t,n,r,o),l=[],f=u.openCursor(c);f.onsuccess=function(){var e;(null===(e=null==f?void 0:f.result)||void 0===e?void 0:e.value)?(l.push(null==f?void 0:f.result.value),null==f||f.result.continue()):a(l)},f.onerror=s}))},e.prototype.removeDataByIndex=function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=i.getStore("readwrite").index(e),c=IDBKeyRange.bound(t,n,r,o),l=u.openCursor(c),f=0;l.onsuccess=function(e){var t=e.target.result;t?(f+=1,t.delete(),t.continue()):a(f)},l.onerror=s}))},e.prototype.createStore=function(e){var t=e.name,n=e.indexes,r=void 0===n?[]:n,o=e.options;if(this.db){this.db.objectStoreNames.contains(t)&&this.db.deleteObjectStore(t);var i=this.db.createObjectStore(t,o);r.forEach((function(e){i.createIndex(e.indexName,e.keyPath,e.options)}))}},e.prototype.getStore=function(e){var t;return void 0===e&&(e="readonly"),null===(t=this.db)||void 0===t?void 0:t.transaction(this.storeName,e).objectStore(this.storeName)},e}(),O="event_table_v3",k="eventId",I=function(){function e(e,t){this.isReady=!1,this.taskQueue=Promise.resolve(),this.db=new x({name:"Beacon_"+e+"_V3",version:1,stores:[{name:O,options:{keyPath:k},indexes:[{indexName:k,keyPath:k,options:{unique:!0}}]}]}),this.open(t)}return e.prototype.getCount=function(){var e=this;return this.readyExec((function(){return e.db.getStoreCount()}))},e.prototype.setItem=function(e,t){var n=this;return this.readyExec((function(){return n.db.add({eventId:e,value:t})}))},e.prototype.getItem=function(e){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(n){return[2,this.readyExec((function(){return t.db.getDataRangeByIndex(k,e,e)}))]}))}))},e.prototype.removeItem=function(e){var t=this;return this.readyExec((function(){return t.db.removeDataByIndex(k,e,e)}))},e.prototype.removeItemList=function(e){var t=this;return this.readyExec((function(){return t.db.removeList(k,e)}))},e.prototype.updateItem=function(e,t){var n=this;return this.readyExec((function(){return n.db.put({eventId:e,value:t})}))},e.prototype.iterate=function(e){var t=this;return this.readyExec((function(){return t.db.getStoreAllData().then((function(t){t.forEach((function(t){e(t.value)}))})).catch((function(e){}))}))},e.prototype.open=function(e){return n(this,void 0,void 0,(function(){var t,n=this;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.taskQueue=this.taskQueue.then((function(){return n.db.openDB()})),[4,this.taskQueue];case 1:return r.sent(),this.isReady=!0,this.db.useStore(O),[3,3];case 2:return t=r.sent(),null==e||e.openDBFail(t),[3,3];case 3:return[2]}}))}))},e.prototype.readyExec=function(e){return this.isReady?e():(this.taskQueue=this.taskQueue.then((function(){return e()})),this.taskQueue)},e}(),_=function(){function e(e){this.keyObject={},this.storage=e}return e.prototype.getCount=function(){return this.storage.getStoreCount()},e.prototype.removeItem=function(e){this.storage.removeItem(e),delete this.keyObject[e]},e.prototype.removeItemList=function(e){var t=this;e.forEach((function(e){return t.removeItem(e)}))},e.prototype.setItem=function(e,t){var n=JSON.stringify(t);this.storage.setItem(e,n),this.keyObject[e]=t},e.prototype.iterate=function(e){for(var t=Object.keys(this.keyObject),n=0;n<t.length;n++){var r=this.storage.getItem(t[n]);e(JSON.parse(r))}},e}(),T=function(){function e(e,t){var n=this;this.dbEventCount=0;var r=S(),o=function(){n.store=new _(t),n.dbEventCount=n.store.getCount()};r>0||!window.indexedDB||/X5Lite/.test(navigator.userAgent)?o():(this.store=new I(e,{openDBFail:function(e){o()}}),this.getCount().then((function(e){n.dbEventCount=e})).catch((function(e){})))}return e.prototype.getCount=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.store.getCount()];case 1:return[2,e.sent()];case 2:return e.sent(),[2,Promise.reject()];case 3:return[2]}}))}))},e.prototype.insertEvent=function(e,t){return n(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:if(this.dbEventCount>=1e3)return[2,Promise.reject()];n=h(e.mapValue),r.label=1;case 1:return r.trys.push([1,3,,4]),this.dbEventCount++,[4,this.store.setItem(n,e)];case 2:return[2,r.sent()];case 3:return o=r.sent(),t&&t(o,e),this.dbEventCount--,[2,Promise.reject()];case 4:return[2]}}))}))},e.prototype.getEvents=function(){return n(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:e=[],t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.store.iterate((function(t){e.push(t)}))];case 2:case 3:return t.sent(),[2,Promise.all(e)];case 4:return[2]}}))}))},e.prototype.removeEvent=function(e){return n(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:t=h(e.mapValue),n.label=1;case 1:return n.trys.push([1,3,,4]),this.dbEventCount--,[4,this.store.removeItem(t)];case 2:return[2,n.sent()];case 3:return n.sent(),this.dbEventCount++,[2,Promise.reject()];case 4:return[2]}}))}))},e.prototype.removeEventList=function(e){return n(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:t=e.map((function(e){return h(e.mapValue)})),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.store.removeItemList(t)];case 2:return n=r.sent(),this.dbEventCount-=t.length-(null==n?void 0:n.length)||0,[3,4];case 3:return r.sent(),[2,Promise.reject()];case 4:return[2]}}))}))},e}(),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function R(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function C(e,t){var n=[null,void 0,"",NaN].includes(e);if(t.isSkipEmpty&&n)return null;var r=!t.isSkipEmpty&&n?"":e;try{return t.encode?encodeURIComponent(r):r}catch(e){return null}}function P(e,t){return new Promise((function(n,r){if(t&&document.querySelectorAll("script[data-tag="+t+"]").length)return n();var o=document.createElement("script"),i=A({type:"text/javascript",charset:"utf-8"},e);Object.keys(i).forEach((function(e){return function(e,t,n){if(e)return void 0===n?e.getAttribute(t):e.setAttribute(t,n)}(o,e,i[e])})),t&&(o.dataset.tag=t),o.onload=function(){return n()},o.onreadystatechange=function(){["complete","loaded"].includes(o.readyState)&&(o.onreadystatechange=null,n())},o.onerror=r,document.body.appendChild(o)}))}!function(e){e[e.equal=0]="equal",e[e.low=-1]="low",e[e.high=1]="high"}(E||(E={}));var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function N(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function D(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var L=function(){function e(){this.interceptors=[]}return e.prototype.use=function(e,t){return this.interceptors.push({resolved:e,rejected:t}),this.interceptors.length-1},e.prototype.traverse=function(e,t){void 0===t&&(t=!1);var n=Promise.resolve(e);return(t?Array.prototype.reduceRight:Array.prototype.reduce).call(this.interceptors,(function(e,t){return t&&(n=n.then(t.resolved,t.rejected)),e}),""),n},e.prototype.eject=function(e){this.interceptors[e]&&(this.interceptors[e]=null)},e}(),q={defaults:{timeout:0,method:"GET",mode:"cors",redirect:"follow",credentials:"same-origin"},headers:{common:{Accept:"application/json, text/plain, */*"},POST:{"Content-Type":"application/x-www-form-urlencoded"},PUT:{"Content-Type":"application/x-www-form-urlencoded"},PATCH:{"Content-Type":"application/x-www-form-urlencoded"}},baseURL:"",polyfillUrl:"https://vm.gtimg.cn/comps/script/fetch.min.js",interceptors:{request:new L,response:new L}},M=/^([a-z][a-z\d+\-.]*:)?\/\//i,U=Object.prototype.toString;function B(e){return N(this,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:if(window.fetch)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,P({src:e})];case 2:return n.sent(),[3,4];case 3:throw t=n.sent(),new Error("加载 polyfill "+e+" 失败: "+t.message);case 4:return[2]}}))}))}function F(e){return N(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,u,c,l,f,p,d,h,v,m,g;return D(this,(function(y){switch(y.label){case 0:return t=q.baseURL,n=q.defaults,r=q.interceptors,[4,B(q.polyfillUrl)];case 1:return y.sent(),(o=j(j({},n),e)).headers||(o.headers=function(e){void 0===e&&(e="GET");var t=q.headers[e]||{};return j(j({},q.headers.common),t)}(o.method)),function(e){["Accept","Content-Type"].forEach((function(t){return n=t,void((r=e.headers)&&Object.keys(r).forEach((function(e){e!==n&&e.toUpperCase()===n.toUpperCase()&&(r[n]=r[e],delete r[e])})));var n,r})),function(e){if("[object Object]"!==U.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}(e.body)&&(e.body=JSON.stringify(e.body),e.headers&&(e.headers["Content-Type"]="application/json;charset=utf-8"))}(o),[4,r.request.traverse(o,!0)];case 2:if((i=y.sent())instanceof Error)throw i;return i.url=function(e,t){return!e||M.test(t)?t:e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}(t,i.url),a=i.url,s=i.timeout,u=i.params,l=["GET","DELETE","OPTIONS","HEAD"].includes(void 0===(c=i.method)?"GET":c)&&!!u,f=l?function(e,t){void 0===t&&(t={encode:!0,isSkipEmpty:!1});var n=e.url,r=e.query,o=void 0===r?{}:r,i=e.hash,a=n.split("#"),s=a[1],u=void 0===s?"":s,c=a[0].split("?")[0],l=[],f=C(i||u,t),p=A(A({},function(e){var t=e.split("#"),n=t[1],r=void 0===n?"":n,o=t[0].split("?"),i=o[0],a=o[1],s=void 0===a?"":a,u=R(r),c=Object.create(null);return s.split("&").forEach((function(e){var t=e.split("="),n=t[1],r=void 0===n?"":n,o=R(t[0]),i=R(r);null===o||null===i||""===o&&""===i||c[o]||(c[o]=i)})),{url:i,query:c,hash:u}}(n).query),o);return Object.keys(p).forEach((function(e){var n=C(e,t),r=C(p[e],t);null!==n&&null!==r&&l.push(n+"="+r)})),c+(l.length?"?"+l.join("&"):"")+(f?"#"+f:"")}({url:a,query:u}):a,p=[],s&&!i.signal&&(v=new Promise((function(e){d=setTimeout((function(){e(new Error("timeout"))}),s)})),p.push(v),h=new AbortController,i.signal=h.signal),p.push(fetch(f,i).catch((function(e){return e}))),[4,Promise.race(p)];case 3:return m=y.sent(),d&&clearTimeout(d),[4,r.response.traverse(m)];case 4:if((g=y.sent())instanceof Error)throw null==h||h.abort(),g;return[2,g]}}))}))}var H=function(){function e(e){q.interceptors.request.use((function(n){var r=n.method,o=n.body,i=o;if(e.onReportBeforeSend){var a=e.onReportBeforeSend({url:n.url,method:r,data:o?JSON.parse(o):null});i=(null==a?void 0:a.data)?JSON.stringify(a.data):null}return"GET"!=r&&i?t(t({},n),{body:i}):n}))}return e.prototype.get=function(e,o){return n(this,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,F(t({url:e},o))];case 1:return[4,(n=r.sent()).json()];case 2:return i=r.sent(),[2,Promise.resolve({data:i,status:n.status,statusText:n.statusText,headers:n.headers})]}}))}))},e.prototype.post=function(e,o,i){return n(this,void 0,void 0,(function(){var n,a;return r(this,(function(r){switch(r.label){case 0:return[4,F(t({url:e,body:o,method:"POST"},i))];case 1:return[4,(n=r.sent()).json()];case 2:return a=r.sent(),[2,Promise.resolve({data:a,status:n.status,statusText:n.statusText,headers:n.headers})]}}))}))},e}(),V=function(){function e(e){this.appkey=e}return e.prototype.getItem=function(e){try{return window.localStorage.getItem(this.getStoreKey(e))}catch(e){return""}},e.prototype.removeItem=function(e){try{window.localStorage.removeItem(this.getStoreKey(e))}catch(e){}},e.prototype.setItem=function(e,t){try{window.localStorage.setItem(this.getStoreKey(e),t)}catch(e){}},e.prototype.setSessionItem=function(e,t){try{window.sessionStorage.setItem(this.getStoreKey(e),t)}catch(e){}},e.prototype.getSessionItem=function(e){try{return window.sessionStorage.getItem(this.getStoreKey(e))}catch(e){return""}},e.prototype.getStoreKey=function(e){return o+this.appkey+"_"+e},e.prototype.createDeviceId=function(){try{var e=window.localStorage.getItem(i);return e||(e=function(){for(var e="",t=0;t<32;t++)e+="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789".charAt(Math.floor(51*Math.random()));return e}(),window.localStorage.setItem(i,e)),e}catch(e){return""}},e.prototype.clear=function(){try{for(var e=window.localStorage.length,t=0;t<e;t++){var n=window.localStorage.key(t);(null==n?void 0:n.substr(0,9))==o&&window.localStorage.removeItem(n)}}catch(e){}},e.prototype.getStoreCount=function(){var e=0;try{e=window.localStorage.length}catch(e){}return e},e}(),W="logid_start",G="4.5.30-web",J=function(n){function r(e){var t=n.call(this,e)||this;if(t.qimei36="",t.uselessCycleTaskNum=0,t.underWeakNet=!1,t.pauseSearching=!1,t.lsEnable=!0,t.throttleTimer=null,t.throttleBuffer=[],t.send=function(e,n,r){t.storage.setItem(a,Date.now().toString()),t.network.post(t.uploadUrl||t.strategy.getUploadUrl(),e.data).then((function(r){var o;t.delayTime=100==(null===(o=null==r?void 0:r.data)||void 0===o?void 0:o.result)?1e3*r.data.delayTime:0,n&&n(e.data);var i=e.data.events;t.store.removeEventList(i).then((function(){i.forEach((function(e){return t.removeSendingId(h(e.mapValue))}))})).catch((function(e){})),t.doCustomCycleTask()})).catch((function(n){var o=e.data.events;t.errorReport.reportError(n.code?n.code.toString():"600",n.message),r&&r(e.data);var i=JSON.parse(t.storage.getItem(s));o.forEach((function(e){i&&-1!=i.indexOf(h(e))&&t.store.insertEvent(e,(function(e,n){e&&t.errorReport.reportError("604","insertEvent fail!")})),t.removeSendingId(h(e))})),t.monitorUploadFailed()}))},!window.localStorage)return t.errorReport.reportError("605","no localStorage!"),t.lsEnable=!1,t;var r,o,i=S();return t.isUnderIE8=i>0&&i<8,t.isUnderIE8||(t.isUnderIE=i>0,e.needInitQimei&&function(e,t){var n;(void 0===n&&(n=Date.now()+"-"+Math.random()),new Promise((function(e,t){if(document.getElementById(n))e(void 0);else{var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.onload=function(){return function(){o.onload=null,e(void 0)}},o.onerror=function(e){o.onerror=null,r.removeChild(o),t(e)},o.src="https://tun-cos-1258344701.file.myqcloud.com/fp.js",o.id=n,r.appendChild(o)}}))).then((function(){(new Fingerprint).getQimei36(e,t)})).catch((function(e){}))}(e.appkey,(function(e){t.qimei36=e.q36})),t.network=new H(e),t.storage=new V(e.appkey),t.initCommonInfo(e),t.store=new T(e.appkey,t.storage),t.errorReport=new g(t.config,t.commonInfo,"web",t.network),t.strategy=new y(null==e.needQueryConfig||e.needQueryConfig,t.config,t.commonInfo,t.storage,t.network),t.logidStartTime=t.storage.getItem(W),t.logidStartTime||(t.logidStartTime=Date.now().toString(),t.storage.setItem(W,t.logidStartTime)),r=t.logidStartTime,o=Date.now()-Number.parseFloat(r),Math.floor(o/864e5)>=365&&t.storage.clear(),t.initSession(e),t.onDirectUserAction("rqd_js_init",{}),setTimeout((function(){return t.lifeCycle.emit("init")}),0),t.storage.setItem(s,"[]"),t.initDelayTime=e.delay?e.delay:1e3,t.cycleTask(t.initDelayTime)),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(r,n),r.prototype.initSession=function(e){var t=18e5;e.sessionDuration&&e.sessionDuration>3e4&&(t=e.sessionDuration),this.beaconSession=new w(this.storage,t,this)},r.prototype.initCommonInfo=function(e){var t=Number(this.storage.getItem(a));try{var n=JSON.parse(this.storage.getItem(s));(Date.now()-t>3e4||!n)&&this.storage.setItem(s,JSON.stringify([]))}catch(e){}e.uploadUrl&&(this.uploadUrl=e.uploadUrl+"?appkey="+e.appkey);var r=[window.screen.width,window.screen.height];window.devicePixelRatio&&r.push(window.devicePixelRatio),this.commonInfo={deviceId:this.storage.createDeviceId(),language:navigator&&navigator.language||"zh_CN",query:window.location.search,userAgent:navigator.userAgent,pixel:r.join("*"),channelID:e.channelID?String(e.channelID):"",openid:e.openid?String(e.openid):"",unid:e.unionid?String(e.unionid):"",sdkVersion:G},this.config.appVersion=e.versionCode?String(e.versionCode):"",this.config.strictMode=e.strictMode},r.prototype.cycleTask=function(e){var t=this;this.intervalID=window.setInterval((function(){t.pauseSearching||t.store.getEvents().then((function(e){0==e.length&&(t.pauseSearching=!0);var n=[],r=JSON.parse(t.storage.getItem(s));r||(r=[]),e&&e.forEach((function(e){var t=h(e.mapValue);-1==r.indexOf(t)&&(n.push(e),r.push(t))})),r.length>1e3&&(r=[]),0!=n.length&&(t.storage.setItem(s,JSON.stringify(r)),t._normalLogPipeline(t.assembleData(n)))})).catch((function(e){}))}),e)},r.prototype.thottleReport=function(e){var t,n=this;if((t=this.throttleBuffer).push.apply(t,e),this.throttleBuffer.length>=500){var r=this.throttleBuffer.slice(0);this.throttleBuffer.length=0,this._normalLogPipeline(this.assembleData(r))}else{if(this.throttleTimer)return;this.throttleTimer=setTimeout((function(){var e=n.throttleBuffer.slice(0);n.throttleBuffer.length=0,n._normalLogPipeline(n.assembleData(e)),n.throttleTimer=null}),1e3)}},r.prototype.onReport=function(e,t,n){var r=this;if(this.lsEnable)if(this.isUnderIE8)this.errorReport.reportError("601","UnderIE8");else{this.pauseSearching=!1;var o=this.generateData(e,t,n);if(n&&0==this.delayTime&&!this.underWeakNet)this._normalLogPipeline(this.assembleData(o));else{var i=o.shift();i&&this.store.insertEvent(i,(function(e){e&&r.errorReport.reportError("604","insertEvent fail!")})).catch((function(e){r.thottleReport([i])}))}}},r.prototype.onSendBeacon=function(e,t){if(this.lsEnable)if(this.isUnderIE)this.errorReport.reportError("605","UnderIE");else{this.pauseSearching=!1;var n=this.assembleData(this.generateData(e,t,!0));"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.uploadUrl||this.strategy.getUploadUrl(),JSON.stringify(n))}},r.prototype.generateData=function(e,n,r){var o=[],i=G+"_"+(r?"direct_log_id":"normal_log_id"),a=Number(this.storage.getItem(i));return a=a||1,n=t(t({},n),{A99:r?"Y":"N",A100:a.toString(),A72:G,A88:this.logidStartTime}),a++,this.storage.setItem(i,a.toString()),o.push({eventCode:e,eventTime:Date.now().toString(),mapValue:p(n,this.config.strictMode)}),o},r.prototype.assembleData=function(e){var n=this.beaconSession.getSession();return{appVersion:this.config.appVersion?d(this.config.appVersion):"",sdkId:"js",sdkVersion:G,mainAppKey:this.config.appkey,platformId:3,common:p(t(t({},this.additionalParams),{A2:this.commonInfo.deviceId,A8:this.commonInfo.openid,A12:this.commonInfo.language,A17:this.commonInfo.pixel,A23:this.commonInfo.channelID,A50:this.commonInfo.unid,A76:n.sessionId,A101:this.commonInfo.userAgent,A102:window.location.href,A104:document.referrer,A119:this.commonInfo.query,A153:this.qimei36}),!1),events:e}},r.prototype.monitorUploadFailed=function(){this.uselessCycleTaskNum++,this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(6e4),this.underWeakNet=!0)},r.prototype.doCustomCycleTask=function(){this.uselessCycleTaskNum>=5&&(window.clearInterval(this.intervalID),this.cycleTask(this.initDelayTime)),this.uselessCycleTaskNum=0,this.underWeakNet=!1},r.prototype.setQimei=function(e){this.qimei36=e},r}(m);return J}();var jn=Pn.exports,Nn={exports:{}};!function(e){function t(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,u,"next",e)}function u(e){t(a,o,i,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(Nn);var Dn=r(Nn.exports),Ln={exports:{}};!function(e){var t=i.exports;e.exports=function(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(Ln);var qn=r(Ln.exports),Mn={exports:{}};!function(e){var t=a.exports.default;function n(){e.exports=n=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var r,o={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(r){p=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=Object.create((t&&t.prototype instanceof w?t:w).prototype),i=new j(r||[]);return s(o,"_invoke",{value:A(e,n,i)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}o.wrap=d;var v="suspendedStart",m="suspendedYield",g="executing",y="completed",b={};function w(){}function S(){}function E(){}var x={};p(x,c,(function(){return this}));var O=Object.getPrototypeOf,k=O&&O(O(N([])));k&&k!==i&&a.call(k,c)&&(x=k);var I=E.prototype=w.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,n){function r(o,i,s,u){var c=h(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==t(f)&&a.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):n.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var o;s(this,"_invoke",{value:function(e,t){function i(){return new n((function(n,o){r(e,t,n,o)}))}return o=o?o.then(i,i):i()}})}function A(e,t,n){var o=v;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:r,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=R(s,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===v)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=h(e,t,n);if("normal"===c.type){if(o=n.done?y:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=y,n.method="throw",n.arg=c.arg)}}}function R(e,t){var n=t.method,o=e.iterator[n];if(o===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=r,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=h(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,b;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,b):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(a.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}throw new TypeError(t(e)+" is not iterable")}return S.prototype=E,s(I,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:S,configurable:!0}),S.displayName=p(E,f,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,p(e,f,"GeneratorFunction")),e.prototype=Object.create(I),e},o.awrap=function(e){return{__await:e}},_(T.prototype),p(T.prototype,l,(function(){return this})),o.AsyncIterator=T,o.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var a=new T(d(e,t,n,r),i);return o.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(I),p(I,f,"Generator"),p(I,c,(function(){return this})),p(I,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},o.values=N,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),b}},o}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Mn);var Un=function(e){function t(){var t=this||self;return delete e.prototype.__magic__,t}return"object"==typeof globalThis?globalThis:this?t():(e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t}),__magic__)}(Object),Bn=Mn.exports(),Fn=Bn;try{regeneratorRuntime=Bn}catch(e){"object"===(void 0===Un?"undefined":S(Un))?Un.regeneratorRuntime=Bn:Function("r","regeneratorRuntime = r")(Bn)}var Hn=function(){function e(e){this.config=e}return e.canUseDB=function(){return"undefined"!=typeof indexedDB},e.prototype.openDB=function(){var t=this;return new Promise((function(n,r){if(!e.canUseDB())return r({message:"当前不支持 indexeddb"});var o=t.config,i=o.stores,a=indexedDB.open(o.name,o.version);a.onsuccess=function(){t.db=a.result,n()},a.onerror=function(e){r(e)},a.onupgradeneeded=function(){t.db=a.result;try{null==i||i.forEach((function(e){t.createStore(e)}))}catch(e){r(e)}}}))},e.prototype.useStore=function(e){return this.storeName=e,this},e.prototype.deleteDB=function(){var e=this;return this.closeDB(),new Promise((function(t,n){var r=indexedDB.deleteDatabase(e.config.name);r.onsuccess=function(){return t()},r.onerror=n}))},e.prototype.closeDB=function(){var e;null===(e=this.db)||void 0===e||e.close(),this.db=null},e.prototype.getStoreCount=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readonly").count();r.onsuccess=function(){return t(r.result)},r.onerror=n}))},e.prototype.clearStore=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readwrite").clear();r.onsuccess=function(){return t()},r.onerror=n}))},e.prototype.add=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").add(e,t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.put=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").put(e,t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.get=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore().index(e).get(t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.remove=function(e,t){var n=this;return new Promise((function(r,o){var i=n.getStore("readwrite").index(e).objectStore.delete(t);i.onsuccess=function(){r(i.result)},i.onerror=o}))},e.prototype.getStoreAllData=function(){var e=this;return new Promise((function(t,n){var r=e.getStore("readonly").openCursor(),o=[];r.onsuccess=function(){var e;(null===(e=r.result)||void 0===e?void 0:e.value)?(o.push(r.result.value),r.result.continue()):t(o)},r.onerror=n}))},e.prototype.getDataRangeByIndex=function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=i.getStore().index(e),c=IDBKeyRange.bound(t,n,r,o),l=[],f=u.openCursor(c);f.onsuccess=function(){var e;(null===(e=null==f?void 0:f.result)||void 0===e?void 0:e.value)?(l.push(null==f?void 0:f.result.value),null==f||f.result.continue()):a(l)},f.onerror=s}))},e.prototype.removeDataByIndex=function(e,t,n,r,o){var i=this;return new Promise((function(a,s){var u=i.getStore("readwrite").index(e),c=IDBKeyRange.bound(t,n,r,o),l=u.openCursor(c),f=0;l.onsuccess=function(e){var t=e.target.result;t?(f+=1,t.delete(),t.continue()):a(f)},l.onerror=s}))},e.prototype.createStore=function(e){var t=e.name,n=e.indexes,r=void 0===n?[]:n,o=e.options;if(this.db){this.db.objectStoreNames.contains(t)&&this.db.deleteObjectStore(t);var i=this.db.createObjectStore(t,o);r.forEach((function(e){i.createIndex(e.indexName,e.keyPath,e.options)}))}},e.prototype.getStore=function(e){var t;return void 0===e&&(e="readonly"),null===(t=this.db)||void 0===t?void 0:t.transaction(this.storeName,e).objectStore(this.storeName)},e}(),Vn="configKey",Wn="config_table",Gn="remoteConfig",Jn=l((function e(t){var n=this,r=t.appkey;p(this,e),this.taskQueue=Promise.resolve(),this.hasInit=!1,this.init=Dn(Fn.mark((function e(){return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.db){e.next=2;break}return e.abrupt("return");case 2:return n.db=new Hn({name:"AutoTracker_".concat(n.appkey,"_V4"),version:1,stores:[{name:Wn,options:{keyPath:Vn,autoIncrement:!1},indexes:[{indexName:Vn,keyPath:Vn}]}]}),e.next=5,n.asyncOperator(Dn(Fn.mark((function e(){return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.db.openDB();case 2:n.db.useStore(Wn);case 3:case"end":return e.stop()}}),e)}))));case 5:n.hasInit=!0;case 6:case"end":return e.stop()}}),e)}))),this.getItem=Dn(Fn.mark((function e(){var t;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.init();case 3:return e.next=5,n.asyncOperator(Dn(Fn.mark((function e(){return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.db.get(Vn,Gn);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 5:if(!((null==(t=e.sent)?void 0:t.expireTime)>(new Date).getTime())){e.next=8;break}return e.abrupt("return",t.configData);case 8:return e.abrupt("return",null);case 11:e.prev=11,e.t0=e.catch(0),At.tamReport.reportError("cache getItem error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),this.setItem=function(){var e=Dn(Fn.mark((function e(t){return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.init();case 3:return e.next=5,n.asyncOperator(Dn(Fn.mark((function e(){return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.db.put({configKey:Gn,configData:t,expireTime:(new Date).getTime()+3e5});case 2:case"end":return e.stop()}}),e)}))));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),At.tamReport.reportError("cache setItem error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.asyncOperator=function(){var e=Dn(Fn.mark((function e(t){var r;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.hasInit){e.next=4;break}return e.next=3,t();case 3:return e.abrupt("return",e.sent);case 4:return n.taskQueue=n.taskQueue.then(Dn(Fn.mark((function e(){return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",r=e.sent);case 3:case"end":return e.stop()}}),e)})))),e.next=7,n.taskQueue;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var o=e;o[r]||(this.appkey=r,o[r]=this)})),Kn={exports:{}},Qn={exports:{}};!function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports}(Qn),function(e){var t=Qn.exports;e.exports=function(e,n){if(null==e)return{};var r,o,i=t(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n.includes(r=a[o])||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i},e.exports.__esModule=!0,e.exports.default=e.exports}(Kn);var $n=r(Kn.exports),zn={exports:{}},Xn={exports:{}};!function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}(Xn);var Yn={exports:{}};!function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports}(Yn);var Zn={exports:{}},er={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}(er),function(e){var t=er.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(Zn);var tr={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(tr),function(e){var t=Xn.exports,n=Yn.exports,r=Zn.exports,o=tr.exports;e.exports=function(e,i){return t(e)||n(e,i)||r(e,i)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(zn);var nr=r(zn.exports);function rr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ir="function",ar="undefined",sr="object",ur="string",cr="model",lr="name",fr="type",pr="vendor",dr="version",hr="console",vr="mobile",mr="tablet",gr="smarttv",yr="wearable",br="Amazon",wr="Apple",Sr="ASUS",Er="BlackBerry",xr="Browser",Or="Chrome",kr="Firefox",Ir="Google",_r="Huawei",Tr="LG",Ar="Microsoft",Rr="Motorola",Cr="Opera",Pr="Samsung",jr="Sony",Nr="Xiaomi",Dr="Zebra",Lr="Facebook",qr=function(e){return e.toLowerCase()},Mr=function(e,t){return s(e)===ur&&-1!==qr(t).indexOf(qr(e))},Ur=function(e,t){if(s(e)===ur){var n=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");return s(t)===ar?n:n.substring(0,350)}},Br=function(e){var t=e.match,n=e.q,r=e.self;if(s(n)===sr&&n.length>0)if(2===n.length){var o=nr(n,2),i=o[0],a=o[1];s(a)===ir?r[n[0]]=a.call(r,t):r[i]=a}else 3===n.length?r[n[0]]=s(n[1])!==ir||n[1].exec&&n[1].test?t?t.replace(n[1],n[2]):void 0:t?n[1].call(r,t,n[2]):void 0:4===n.length&&(r[n[0]]=t?n[3].call(r,t.replace(n[1],n[2])):void 0);else r[n]=t||void 0},Fr=function(e,t){var n,r,o,i,a=0;try{for(;a<t.length&&!i;){var s=t[a],u=t[a+1];for(n=0,r=0;n<s.length&&!i;)if(i=s[n].exec(e),n+=1,i)for(o=0;o<u.length;o++)Br({self:this,match:i[r+=1],q:u[o]});a+=2}}catch(e){}},Hr=function(e,t){var n=Array.isArray(t)?t:Object.keys(t);try{var r,o=rr(n);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=t[i];if(s(a)===sr&&a.length>0){var u,c=rr(a);try{for(c.s();!(u=c.n()).done;)if(Mr(u.value,e))return"?"===i?void 0:i}catch(e){c.e(e)}finally{c.f()}}else if(Mr(a,e))return"?"===i?void 0:i}}catch(e){o.e(e)}finally{o.f()}}catch(e){}return e},Vr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Wr={browser:[[/\b(?:crmo|crios)\/([\w.]+)/i],[dr,[lr,"Chrome"]],[/edg(?:e|ios|a)?\/([\w.]+)/i],[dr,[lr,"Edge"]],[/(opera mini)\/([-\w.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w.]+)/i,/(opera)(?:.+version\/|[/ ]+)([\w.]+)/i],[lr,dr],[/opios[/ ]+([\w.]+)/i],[dr,[lr,"".concat(Cr," Mini")]],[/\bopr\/([\w.]+)/i],[dr,[lr,Cr]],[/(kindle)\/([\w.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[/ ]?([\w.]*)/i,/(avant |iemobile|slim)(?:browser)?[/ ]?([\w.]*)/i,/(ba?idubrowser)[/ ]?([\w.]+)/i,/(?:ms|\()(ie) ([\w.]+)/i,/(phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w.]+)/i,/(weibo)__([\d.]+)/i],[lr,dr],[/(?:\buc? ?browser|(?:juc.+)ucweb)[/ ]?([\w.]+)/i],[dr,[lr,"UC".concat(xr)]],[/microm.+\bqbcore\/([\w.]+)/i,/\bqbcore\/([\w.]+).+microm/i],[dr,[lr,"WeChat(Win) Desktop"]],[/micromessenger\/([\w.]+)/i],[dr,[lr,"WeChat"]],[/konqueror\/([\w.]+)/i],[dr,[lr,"Konqueror"]],[/trident.+rv[: ]([\w.]{1,9})\b.+like gecko/i],[dr,[lr,"IE"]],[/yabrowser\/([\w.]+)/i],[dr,[lr,"Yandex"]],[/(avast|avg)\/([\w.]+)/i],[[lr,/(.+)/,"$1 Secure ".concat(xr)],dr],[/\bfocus\/([\w.]+)/i],[dr,[lr,"".concat(kr," Focus")]],[/\bopt\/([\w.]+)/i],[dr,[lr,"".concat(Cr," Touch")]],[/coc_coc\w+\/([\w.]+)/i],[dr,[lr,"Coc Coc"]],[/dolfin\/([\w.]+)/i],[dr,[lr,"Dolphin"]],[/coast\/([\w.]+)/i],[dr,[lr,"".concat(Cr," Coast")]],[/miuibrowser\/([\w.]+)/i],[dr,[lr,"MIUI ".concat(xr)]],[/fxios\/([-\w.]+)/i],[dr,[lr,kr]],[/\bqihu|(qi?ho?o?|360)browser/i],[[lr,"360 ".concat(xr)]],[/(oculus|samsung|sailfish|huawei)browser\/([\w.]+)/i],[[lr,/(.+)/,"$1 ".concat(xr)],dr],[/(comodo_dragon)\/([\w.]+)/i],[[lr,/_/g," "],dr],[/(electron)\/([\w.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[/ ]?([\w.]+)/i],[lr,dr],[/(metasr)[/ ]?([\w.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[lr],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w.]+);)/i],[[lr,Lr],dr],[/safari (line)\/([\w.]+)/i,/\b(line)\/([\w.]+)\/iab/i,/(chromium|instagram)[/ ]([-\w.]+)/i],[lr,dr],[/\bgsa\/([\w.]+) .*safari\//i],[dr,[lr,"GSA"]],[/headlesschrome(?:\/([\w.]+)| )/i],[dr,[lr,"".concat(Or," Headless")]],[/ wv\).+(chrome)\/([\w.]+)/i],[[lr,"".concat(Or," WebView")],dr],[/droid.+ version\/([\w.]+)\b.+(?:mobile safari|safari)/i],[dr,[lr,"Android ".concat(xr)]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w.]+)/i],[lr,dr],[/version\/([\w.]+) .*mobile\/\w+ (safari)/i],[dr,[lr,"Mobile Safari"]],[/version\/([\w.]+) .*(mobile ?safari|safari)/i],[dr,lr],[/webkit.+?(mobile ?safari|safari)(\/[\w.]+)/i],[lr,[dr,Hr,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w.]+)/i],[lr,dr],[/(navigator|netscape\d?)\/([-\w.]+)/i],[[lr,"Netscape"],dr],[/mobile vr; rv:([\w.]+)\).+firefox/i],[dr,[lr,"".concat(kr," Reality")]],[/ekiohf.+(flow)\/([\w.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[/ ]?([\w.+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w.]+)$/i,/(firefox)\/([\w.]+)/i,/(mozilla)\/([\w.]+) .+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[. ]?browser)[-/ ]?v?([\w.]+)/i,/(links) \(([\w.]+)/i],[lr,dr]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[cr,[pr,Pr],[fr,mr]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[cr,[pr,Pr],[fr,vr]],[/\((ip(?:hone|od)[\w ]*);/i],[cr,[pr,wr],[fr,vr]],[/\((ipad);[-\w),; ]+apple/i,/applecoremedia\/[\w.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[cr,[pr,wr],[fr,mr]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[cr,[pr,_r],[fr,mr]],[/(?:huawei|honor)([-\w ]+)[;)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[cr,[pr,_r],[fr,vr]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[cr,/_/g," "],[pr,Nr],[fr,vr]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[cr,/_/g," "],[pr,Nr],[fr,mr]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[cr,[pr,"OPPO"],[fr,vr]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[cr,[pr,"Vivo"],[fr,vr]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[cr,[pr,"Realme"],[fr,vr]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w() ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[cr,[pr,Rr],[fr,vr]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[cr,[pr,Rr],[fr,mr]],[/((?=lg)?[vl]k-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[cr,[pr,Tr],[fr,mr]],[/(lm(?:-?f100[nv]?|-[\w.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[cr,[pr,Tr],[fr,vr]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[cr,[pr,"Lenovo"],[fr,mr]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w.]*)/i],[[cr,/_/g," "],[pr,"Nokia"],[fr,vr]],[/(pixel c)\b/i],[cr,[pr,Ir],[fr,mr]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[cr,[pr,Ir],[fr,vr]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[cr,[pr,jr],[fr,vr]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[cr,"Xperia Tablet"],[pr,jr],[fr,mr]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[cr,[pr,"OnePlus"],[fr,vr]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[cr,[pr,br],[fr,mr]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[cr,/(.+)/g,"Fire Phone $1"],[pr,br],[fr,vr]],[/(playbook);[-\w),; ]+(rim)/i],[cr,pr,[fr,mr]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[cr,[pr,Er],[fr,vr]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[cr,[pr,Sr],[fr,mr]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[cr,[pr,Sr],[fr,vr]],[/(nexus 9)/i],[cr,[pr,"HTC"],[fr,mr]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[pr,[cr,/_/g," "],[fr,vr]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[cr,[pr,"Acer"],[fr,mr]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[cr,[pr,"Meizu"],[fr,vr]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[cr,[pr,"Sharp"],[fr,vr]],[/(blackberry|benq|palm(?=-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[pr,cr,[fr,vr]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[pr,cr,[fr,mr]],[/(surface duo)/i],[cr,[pr,Ar],[fr,mr]],[/droid [\d.]+; (fp\du?)(?: b|\))/i],[cr,[pr,"Fairphone"],[fr,vr]],[/(u304aa)/i],[cr,[pr,"AT&T"],[fr,vr]],[/\bsie-(\w*)/i],[cr,[pr,"Siemens"],[fr,vr]],[/\b(rct\w+) b/i],[cr,[pr,"RCA"],[fr,mr]],[/\b(venue[\d ]{2,7}) b/i],[cr,[pr,"Dell"],[fr,mr]],[/\b(q(?:mv|ta)\w+) b/i],[cr,[pr,"Verizon"],[fr,mr]],[/\b(?:barnes[& ]+noble |bn[rt])([\w+ ]*) b/i],[cr,[pr,"Barnes & Noble"],[fr,mr]],[/\b(tm\d{3}\w+) b/i],[cr,[pr,"NuVision"],[fr,mr]],[/\b(k88) b/i],[cr,[pr,"ZTE"],[fr,mr]],[/\b(nx\d{3}j) b/i],[cr,[pr,"ZTE"],[fr,vr]],[/\b(gen\d{3}) b.+49h/i],[cr,[pr,"Swiss"],[fr,vr]],[/\b(zur\d{3}) b/i],[cr,[pr,"Swiss"],[fr,mr]],[/\b((zeki)?tb.*\b) b/i],[cr,[pr,"Zeki"],[fr,mr]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[pr,"Dragon Touch"],cr,[fr,mr]],[/\b(ns-?\w{0,9}) b/i],[cr,[pr,"Insignia"],[fr,mr]],[/\b((nxa|next)-?\w{0,9}) b/i],[cr,[pr,"NextBook"],[fr,mr]],[/\b(xtreme_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[pr,"Voice"],cr,[fr,vr]],[/\b(lvtel-)?(v1[12]) b/i],[[pr,"LvTel"],cr,[fr,vr]],[/\b(ph-1) /i],[cr,[pr,"Essential"],[fr,vr]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[cr,[pr,"Envizen"],[fr,mr]],[/\b(trio[-\w. ]+) b/i],[cr,[pr,"MachSpeed"],[fr,mr]],[/\btu_(1491) b/i],[cr,[pr,"Rotor"],[fr,mr]],[/(shield[\w ]+) b/i],[cr,[pr,"Nvidia"],[fr,mr]],[/(sprint) (\w+)/i],[pr,cr,[fr,vr]],[/(kin\.[onetw]{3})/i],[[cr,/\./g," "],[pr,Ar],[fr,vr]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[cr,[pr,Dr],[fr,mr]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[cr,[pr,Dr],[fr,vr]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[pr,cr,[fr,hr]],[/droid.+; (shield) bui/i],[cr,[pr,"Nvidia"],[fr,hr]],[/(playstation [345portablevi]+)/i],[cr,[pr,jr],[fr,hr]],[/\b(xbox(?: one)?(?!; xbox))[); ]/i],[cr,[pr,Ar],[fr,hr]],[/smart-tv.+(samsung)/i],[pr,[fr,gr]],[/hbbtv.+maple;(\d+)/i],[[cr,/^/,"SmartTV"],[pr,Pr],[fr,gr]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[pr,Tr],[fr,gr]],[/(apple) ?tv/i],[pr,[cr,"".concat(wr," TV")],[fr,gr]],[/crkey/i],[[cr,"".concat(Or,"cast")],[pr,Ir],[fr,gr]],[/droid.+aft(\w)( bui|\))/i],[cr,[pr,br],[fr,gr]],[/\(dtv[);].+(aquos)/i],[cr,[pr,"Sharp"],[fr,gr]],[/(bravia[\w- ]+) bui/i],[cr,[pr,jr],[fr,gr]],[/(mitv-\w{5}) bui/i],[cr,[pr,Nr],[fr,gr]],[/\b(roku)[\dx]*[)/]((?:dvp-)?[\d.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[pr,Ur],[cr,Ur],[fr,gr]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[fr,gr]],[/((pebble))app/i],[pr,cr,[fr,yr]],[/droid.+; (glass) \d/i],[cr,[pr,Ir],[fr,yr]],[/droid.+; (wt63?0{2,3})\)/i],[cr,[pr,Dr],[fr,yr]],[/(quest( 2)?)/i],[cr,[pr,Lr],[fr,yr]],[/(tesla)(?: qtcarbrowser|\/[-\w.]+)/i],[pr,[fr,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[cr,[fr,vr]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[cr,[fr,mr]],[/\b((tablet|tab)[;/]|focus\/\d(?!.+mobile))/i],[[fr,mr]],[/(phone|mobile(?:[;/]| [ \w/.]*safari)|pda(?=.+windows ce))/i],[[fr,vr]],[/(android[-\w. ]{0,9});.+buil/i],[cr,[pr,"Generic"]]],engine:[[/windows.+ edge\/([\w.]+)/i],[dr,[lr,"".concat("Edge","HTML")]],[/webkit\/537\.36.+chrome\/(?!27)([\w.]+)/i],[dr,[lr,"Blink"]],[/(presto)\/([\w.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w.]+)/i,/ekioh(flow)\/([\w.]+)/i,/(khtml|tasman|links)[/ ]\(?([\w.]+)/i,/(icab)[/ ]([23]\.[\d.]+)/i],[lr,dr],[/rv:([\w.]{1,9})\b.+(gecko)/i],[dr,lr]],os:[[/microsoft (windows) (vista|xp)/i],[lr,dr],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[/ ]?([\d.\w ]*)/i,/(windows)[/ ]?([ntce\d. ]+\w)(?!.+xbox)/i],[lr,[dr,Hr,Vr]],[/(win(?=3|9|n)|win 9x )([nt\d.]+)/i],[[lr,"Windows"],[dr,Hr,Vr]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[dr,/_/g,"."],[lr,"iOS"]],[/(mac os x) ?([\w. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[lr,"Mac OS"],[dr,/_/g,"."]],[/droid ([\w.]+)\b.+(android[- ]x86|harmonyos)/i],[dr,lr],[/(android|webos)[-/ ]?([\w.]*)/i,/(blackberry)\w*\/([\w.]*)/i,/(tizen|kaios)[/ ]([\w.]+)/i,/\((series40);/i],[lr,dr],[/\(bb(10);/i],[dr,[lr,Er]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-/ ]?([\w.]*)/i],[dr,[lr,"Symbian"]],[/mozilla\/[\d.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w.]+)/i],[dr,[lr,"".concat(kr," OS")]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w.]+)/i],[dr,[lr,"webOS"]],[/crkey\/([\d.]+)/i],[dr,[lr,"".concat(Or,"cast")]],[/(cros) [\w]+ ([\w.]+\w)/i],[[lr,"Chromium OS"],dr],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w.]*)/i,/(mint)[/() ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|centos|pclinuxos|red ?hat|deepin)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-/ ]?(?!chrom|package)([-\w.]*)/i,/(hurd|linux) ?([\w.]*)/i,/(gnu) ?([\w.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[/ ]?(?!amd|[ix346]{1,2}86)([\w.]*)/i,/(haiku) (\w+)/i],[lr,dr],[/(sunos) ?([\w.\d]*)/i],[[lr,"Solaris"],dr],[/((?:open)?solaris)[-/ ]?([\w.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w.]*)/i],[lr,dr]],spider:[[/Bytespider/],[[lr,"Bytespider"]],[/YisouSpider/],[[lr,"YisouSpider"]],[/Baiduspider/],[[lr,"Baiduspider"]],[/360Spider/],[[lr,"360Spider"]],[/bingbot/],[[lr,"bingbot"]],[/Sogou web spider/],[[lr,"Sogou web spider"]],[/Sosospider/],[[lr,"Sosospider"]],[/AdsBot/],[[lr,"AdsBot"]],[/AhrefsBot/],[[lr,"AhrefsBot"]],[/BitSightBot/],[[lr,"BitSightBot"]],[/bingbot/],[[lr,"bingbot"]],[/BLEXBot/],[[lr,"BLEXBot"]],[/DotBot/],[[lr,"DotBot"]],[/DataForSeoBot/],[[lr,"DataForSeoBot"]],[/Exabot/],[[lr,"Exabot"]],[/Googlebot/],[[lr,"Googlebot"]],[/MJ12bot/],[[lr,"MJ12bot"]],[/SiteScoreBot/],[[lr,"SiteScoreBot"]],[/PetalBot/],[[lr,"PetalBot"]],[/serpstatbot/],[[lr,"serpstatbot"]],[/SeekportBot/],[[lr,"SeekportBot"]],[/SemrushBot/],[[lr,"SemrushBot"]],[/WellKnownBot/],[[lr,"WellKnownBot"]],[/webprosbot/],[[lr,"webprosbot"]],[/YandexBot/],[[lr,"YandexBot"]],[/YandexAccessibilityBot/],[[lr,"YandexAccessibilityBot"]],[/Barkrowler/],[[lr,"Barkrowler"]],[/Lighthouse/],[[lr,"Lighthouse"]],[/Yeti/],[[lr,"Yeti/Naverbot"]],[/woorank/],[[lr,"woorank"]],[/Scrapy/],[[lr,"Scrapy"]],[/PagePeeker/],[[lr,"PagePeeker"]],[/QIHU 360SE\/Nutch/],[[lr,"QIHU 360SE/Nutch"]],[/PTST/],[[lr,"PTST"]],[/BingPreview/],[[lr,"BingPreview"]],[/([\w.\d]*(spider|Spider))/],[[lr,"unknown"]],[/([\w.\d]*(Bot|bot))/],[[lr,"unknown"]],[/HeadlessChrome/],[[lr,"unknown"]],[/(https:\/\/.*)/],[[lr,"unknown"]]]},Gr=function(e){var t=e;s(e)===sr&&(t=void 0);var n=this;t=t||(("undefined"==typeof window?"undefined":s(window))!==ar&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"");var r=Wr;n.getBrowser=function(){var e={};return e[lr]=void 0,e[dr]=void 0,Fr.call(e,t,r.browser),e.major=function(e){return s(e)===ur?e.replace(/[^\d.]/g,"").split(".")[0]:void 0}(e.version),e},n.getDevice=function(){var e={};return e[pr]=void 0,e[cr]=void 0,e[fr]=void 0,Fr.call(e,t,r.device),e},n.getEngine=function(){var e={};return e[lr]=void 0,e[dr]=void 0,Fr.call(e,t,r.engine),e},n.getOS=function(){var e={};return e[lr]=void 0,e[dr]=void 0,Fr.call(e,t,r.os),e},n.getOSAsync=Dn(Fn.mark((function e(){var n,o,i;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n={})[lr]=void 0,n[dr]=void 0,Fr.call(n,t,r.os),!navigator){e.next=19;break}return o=null,e.prev=6,e.next=9,navigator.userAgentData.getHighEntropyValues(["platformVersion"]);case 9:o=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6);case 15:if(o){e.next=17;break}return e.abrupt("return",n);case 17:"Windows"===n.name&&((i=parseInt(o.platformVersion.split(".")[0]))>=13?n.version="11":i>0&&i<13&&(n.version="10")),"Mac OS"===n.name&&(n.version=o.platformVersion);case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[6,12]])}))),n.getSpider=function(){var e={};return e[lr]=void 0,Fr.call(e,t,r.spider),e},n.getUA=function(){return t},n.setUA=function(e){return t=s(e)===ur&&e.length>350?Ur(e,350):e,n},n.setUA(t),n.getResult=function(){return{ua:n.getUA(),browser:n.getBrowser(),engine:n.getEngine(),os:n.getOS(),device:n.getDevice(),spider:n.getSpider()}},n.getResultAsync=Dn(Fn.mark((function e(){return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.getUA(),e.t1=n.getBrowser(),e.t2=n.getEngine(),e.next=5,n.getOSAsync();case 5:return e.t3=e.sent,e.t4=n.getDevice(),e.t5=n.getSpider(),e.abrupt("return",{ua:e.t0,browser:e.t1,engine:e.t2,os:e.t3,device:e.t4,spider:e.t5});case 9:case"end":return e.stop()}}),e)})))},Jr=function(e){var t=e.browser,n=void 0===t?{}:t,r=e.os,o=void 0===r?{}:r,i=e.engine,a=void 0===i?{}:i,s=e.spider,u=void 0===s?{}:s,c="".concat(o.name||"");o.version&&(c+="(".concat(o.version,")")),c+="-".concat(a.name||"");var l="".concat(n.name||"");return n.version&&(l+="(".concat(n.version,")")),{system:c,browser:l,spider:"".concat(u.name||"")}},Kr=function(){var e=Dn(Fn.mark((function e(){var t,n=arguments;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Gr((n.length>0&&void 0!==n[0]?n[0]:"")||navigator.userAgent),e.next=4,t.getResultAsync();case 4:return e.abrupt("return",Jr(e.sent));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qr={enableReport:function(){return!0},consolelog:!1,commonParams:{},keyUserId:"uid",maxStaytime:18e6,reportInitial:!1,beaconParams:{}},$r=["show_page","stay_page","click","show_area","stay_area","scroll_page","at_imp","at_stay_page","at_click","at_show_area","at_stay_area","at_scroll_page"],zr="dt-inspector",Xr=["detector","heatmap","pageAccess"],Yr=["Router","Click"],Zr=function(){},eo={onUserAction:Zr,onDirectUserAction:Zr,onSendBeacon:Zr,getDeviceId:Zr,addAdditionalParams:Zr,setOpenId:Zr,setChannelId:Zr,setUnionid:Zr},to="4.3.18",no=["reportEventCode","reportMethod","reportParams"];function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var io=At.constant,ao=At.tamReport.reportError,so=io.REPORT_PARAMS_MAP,uo=io.REPORT_EVENT_MAP,co=io.ASYNC_EVENT_SFFIX,lo=At.common.uuidv4,fo=l((function e(t,n){p(this,e),this.reportParams=[],this.commonParams={},this.cacheReadyToReportParams={};var r=t.consolelog,o=t.beforeReport,i=t.reportOnAsyncParamsReady,a=t.reportImmediately,s=t.reportInitial,u=t.keyUserId;this.enableReportValue=(0,t.enableReport)(),this.consolelog=r,this.beforeReport=o,this.reportImmediately=this.getReportImmediately(a,i),this.reportInitial=s,this.getUaInfoLoading=!1,this.beaconInstant=null,this.embededBI=n.embededBI,this.keyUserId=u,this.initReport(t,n.BeaconReportConstructor),a||this.initTimer()}),[{key:"report",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"onDirectUserAction",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.beaconInstant)try{var o=this.getParamsAfterMap(oo(oo({viewportWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,viewportHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0},window.ATInfo.reportRouterinfo||{}),t)),i=this.getEventTypeAfterMap(e),a={reportType:i,reportFuncName:n,reportParam:o,reportTarget:r},s=$r.includes(i);!this.reportImmediately||this.getUaInfoLoading?(this.reportInitial&&this.executeReport(oo(oo({},a),{},{reportType:"".concat(i).concat(s?co:"")})),s&&this.reportParams.push(a)):this.executeReport(a)}catch(e){ao("beaconReport error",e)}}},{key:"addAdditionalParams",value:function(e){var t;Object.prototype.hasOwnProperty.call(e,this.keyUserId)&&(window.ATInfo.uid=e[this.keyUserId]);var n=this.getParamsAfterMap(e);this.commonParams=oo(oo({},this.commonParams),n),null===(t=this.beaconInstant)||void 0===t||t.addAdditionalParams(n)}},{key:"getReportInstance",value:function(){return this.beaconInstant}},{key:"readyToReport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.common,n=void 0===t?{}:t,r=e.events,o=void 0===r?{}:r;if(this.reportImmediately=!0,this.getUaInfoLoading)this.cacheReadyToReportParams={common:n,events:o};else for(this.reportParamsTimer&&window.clearTimeout(this.reportParamsTimer),this.addAdditionalParams(n);this.reportParams.length>0;){var i=this.reportParams.shift();i&&this.executeReport(oo(oo({},i),{},{reportParam:oo(oo({},i.reportParam),o)}))}}},{key:"getReportImmediately",value:function(e,t){return!1!==e&&!0!==t}},{key:"initTimer",value:function(){var e=this;this.reportParamsTimer&&window.clearTimeout(this.reportParamsTimer),this.reportParamsTimer=window.setTimeout((function(){e.reportParams=[],e.initTimer()}),36e5)}},{key:"getParamsAfterMap",value:function(e){var t=this;if(this.embededBI===U.INITIAL)return e;var n={};return Object.entries(e).forEach((function(e){var r,o=nr(e,2),i=o[0],a=o[1],s=null===(r=so[t.embededBI])||void 0===r?void 0:r[i];s?n[s]=a:n[i]=a})),n}},{key:"getEventTypeAfterMap",value:function(e){var t;return this.embededBI===U.INITIAL?e:(null===(t=uo[this.embededBI])||void 0===t?void 0:t[e])||e}},{key:"executeReport",value:function(e){var t,n,r=e.reportType,o=e.reportFuncName,i=e.reportParam,a=e.reportTarget,s=i,u=r,c=o;if(this.beforeReport){var l=this.beforeReport(r,oo(oo({},this.commonParams),i),a,o);if(!l)return;var f=l.reportEventCode,p=l.reportMethod,d=l.reportParams,h=$n(l,no);f&&(u=f),p&&(c=p),s=oo(oo({},d),h)}this.beaconInstant&&this.enableReportValue&&(null===(n=(t=this.beaconInstant)["".concat(c)])||void 0===n||n.call(t,u,s));var v=oo(oo({},this.commonParams),s);this.consolelog,window.CustomEvent&&window.dispatchEvent(new CustomEvent("at-reportlog-add-".concat(this.appkey),{detail:{value:{reportType:u,reportLogData:v}}}))}},{key:"getUaInfoAsyncReady",value:function(){this.getUaInfoLoading=!1,this.reportImmediately&&this.readyToReport(this.cacheReadyToReportParams)}},{key:"initReport",value:function(e,t){var n=this,r=e.appkey,o=e.onReportSuccess,i=e.onReportFail,a=e.commonParams,s=e.useBeaconSDK,u=e.beaconParams;if(this.appkey=r,window.ATInfo.appkey=r,null===this.beaconInstant){if(this.beaconInstant=new t(oo({appkey:r,delay:1e3,onReportSuccess:function(e){null==o||o(e)},onReportFail:function(e){null==i||i(e)}},u)),this.addAdditionalParams(oo({atversion:to,trace_id:lo()},a)),-1!==navigator.userAgent.indexOf("Windows NT 10"))this.getUaInfoLoading=!0,Kr().then((function(e){n.addAdditionalParams({system:e.system,browser:e.browser,spider:e.spider}),n.getUaInfoAsyncReady()})).catch((function(e){ao("getUaInfo error",e),n.getUaInfoAsyncReady()}));else{var c=function(){var e=new Gr((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||navigator.userAgent).getResult();return Jr(e)}();this.addAdditionalParams({system:c.system,browser:c.browser,spider:c.spider})}"function"==typeof s&&s(this.beaconInstant)}}}]),po={exports:{}},ho={exports:{}};!function(e){var t=er.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(ho);var vo={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(vo);var mo={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}(mo),function(e){var t=ho.exports,n=vo.exports,r=Zn.exports,o=mo.exports;e.exports=function(e){return t(e)||n(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports}(po);var go=r(po.exports);function yo(e,t){var n=[];return function(e,t,n){void 0===n&&(n={});var r=n.decode,o=void 0===r?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return!1;for(var i=r[0],a=r.index,s=Object.create(null),u=function(e){if(void 0===r[e])return"continue";var n=t[e-1];s[n.name]="*"===n.modifier||"+"===n.modifier?r[e].split(n.prefix+n.suffix).map((function(e){return o(e,n)})):o(r[e],n)},c=1;c<r.length;c++)u(c);return{path:i,index:a,params:s}}}(Eo(e,n,t),n,t)}function bo(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function wo(e){return e&&e.sensitive?"":"i"}function So(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var r=n.strict,o=void 0!==r&&r,i=n.start,a=void 0===i||i,s=n.end,u=void 0===s||s,c=n.encode,l=void 0===c?function(e){return e}:c,f=n.delimiter,p=void 0===f?"/#?":f,d=n.endsWith,h="[".concat(bo(void 0===d?"":d),"]|$"),v="[".concat(bo(p),"]"),m=a?"^":"",g=0,y=e;g<y.length;g++){var b=y[g];if("string"==typeof b)m+=bo(l(b));else{var w=bo(l(b.prefix)),S=bo(l(b.suffix));if(b.pattern)if(t&&t.push(b),w||S)if("+"===b.modifier||"*"===b.modifier){var E="*"===b.modifier?"?":"";m+="(?:".concat(w,"((?:").concat(b.pattern,")(?:").concat(S).concat(w,"(?:").concat(b.pattern,"))*)").concat(S,")").concat(E)}else m+="(?:".concat(w,"(").concat(b.pattern,")").concat(S,")").concat(b.modifier);else m+="+"===b.modifier||"*"===b.modifier?"((?:".concat(b.pattern,")").concat(b.modifier,")"):"(".concat(b.pattern,")").concat(b.modifier);else m+="(?:".concat(w).concat(S,")").concat(b.modifier)}}if(u)o||(m+="".concat(v,"?")),m+=n.endsWith?"(?=".concat(h,")"):"$";else{var x=e[e.length-1],O="string"==typeof x?v.indexOf(x[x.length-1])>-1:void 0===x;o||(m+="(?:".concat(v,"(?=").concat(h,"))?")),O||(m+="(?=".concat(v,"|").concat(h,")"))}return new RegExp(m,wo(n))}(function(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var o=1,i="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--o){s++;break}}else if("("===e[s]&&(o++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=e[s++]}else i+=e[s++]+e[s++];if(o)throw new TypeError("Unbalanced pattern at ".concat(n));if(!i)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:i}),n=s}else{for(var a="",s=n+1;s<e.length;){var u=e.charCodeAt(s);if(!(u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||95===u))break;a+=e[s++]}if(!a)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:a}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,o=void 0===r?"./":r,i="[^".concat(bo(t.delimiter||"/#?"),"]+?"),a=[],s=0,u=0,c="",l=function(e){if(u<n.length&&n[u].type===e)return n[u++].value},f=function(e){var t=l(e);if(void 0!==t)return t;var r=n[u],o=r.index;throw new TypeError("Unexpected ".concat(r.type," at ").concat(o,", expected ").concat(e))},p=function(){for(var e,t="";e=l("CHAR")||l("ESCAPED_CHAR");)t+=e;return t};u<n.length;){var d=l("CHAR"),h=l("NAME"),v=l("PATTERN");if(h||v)-1===o.indexOf(g=d||"")&&(c+=g,g=""),c&&(a.push(c),c=""),a.push({name:h||s++,prefix:g,suffix:"",pattern:v||i,modifier:l("MODIFIER")||""});else{var m=d||l("ESCAPED_CHAR");if(m)c+=m;else if(c&&(a.push(c),c=""),l("OPEN")){var g=p(),y=l("NAME")||"",b=l("PATTERN")||"",w=p();f("CLOSE"),a.push({name:y||(b?s++:""),pattern:y&&!b?i:b,prefix:g,suffix:w,modifier:l("MODIFIER")||""})}else f("END")}}return a}(e,n),t,n)}function Eo(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,o=n.exec(e.source);o;)t.push({name:o[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),o=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map((function(e){return Eo(e,t,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),wo(n))}(e,t,n):So(e,t,n)}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Oo(e,t){if(e){if("string"==typeof e)return xo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(e,t):void 0}}function ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Oo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e){return function(e){if(Array.isArray(e))return xo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Oo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _o={},To=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))},Ao="%[a-f0-9]{2}",Ro=new RegExp("("+Ao+")|([^%]+?)","gi"),Co=new RegExp("("+Ao+")+","gi");function Po(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;var n=e.slice(0,t=t||1),r=e.slice(t);return Array.prototype.concat.call([],Po(n),Po(r))}function jo(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(Ro)||[],n=1;n<t.length;n++)t=(e=Po(t,n).join("")).match(Ro)||[];return e}}var No=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+S(e)+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=Co.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=jo(n[0]);r!==n[0]&&(t[n[0]]=r)}n=Co.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),i=0;i<o.length;i++){var a=o[i];e=e.replace(new RegExp(a,"g"),t[a])}return e}(e)}},Do=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},Lo=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var a=r[i],s=e[a];(o?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n};function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){var t=To,n=No,r=Do,o=Lo;function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function a(e,n){return n.encode?n.strict?t(e):encodeURIComponent(e):e}function s(e,t){return t.decode?n(e):e}function u(e){return Array.isArray(e)?e.sort():"object"===S(e)?u(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function c(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){var t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),r[e=e.replace(/\[\]$/,"")]=t?void 0!==r[e]?[].concat(r[e],n):[n]:n};case"comma":case"separator":return function(t,n,r){var o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&s(n,e).includes(e.arrayFormatSeparator);n=i?s(n,e):n;var a=o||i?n.split(e.arrayFormatSeparator).map((function(t){return s(t,e)})):null===n?n:s(n,e);r[t]=a};default:return function(e,t,n){n[e]=void 0!==n[e]?[].concat(n[e],t):t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;var a,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e.split("&"));try{for(c.s();!(a=c.n()).done;){var l=a.value;if(""!==l){var p=ko(r(t.decode?l.replace(/\+/g," "):l,"="),2),d=p[0],h=p[1];h=void 0===h?null:["comma","separator"].includes(t.arrayFormat)?h:s(h,t),n(s(d,t),h,o)}}}catch(e){c.e(e)}finally{c.f()}for(var v=0,m=Object.keys(o);v<m.length;v++){var g=m[v],y=o[g];if("object"===S(y)&&null!==y)for(var b=0,w=Object.keys(y);b<w.length;b++){var E=w[b];y[E]=f(y[E],t)}else o[g]=f(y,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return e[t]=Boolean(n)&&"object"===S(n)&&!Array.isArray(n)?u(n):n,e}),Object.create(null))}e.extract=l,e.parse=p,e.stringify=function(e,t){if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n]},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(Io(n),null===r?[[a(t,e),"[",o,"]"].join("")]:[[a(t,e),"[",a(o,e),"]=",a(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(Io(n),null===r?[[a(t,e),"[]"].join("")]:[[a(t,e),"[]=",a(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null==r||0===r.length?n:0===n.length?[[a(t,e),"=",a(r,e)].join("")]:[[n,a(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(Io(n),null===r?[a(t,e)]:[[a(t,e),"=",a(r,e)].join("")])}}}}(t),o={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s];n(c)||(o[c]=e[c])}var l=Object.keys(o);return!1!==t.sort&&l.sort(t.sort),l.map((function(n){var o=e[n];return void 0===o?"":null===o?a(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):a(n,t)+"="+a(o,t)})).filter((function(e){return e.length>0})).join("&")},e.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=ko(r(e,"#"),2),o=n[1];return Object.assign({url:n[0].split("?")[0]||"",query:p(l(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:s(o,t)}:{})},e.stringifyUrl=function(t,n){n=Object.assign({encode:!0,strict:!0},n);var r=c(t.url).split("?")[0]||"",o=e.extract(t.url),i=e.parse(o,{sort:!1}),s=Object.assign(i,t.query),u=e.stringify(s,n);u&&(u="?".concat(u));var l=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(t.url);return t.fragmentIdentifier&&(l="#".concat(a(t.fragmentIdentifier,n))),"".concat(r).concat(u).concat(l)},e.pick=function(t,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=e.parseUrl(t,r),a=i.fragmentIdentifier;return e.stringifyUrl({url:i.url,query:o(i.query,n),fragmentIdentifier:a},r)},e.exclude=function(t,n,r){var o=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return e.pick(t,o,r)}}(_o);var Bo=At.route,Fo=At.common,Ho=At.tamReport.reportError,Vo=At.domElement.getVisibleEventAttr,Wo=Fo.getStayTime,Go=Fo.debounce,Jo=Fo.uuidv4,Ko=Bo.getQueryAndParams,Qo=Bo.getRouteParams,$o=Bo.extendEvent,zo=Bo.splitHashAndQuery,Xo=Bo.isHashRouteChange,Yo=Bo.isQueryChange,Zo=function(){return l((function e(){var t=this;p(this,e),this.matchFns=[],this.pageEnterTime=0,this.pageHiddenTime=0,this.ignoreQuerys=[zr],this.prePathname=location.pathname,this.preHash=location.hash,this.preQuery=location.search,this.reportShowPage=function(e){var n,r=e.pathname,o=e.search,i=e.params,a=void 0===i?{}:i,s=e.routerExtraParams;try{var u=t.prevRouteRef,c=u.hostname,l=void 0===c?"":c,f=u.pathname,p=void 0===f?"":f,d=u.query,h=void 0===d?"":d,v=(new Date).getTime();t.handleStayPage(v);var m="".concat(l,"$$").concat(p,"$$").concat(h);t.pageEnterTime=v;var g=location,y=g.href,b=g.hostname,w=Ko(o,a,s,t.ignoreQuerys),S=w.queryObj,E=w.routerParams,x=void 0===E?{}:E,O=_o.stringify(void 0===S?{}:S),k=Uo(Uo({url:y,pathname:r,query:O&&"?".concat(O),hostname:b},x),{},{pagefrom:m,urlfrom:t.prevRouteRef.url,title:document.title,page_vid:Jo()});t.prevRouteRef=k,window.ATInfo.reportRouterinfo=k,t.dispatchRouterChangeEvent(),t.autoReport&&(null===(n=t.dtReport)||void 0===n||n.call(t,"show_page"))}catch(e){Ho("reportShowPage error",e)}},this.reportRouterChangeData=function(e,n,r){var o,i;t.prePathname=e,t.preHash=n,t.preQuery=r;var a=(null===(o=t.getRouterExtraParams)||void 0===o?void 0:o.call(t,location))||{},s=zo(),u=s.pathname;t.reportShowPage({pathname:u,search:s.search,params:Qo(t.matchFns,null===(i=null==u?void 0:u.split("#"))||void 0===i?void 0:i.pop()),routerExtraParams:a})},this.listenRouterChange=function(){var e=location.pathname,n=location.hash,r=location.search,o=Xo(t.preHash,n),i=Yo(t.preQuery,r);(t.prePathname!==e||o||t.withQueryChange&&i)&&t.reportRouterChangeData(e,n,r)},this.onVisibilityChange=function(){var e=Vo().hidden,n=Date.now();(e?document[e]:null)&&(t.pageHiddenTime+=n-t.pageEnterTime),t.pageEnterTime=n},this.addRouteListener=function(){window.history.pushState=$o("pushState"),window.history.replaceState=$o("replaceState"),window.addEventListener("replaceState",t.listenRouterChangeDebounce,!1),window.addEventListener("pushState",t.listenRouterChangeDebounce,!1),window.addEventListener("popstate",t.listenRouterChangeDebounce,!1),window.addEventListener("hashchange",t.listenRouterChangeDebounce,!1);var e=Vo();document.addEventListener(e.visibilityChange,t.onVisibilityChange,!1)}}),[{key:"setConfig",value:function(e){var t=e.getRouterExtraParams,n=e.ignoreQuerys,r=void 0===n?[]:n,o=e.dynamicRoutes,i=e.withQueryChange;this.withQueryChange=void 0===i||i,t&&(this.getRouterExtraParams=e.getRouterExtraParams),this.ignoreQuerys=[].concat(go(this.ignoreQuerys),go(r)),o&&(this.matchFns=(e.dynamicRoutes||[]).map((function(e){return yo(e,{decode:decodeURIComponent})})))}},{key:"init",value:(e=Dn(Fn.mark((function e(t,n){var r,o,i,a,s,u,c=arguments;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.maxStaytime,o=c.length>2&&void 0!==c[2]&&c[2],this.dtReport=t.dtReport,this.maxStaytime=r,this.listenRouterChangeDebounce=Go(this.listenRouterChange.bind(this),500),i=document.referrer?zo(new URL(document.referrer)):{},a=i.hostname,s=i.pathname,u=i.search,this.prevRouteRef={url:document.referrer,hostname:void 0===a?"":a,pathname:void 0===s?"":s,query:void 0===u?"":u},this.setConfig(n),this.autoReport=!o,this.reportRouterChangeData(location.pathname,location.hash,location.search),this.addRouteListener();case 11:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"remove",value:function(){document.removeEventListener("visibilityChange",this.onVisibilityChange,!1),window.removeEventListener("replaceState",this.listenRouterChangeDebounce,!1),window.removeEventListener("pushState",this.listenRouterChangeDebounce,!1),window.removeEventListener("popstate",this.listenRouterChangeDebounce,!1),window.removeEventListener("hashchange",this.listenRouterChangeDebounce,!1),this.handleStayPage((new Date).getTime(),!0,"onSendBeacon")}},{key:"stop",value:function(){this.autoReport=!1}},{key:"reStart",value:function(){this.autoReport=!0}},{key:"handleStayPage",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;0!==this.pageEnterTime&&(this.autoReport&&(null===(t=this.dtReport)||void 0===t||t.call(this,"stay_page",Uo(Uo({},this.prevRouteRef),{},{staytime:Wo(e-this.pageEnterTime+this.pageHiddenTime,this.maxStaytime),isExit:n}),r)),this.pageHiddenTime=0,this.pageEnterTime=0)}},{key:"dispatchRouterChangeEvent",value:function(){if(window.CustomEvent){var e=new CustomEvent("at-router-change",{detail:{}});window.dispatchEvent(e)}}}]);var e}(),ei=new Zo,ti=["realTarget"];function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oi=Cn.track,ii=oi.trackClickDom,ai=oi.mergeCustomConfig,si=oi.getInitTrackConfig,ui=oi.getEffectiveSelectors,ci=At.domElement,li=ci.getParents,fi=ci.getDataFromAttrKey,pi=At.common.isMobile?"click":"mousedown",di=new(l((function e(){p(this,e)}),[{key:"setConfig",value:function(e){this.clickConfig=ai(this.clickConfig,e),this.handleConfigChangeThis()}},{key:"getConfig",value:function(){return this.clickConfig}},{key:"init",value:function(e,t){var n=e.dtReport,r=e.uselib,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.appkey=e.appkey,this.dtReport=n,this.uselib=r,this.handlerClickThis=this.handlerClick.bind(this),this.handleConfigChangeThis=this.handleConfigChange.bind(this),this.clickConfig=si(r,!0),this.setConfig(t),o||this.handleEventListener()}},{key:"remove",value:function(){document.removeEventListener(pi,this.handlerClickThis,!1)}},{key:"stop",value:function(){this.remove()}},{key:"reStart",value:function(){this.handleEventListener()}},{key:"handleConfigChange",value:function(){var e=Array.from(new Set([].concat(go(ui(this.clickConfig.autoSelector)),go(ui(this.clickConfig.remoteAutoSelector)))));this.clickConfig.effectiveSelectors=e,window.CustomEvent&&window.dispatchEvent(new CustomEvent("at-clickconfig-change-".concat(this.appkey),{detail:{value:this.clickConfig}}))}},{key:"handleEventListener",value:function(){document.addEventListener(pi,this.handlerClickThis,!1),window.addEventListener("at-router-change",this.handleConfigChangeThis)}},{key:"handlerClick",value:function(e){var t=this,n={beacon_trigger_x:e.pageX,beacon_trigger_y:e.pageY};!function e(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=ii(r,t.clickConfig);if(i){var a=i.realTarget,s=$n(i,ti),u=t.getIsLeavePage(a);if(t.dtReport("click",ri(ri({},s),n),u?"onSendBeacon":"onDirectUserAction",a),!o)return;li(a,t.clickConfig.shadowHostSelector).slice(1).filter((function(e){return!!fi([e],t.clickConfig.keyAttribute).attrValue})).forEach((function(t){e({target:t},!1)}))}}(e)}},{key:"getIsLeavePage",value:function(e){var t=null==e?void 0:e.getAttribute("href"),n=null==e?void 0:e.getAttribute("target");return t&&!t.startsWith("#")&&"_blank"!==n||!1}}])),hi=function(e){return!(!e.pluginName||!e.init)};function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach((function(t){qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gi=At.getBeaconReporter,yi=/MSIE \d|Trident.*rv:/.test(navigator.userAgent),bi=to;window.ATInfo={sdkVersion:bi};var wi=function(){function e(t,n){var r=this,o=t.report,i=t.uselib,a=void 0===i?[]:i,s=t.inspector;p(this,e),this.hasInit=!1,this.hasCallInit=!1,this.sdkPlugins={},this.extensionInstance=null,this.reportLog=[],this.config=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yi||r.sdkPlugins[e]&&(r.hasInit?null===(n=(t=r.sdkPlugins[e].pluginInstance).setConfig)||void 0===n||n.call(t,o):r.sdkPlugins[e].pluginOptions=mi(mi({},r.sdkPlugins[e].pluginOptions),o))},this.stop=function(e){yi||(Array.isArray(e)?e:[e]).filter((function(e){return r.sdkPlugins[e]})).forEach((function(e){return r.stopSinglePlugin(e)}))},this.reStart=function(e){yi||(Array.isArray(e)?e:[e]).forEach((function(e){return r.reStartSinglePlugin(e)}))},this.dtReport=function(){},this.addAdditionalParams=function(){},this.getReportInstance=function(){return eo},this.reportWithAsyncParams=function(){},this.readyToReport=function(){},this.getConfig=function(e){var t,n;if(!yi)return r.hasPluginInit(e)&&(null===(n=(t=r.sdkPlugins[e].pluginInstance).getConfig)||void 0===n?void 0:n.call(t))||null},this.getCachedTrackConfig=Dn(Fn.mark((function e(){var t;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yi){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,null===(t=r.dbInstance)||void 0===t?void 0:t.getItem();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),this.setTrackConfig=function(){var e=Dn(Fn.mark((function e(t){var n,o,i,a;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gi({code:"at_kit_event"})(mi(mi({},r.beaconReportParams),{},{event:"visual"})),!yi){e.next=3;break}return e.abrupt("return");case 3:if(o=t){e.next=27;break}if(location.hostname.includes(".woa.com")){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.getCachedTrackConfig();case 10:if(!e.sent){e.next=13;break}return e.abrupt("return");case 13:return e.prev=13,e.next=16,window.fetch("https://atapi.woa.com/v1/visualization/getConfig?appKey=".concat(r.appkey),{credentials:"include"});case 16:return i=e.sent,e.next=19,i.json();case 19:0===(null==(a=e.sent)?void 0:a.code)&&a.data&&(o=a.data),e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(13),At.tamReport.reportError("setTrackConfig fetchRemote error",e.t0),e.abrupt("return");case 27:if(null==o?void 0:o.length){e.next=29;break}return e.abrupt("return");case 29:return r.applyRemoteConfig(o),e.next=32,null===(n=r.dbInstance)||void 0===n?void 0:n.setItem(o);case 32:case"end":return e.stop()}}),e,null,[[13,23]])})));return function(t){return e.apply(this,arguments)}}(),this.handleCacheConfig=Dn(Fn.mark((function e(){var t,n,o;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=null===(t=r.inspector)||void 0===t?void 0:t.chooseSelector)||void 0===n?void 0:n.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.getCachedTrackConfig();case 4:if(o=e.sent){e.next=7;break}return e.abrupt("return");case 7:r.applyRemoteConfig(o);case 8:case"end":return e.stop()}}),e)}))),this.applyRemoteConfig=function(e){try{e.forEach((function(e){var t,n,o=e.key,i=e.value;if(r.sdkPlugins[o]){var a=Array.isArray(i)?i:At.common.getJsonFromString(i)||[];r.hasInit?null===(n=null===(t=r.sdkPlugins[o].pluginInstance)||void 0===t?void 0:t.setConfig)||void 0===n||n.call(t,{remoteAutoSelector:a}):r.sdkPlugins[o].pluginOptions.remoteAutoSelector=a}}))}catch(e){return void At.tamReport.reportError("applyRemoteConfig error",e)}},this.stopSinglePlugin=function(e){var t,n;r.sdkPlugins[e].hasStoped||(r.hasPluginInit(e)&&(null===(n=(t=r.sdkPlugins[e].pluginInstance).stop)||void 0===n||n.call(t)),r.sdkPlugins[e].hasStoped=!0)},this.reStartSinglePlugin=function(e){var t,n;r.sdkPlugins[e].hasStoped&&(r.hasPluginInit(e)&&(null===(n=(t=r.sdkPlugins[e].pluginInstance).reStart)||void 0===n||n.call(t)),r.sdkPlugins[e].hasStoped=!1)},this.hasPluginInit=function(e){return r.sdkPlugins[e]&&r.hasInit},this.handleInitReport=function(e,t,n){var o=mi(mi({},Qr),e),i=new fo(o,n),a=function(e,t,n,r){i.report(e,t,n,r)};r.sdkVariables={appkey:r.appkey,embededBI:r.embededBI,sdkVersion:bi,keyUserId:o.keyUserId,maxStaytime:o.maxStaytime,dtReport:a,uselib:t||[]},r.dtReport=a,r.addAdditionalParams=function(e){i.addAdditionalParams(e)},r.getReportInstance=function(){return i.getReportInstance()},r.reportWithAsyncParams=function(e){i.readyToReport(e)},r.readyToReport=function(e){i.readyToReport(e)},r.embededBI===U.INITIAL?window.DTReport||(window.DTReport=r.dtReport):window.BeaconReport||(window.BeaconReport=r.dtReport)},this.getLastTimePlugins=function(){var e,t=[],n=JSON.parse((null===(e=null===window||void 0===window?void 0:window.localStorage)||void 0===e?void 0:e.getItem("".concat(r.appkey,"_").concat("tracker_panel_tookit_plugins")))||"{}");return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new Date).valueOf()-e<216e5}(null==n?void 0:n.time)&&(t=n.plugins),t},this.collectReportLog=function(e){r.reportLog.push(e.detail.value)},this.clearReportLog=function(){window.removeEventListener("at-reportlog-add-".concat(r.appkey),r.handleCollectReportLog)},this.getInitReportLog=function(){return r.clearReportLog(),r.reportLog},this.handleExtensions=Dn(Fn.mark((function e(){var t,n,o,i,a,s,u,c,l;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(null===(t=r.getLastTimePlugins())||void 0===t?void 0:t.length)>0,r.embededBI===U.INITIAL){e.next=14;break}if(u=location.href.includes(zr)&&(!(null===(n=r.inspector)||void 0===n?void 0:n.getActivePlugins)||r.inspector.getActivePlugins().length>0),!s&&!u){e.next=13;break}return window.addEventListener("at-reportlog-add-".concat(r.appkey),r.handleCollectReportLog),window.setTimeout((function(){r.clearReportLog()}),6e4),e.next=8,function(e){return new Promise((function(t){var n,r=new Date;if(n=Math.floor(r.getTime()/1e3/60/60),e+=n?"?t="+n:"",window.System&&window.System.import)window.System.import(e).then((function(e){t(e.default?e.default:e)}));else if(window.require&&"function"==typeof window.require)window.require([e],(function(e){t(e.default?e.default:e)}));else{if(document.querySelector('[src="'+e+'"]'))return void t(window.ATKit);var o=document.createElement("script");o.setAttribute("ignore",""),o.onload=function(){t(window.ATKit)},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)}}))}("https://beacon.cdn.qq.com/auto_tracker/js/autotracker-kit-prod-4.3.0.min.js");case 8:return e.next=10,e.sent;case 10:e.t0=e.sent,e.t1={report:r.sdkVariables,inspector:mi({getActivePlugins:function(){return Xr}},r.inspector),getConfig:r.getConfig,applyRemoteConfig:r.applyRemoteConfig,getInitReportLog:r.getInitReportLog},r.extensionInstance=new e.t0(e.t1);case 13:return e.abrupt("return");case 14:if(c=null===(a=null===(i=null===(o=r.inspector)||void 0===o?void 0:o.getActivePlugins)||void 0===i?void 0:i.call(o))||void 0===a?void 0:a.length,!s&&!c){e.next=40;break}return e.prev=16,e.next=19,window.fetch("".concat("https://autotracker.woa.com","/user/envDetect?v=").concat(bi));case 19:return l=e.sent,e.next=22,l.json();case 22:if(0===e.sent.response.code){e.next=25;break}return e.abrupt("return");case 25:e.next=31;break;case 27:return e.prev=27,e.t2=e.catch(16),At.tamReport.reportError("extension envDetect error",e.t2),e.abrupt("return");case 31:return e.next=33,function(e){return new Promise((function(t){var n,r=new Date;if(n=Math.floor(r.getTime()/1e3/60/60),e+=n?"?t="+n:"",window.System&&window.System.import)window.System.import(e).then((function(e){t(e.default?e.default:e)}));else if(window.require&&"function"==typeof window.require)window.require([e],(function(e){t(e.default?e.default:e)}));else{if(document.querySelector('[src="'+e+'"]'))return void t(window.ATExtensions);var o=document.createElement("script");o.setAttribute("ignore",""),o.onload=function(){t(window.ATExtensions)},o.src=e,document.getElementsByTagName("head")[0].appendChild(o)}}))}("https://om.gtimg.cn/autotracker/4.0/autotracker-extensions-prod-4.3.0.min.js");case 33:return e.next=35,e.sent;case 35:e.t3=e.sent,e.t4=r.sdkVariables,e.t5=r.getConfig,e.t6=r.inspector,r.extensionInstance=new e.t3(e.t4,e.t5,e.t6);case 40:case"end":return e.stop()}}),e,null,[[16,27]])}))),this.leaving=function(){var e;Object.values(r.sdkPlugins).map((function(e){var t,n;return null===(n=(t=e.pluginInstance).remove)||void 0===n?void 0:n.call(t)})),null===(e=r.extensionInstance)||void 0===e||e.remove()},this.handleEventListener=function(){window.addEventListener("beforeunload",r.remove)};var u=e,c=o.appkey,l=o.useBeaconSDK;return yi?void(null==l||l(eo)):(u[c]||(this.appkey=c,this.embededBI=n.embededBI,this.inspector=s,this.handleCollectReportLog=this.collectReportLog.bind(this),this.remove=this.leaving.bind(this),this.handleInitReport(o,a,n),this.handleExtensions(),this.dbInstance=new Jn({appkey:c}),Yr.map((function(e){return r.use(e)})),u[c]=this),u[c])}return l(e,[{key:"beaconReportParams",get:function(){return{at_sdk_bi:this.embededBI,remark:JSON.stringify({plugins:Object.keys(this.sdkPlugins||[])})}}},{key:"use",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!yi){var r;if("string"==typeof e){if(!e||this.sdkPlugins[e])return;var o;switch(e){case"Router":o=ei;break;case"Click":o=di}var i=null===(t=window.ATPlugin)||void 0===t?void 0:t[e];i&&hi(i)&&(o=i),o&&(r=e,this.sdkPlugins[e]={pluginInstance:o,pluginOptions:n})}if("[object Object]"===Object.prototype.toString.call(e)){if(!hi(e))return;var a=e.pluginName;if(this.sdkPlugins[a])return;this.sdkPlugins[r=a]={pluginInstance:e,pluginOptions:n}}this.hasInit&&r&&this.sdkPlugins[r].pluginInstance.init(this.sdkVariables,this.sdkPlugins[r].pluginOptions,this.sdkPlugins[r].hasStoped)}}},{key:"init",value:(t=Dn(Fn.mark((function e(){var t=this;return Fn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yi){e.next=2;break}return e.abrupt("return");case 2:if(!this.hasCallInit){e.next=4;break}return e.abrupt("return");case 4:return this.hasCallInit=!0,e.next=7,this.handleCacheConfig();case 7:Object.values(this.sdkPlugins).map((function(e){return e.pluginInstance.init(t.sdkVariables,e.pluginOptions,e.hasStoped)})),this.handleEventListener(),this.hasInit=!0,this.afterInit();case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"destroy",value:function(){yi||(this.leaving(),window.removeEventListener("beforeunload",this.remove),this.clearReportLog(),e[this.appkey]=null)}},{key:"afterInit",value:function(){gi({code:"at_sdk_init"})(this.beaconReportParams)}}]);var t}();function Si(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Si=function(){return!!e})()}var Ei=function(){function e(t){return p(this,e),function(e,t,n){return t=g(t),v(e,Si()?Reflect.construct(t,n||[],g(e).constructor):t.apply(e,n))}(this,e,[t,{embededBI:U.BEACON_OA,BeaconReportConstructor:jn}])}return w(e,wi),l(e)}()},28619:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(7378);function o(e){var t=(0,r.useRef)(e);return t.current=e,(0,r.useCallback)((function(){return t.current.apply(t,arguments)}),[])}},54443:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7378);const o=(0,n(92566).hh)("check-bold",!1,(function(e){return r.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 9 7",fill:"none"},r.createElement("path",{d:"M8.00998 2.21232L3.92835 6.49999C3.60182 6.84245 3.11203 6.84245 2.7855 6.49999L0.499781 4.10273C0.17325 3.76026 0.17325 3.24656 0.499781 2.9041C0.826311 2.56163 1.31611 2.56163 1.64264 2.9041L3.35366 4.69862L6.86713 1.01369C7.19366 0.671219 7.68345 0.671219 8.00998 1.01369C8.33652 1.363 8.33652 1.95889 8.00998 2.21232Z",fill:e.colors[0]}))}))},68330:function(e){e.exports=function(){"use strict";var e,t;function n(t){this.name="__st"+(1e9*Math.random()>>>0)+e+"__",null!=t&&t.forEach(this.add,this),e+=1}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(e){if(null===this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return i;o+=1}}}),"undefined"==typeof window||window.WeakSet||(e=Date.now()%1e9,n.prototype.add=function(e){var t=this.name;return e[t]||Object.defineProperty(e,t,{value:!0,writable:!0}),this},n.prototype.delete=function(e){return!!e[this.name]&&!(e[this.name]=void 0)},n.prototype.has=function(e){return!!e[this.name]},t=n,Object.defineProperty(window,"WeakSet",{value:function(e){return new t(e)}}));var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}function a(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var u=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(s){u=[6,s],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++)if(null!=(r=arguments[n]))for(var r=Object(r),o=Object.keys(Object(r)),i=0,a=o.length;i<a;i++){var s=o[i],u=Object.getOwnPropertyDescriptor(r,s);null!=u&&u.enumerable&&(t[s]=r[s])}return t}});var l,f,p,d,h,v,m={snapshootInfo:void 0,type:void 0,level:void 0,plugin:void 0,originEvent:void 0},g={PV:"pv",AID:"aid",F_ID:"fId",ERROR:"error",DEVICE:"device",CLOSE:"close",PAGE_PERFORMANCE:"pagePerformance",WEB_VITALS:"webVitals",IE:"ie",SPA:"spa",API:"api",ASSET_SPEED:"assetSpeed",CUSTOM:"custom",SESSION:"session",BRIDGE_SPEED:"bridgeSpeed",LOAD_PACKAGE:"loadPackageSpeed",BLANK_SCREEN:"blankScreen",WEBSOCKET:"websocket",LONGTASK:"longtask"},y=["aegis.qq.com","tamaegis.com","/aegis-sdk","rumt-","/flog.core.min.js","pingfore.qq.com","pingfore.tencent.com","zhiyan.tencent-cloud.net","h.trace.qq.com","btrace.qq.com","beacon.qq.com","dmplog.qq.com","qq.com/report","svibeacon.onezapp.com","cube.weixinbridge.com","doubleclick.net","pcmgrmonitor.3g.qq.com","tdm.qq.com","report.qqweb.qq.com","tpstelemetry.tencent.com","galileotelemetry.tencent.com","insight.cloud.tencent.com","facebook.com","facebook.net","google","yahoo.com","twitter.com","ga-audiences","report.idqqimg.com","arms-retcode.aliyuncs.com","px.effirst.com","sentry","baidu.com","hot-update.json","u.c.b.r.o.w.s.e.r","report.url.cn","sockjs-node","m3u8","flv"],b=["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","Failed to execute 'transaction'","window.indexedDB.deleteDatabase is not a function"],w=["level","trace","tag","seq","code"],S=["static","fetch"],E=((xe=l=l||{}).INFO="info",xe.ERROR="error",xe.SDK_ERROR="sdk_error",xe.PROMISE_ERROR="promise_error",xe.AJAX_ERROR="ajax_error",xe.SCRIPT_ERROR="script_error",xe.WEBSOCKET_ERROR="websocket_error",xe.IMAGE_ERROR="image_error",xe.CSS_ERROR="css_error",xe.MEDIA_ERROR="media_error",xe.REPORT="report",xe.RET_ERROR="ret_error",xe.BRIDGE_ERROR="brige_error",xe.BLANK_SCREEN="blank_screen",xe.CUSTOM_ERROR="custom_error",xe.PAGE_NOT_FOUND_ERROR="page_not_found_error",xe.LAZY_LOAD_ERROR="lazy_load_error",xe.LONGTASK="longtask",(xe=f=f||{}).NORMAL="normal",xe.PV="pv",xe.API="api",xe.CUSTOM_TIME="custom_time",xe.CUSTOM_EVENT="custom_event",xe.ASSETS_SPEED="assets_speed",xe.PAGE_PERFORMANCE="page_performance",xe.WEB_VITALS="web_vitals",xe.SDK_ERROR="sdk_error",xe.SESSION="session",xe.BRIDGE="bridge",xe.WEBSOCKET="websocket",xe.SSE="sse",(xe=p=p||{}).android="android",xe.ios="iOS",xe.windows="windows",xe.macos="macOS",xe.linux="linux",xe.devtools="devtools",xe.other="other",(xe=d=d||{}).unknown="unknown",xe.wifi="wifi",xe.wired="wired",xe.net2g="2G",xe.net3g="3G",xe.net4g="4G",xe.net5g="5G",xe.net6g="6G",(xe=h=h||{}).PROD="production",xe.DEV="development",xe.GRAY="gray",xe.PRE="pre",xe.DAILY="daily",xe.LOCAL="local",xe.TEST="test",xe.OTHER="others",(xe=v=v||{}).init="init",xe.sampleChange="sampleChange",xe.destroy="destroy",xe.configChange="configChange",xe.errorOccurred="errorOccurred",x.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},x.prototype.on=function(e,t,n){var r;if(void 0===n&&(n=0),this)return(r=this.eventsList[e])||(this.eventsList[e]=[],r=this.eventsList[e]),-1===this.indexOf(r,t)&&r.push({name:e,type:n||0,callback:t}),this},x.prototype.one=function(e,t){this.on(e,t,1)},x.prototype.remove=function(e,t){if(this){var n=this.eventsList[e];if(n){if(t)return n.length&&(t=this.indexOf(n,t),n.splice(t,1)),this;try{delete this.eventsList[e]}catch(e){}}return null}},x.prototype.clear=function(){this.eventsList={}},x);function x(){var e=this;this.emit=function(t,n){if(e){var r;if(null!=(o=e.eventsList[t])&&o.length)for(var o=o.slice(),i=0;i<o.length;i++){r=o[i];try{var a=r.callback.apply(e,[n]);if(1===r.type&&e.remove(t,r.callback),!1===a)break}catch(t){throw t}}return e}},this.eventsList={}}function O(){return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(function(e){return(e^(16*Math.random()&15)>>e/4).toString(16)}))}var k={generateTraceId:_(16),generateSpanId:_(8)},I=Array(32);function _(e){return function(){for(var t=0;t<2*e;t++)I[t]=Math.floor(16*Math.random())+48,58<=I[t]&&(I[t]+=39);return String.fromCharCode.apply(null,I.slice(0,2*e))}}function T(e){var t,n=["",""];return"object"==typeof e&&(t=(e=function(e){for(var t=0,n=Object.keys(R);t<n.length;t++){var r=n[t],o=e[r]||"function"==typeof e.get&&e.get(r);if(o)return[r,o]}return["",""]}(e))[0],e=e[1],t)?R[t](e):n}var A,R={sw8:function(e){var t=(e=e.split("-"))[1];return e=e[2],t?[atob(t),atob(e)]:["",""]},traceparent:function(e){return[(e=e.split("-"))[1],e[2]]},b3:function(e){return[(e=e.split("-"))[0],e[1]]},"sentry-trace":function(e){return[(e=e.split("-"))[0],e[1]]}},C=(P.prototype.generate=function(e,t){if(void 0===t&&(t={}),this.url=e,!this.isUrlIgnored()&&this.isUrlInTraceUrls()&&this.traceType){switch(this.traceType){case"traceparent":this.traceId=this.createTraceparent();break;case"b3":this.traceId=this.createB3();break;case"sw8":this.traceId=this.createSw8();break;case"sentry-trace":this.traceId=this.createSentryTrace();break;default:return void(this.traceId="")}return t[this.traceType]&&(this.traceId=t[this.traceType]),{name:this.traceType,value:this.traceId}}},P.prototype.createTraceparent=function(){var e=k.generateSpanId();return"00-"+k.generateTraceId()+"-"+e+"-0"+Number(1).toString(16)},P.prototype.createB3=function(){var e=k.generateSpanId();return k.generateTraceId()+"-"+e+"-1"},P.prototype.createSw8=function(){var e=new URL(location.href),t=c(),n=c();return"1-"+String(btoa(n))+"-"+String(btoa(t))+"-1-"+String(btoa("aegis"))+"-"+String(btoa("2.5.45"))+"-"+String(btoa(encodeURI(location.pathname)))+"-"+String(btoa(e.host))},P.prototype.createSentryTrace=function(){var e=O().substring(16);return O()+"-"+e+"-1"},P.prototype.isUrlIgnored=function(){if(Array.isArray(this.ignoreUrls)&&0!==this.ignoreUrls.length)for(var e=0,t=this.ignoreUrls;e<t.length;e++){var n=t[e];if(this.urlMatches(this.url,n))return!0}return!1},P.prototype.isUrlInTraceUrls=function(){if(!this.urls)return!0;if(Array.isArray(this.urls)){if(0===this.urls.length)return!1;for(var e=0,t=this.urls;e<t.length;e++){var n=t[e];if(this.urlMatches(this.url,n))return!0}}return!1},P.prototype.urlMatches=function(e,t){return"string"==typeof t?e===t:!!e.match(t)},P);function P(e,t,n){void 0===n&&(n=null),this.traceType=e,this.ignoreUrls=t,this.urls=n}function j(e,t){return"string"==typeof e?e.split("?")[t?1:0]||"":e}function N(e,t){return void 0===t&&(t=2048),null==(e=String(e).split("?")[0])?void 0:e.slice(0,t)}function D(e){return"string"==typeof e&&/^\//.test(e)?"https:"===(null===location||void 0===location?void 0:location.protocol):/^https/.test(e)}function L(e,t,n){return a(void 0,void 0,void 0,(function(){var r,o,i,a;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),"function"==typeof(null==t?void 0:t.retCodeHandlerAsync)?[2,new Promise((function(r){t.retCodeHandlerAsync(e,null==n?void 0:n.url,null==n?void 0:n.ctx,(function(e){var t=e.code;e=e.isErr,r({code:void 0===t?"unknown":t,isErr:e})}))}))]:"function"!=typeof(null==t?void 0:t.retCodeHandler)?[3,2]:[4,t.retCodeHandler(e,null==n?void 0:n.url,null==n?void 0:n.ctx,null==n?void 0:n.payload)];case 1:return i=s.sent()||{},o=i.code,i=i.isErr,[2,{code:void 0===o?"unknown":o,isErr:i}];case 2:return(e="string"==typeof e?JSON.parse(e):e)&&(a="function"==typeof(null==(i=null==t?void 0:t.ret)?void 0:i.join),r=a?null==(a=null==t?void 0:t.ret)?void 0:a.map((function(e){return e.toLowerCase()})):$,(a=(a=Object.getOwnPropertyNames(e)).filter((function(e){return-1!==r.indexOf(e.toLowerCase())}))).length)?[2,{code:""+(o="未知"!==(o=e[a[0]])&&""!==o?o:"unknown"),isErr:0!==o&&"0"!==o&&"unknown"!==o}]:[2,z];case 3:return s.sent(),[2,z];case 4:return[2]}}))}))}function q(e,t,n){try{var r="function"==typeof t?t(e,null==n?void 0:n.url)||"":e;return Y(r).slice(0,102400)}catch(e){return""}}function M(e){if("string"==typeof e)return e;try{return e instanceof Error?(JSON.stringify(e,X())||"undefined").replace(/"/gim,""):JSON.stringify(e,X())||"undefined"}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}}function U(e){if("string"==typeof e)return e;try{return JSON.stringify(e,X())||"undefined"}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}}function B(e,t){var n;return"string"!=typeof e||!e||(n=!1,n=t?"string"==typeof t?-1<e.indexOf(t):Object.keys(t).some((function(n){return-1<e.indexOf(t[n])})):n)||te.test(e)||y.some((function(t){return-1<e.indexOf(t)}))}function F(e,t,n){return a(void 0,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return"function"!=typeof e?[3,2]:[4,e.call(t,n,t)];case 1:return[2,r.sent()];case 2:return[2,n||[]]}}))}))}function H(e,t){if("string"==typeof t){var n=(t=t.split(".")).pop();if(n)return"object"==typeof(t=t.reduce((function(e,t){return null==e?void 0:e[t]}),e))?t[n]:t}}function V(e,t,n,r){return"url: "+e+"\nresdata: "+t+"\nstatus: "+n+" \nretcode: "+r}function W(e){return[l.ERROR,l.PROMISE_ERROR,l.AJAX_ERROR,l.SCRIPT_ERROR,l.IMAGE_ERROR,l.CSS_ERROR,l.MEDIA_ERROR,l.WEBSOCKET_ERROR,l.BRIDGE_ERROR,l.SDK_ERROR,l.BLANK_SCREEN,l.RET_ERROR,l.PAGE_NOT_FOUND_ERROR,l.LAZY_LOAD_ERROR,l.CUSTOM_ERROR].includes(e.level)}function G(e){var t,n;return 0===e.length?{isStuck:!1,fluency:0}:(t=e.some((function(e){return 6e4<e})),n=e.reduce((function(e,t){var n=re.find((function(e){return t<e.max}));return e+((null==n?void 0:n.score)||0)}),0),{isStuck:t,fluency:parseFloat((n/e.length).toFixed(4))})}(xe=A=A||{})[xe.number=-1]="number",xe.string="";var J,K=["application/xhtml+xml","application/xml","application/pdf","application/pkcs12","application/javascript","application/x-javascript","application/ecmascript","application/vnd.mspowerpoint","application/vnd.apple.mpegurl","application/ogg","text/css","text/javascript","image","audio","video","video/mp2t"],Q=/\.(json|js|css|jpg|jpeg|png|svg|apng|webp|gif|bmp|mp4|mp3|ts|mpeg|wav|webm|ogg|flv|m3u8|ttf|woff2|otf|eot|woff|html|htm|shtml|shtm|)$/gi,$=["ret","retcode","code","errcode"],z={code:"unknown",isErr:!1},X=function(){var e=new WeakSet;return function(t,n){if(n instanceof Error)return"Error.message: "+n.message+" \n  Error.stack: "+n.stack;if("object"==typeof n&&null!==n){if(e.has(n))return"[Circular "+(t||"root")+"]";e.add(n)}return n}},Y=function(e,t){void 0===t&&(t=3);var n,r,o,i="";return Array.isArray(e)?(i+="[",n=e.length,e.forEach((function(e,r){i=(i+="object"==typeof e&&1<t?Y(e,t-1):ee(e))+(r===n-1?"":",")})),i+="]"):e instanceof Object?(i="{",r=Object.keys(e),o=r.length,r.forEach((function(n,a){"object"==typeof e[n]&&1<t?i+='"'+n+'":'+Y(e[n],t-1):i+=Z(n,e[n]),i+=a===o-1||a<o-1&&void 0===e[r[a+1]]?"":","})),i+="}"):i+=e,i},Z=function(e,t){var n=typeof t,r="";return"string"==n||"object"==n?r+='"'+e+'":"'+t+'"':"function"==typeof t?r+='"'+e+'":"function '+t.name+'"':"symbol"==typeof t?r+='"'+e+'":"symbol"':"number"!=typeof t&&"boolean"!=n||(r+='"'+e+'": '+t),r},ee=function(e){var t=typeof e;return""+("undefined"==t||"symbol"==t||"function"==t?"null":"string"==t||"object"==t?'"'+e+'"':e)},te=/data:(image|text|application|font)\/.*;base64/,ne=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!t.length)return e;var r,o=t.shift();for(r in o)"object"==typeof o[r]&&null!==o[r]&&e.hasOwnProperty(r)&&"object"==typeof e[r]&&null!==e[r]?ne(e[r],o[r]):e[r]=o[r];return ne.apply(void 0,u([e],t))},re=[{max:500,score:1},{max:1e3,score:.5},{max:3e3,score:.25},{max:1e4,score:.125},{max:6e4,score:.0625}],oe=(ie.prototype.patch=function(e){this.canUse(e)&&this.exist(e)&&(this.plugins.push(e),this.triggerInit(e),this.triggerOnNewAegis(e))},ie.prototype.unPatch=function(e){var t=this.plugins.indexOf(e);-1!==t&&(this.plugins.splice(t,1),0===this.plugins.length)&&this.uninstall(e)},ie.prototype.uninstall=function(e){var t;null!=(t=null==(t=e.option)?void 0:t.destroy)&&t.call(e.option,this.aegis,this.getConfig(e))},ie.prototype.walk=function(e){var t=this;this.plugins.forEach((function(n){t.canUse(n)&&e(n,t.getConfig(n))}))},ie.prototype.canUse=function(e){return!e||!(!(e=this.getConfig(e))||"object"!=typeof e)||!!e},ie.prototype.getConfig=function(e){var t;return null!=(t=null==(t=this.config)?void 0:t[e.name])?t:null==(t=this.aegis.config)?void 0:t[e.name]},ie.prototype.exist=function(e){return-1===this.plugins.indexOf(e)},ie.prototype.triggerInit=function(e){var t;this.initializedPlugin[e.name]||(e.option.aegis=this.aegis,e.aegis=this.aegis,this.initializedPlugin[e.name]=!0,null==(t=null==(t=e.option)?void 0:t.init))||t.call(e.option,this.aegis,this.getConfig(e))},ie.prototype.triggerOnNewAegis=function(e){var t;F(this.aegis.config.onBeforeCollect,this.aegis),null!=(t=null==(t=e.option)?void 0:t.onNewAegis)&&t.call(e.option,this.aegis,this.getConfig(e))},ie);function ie(e,t){this.plugins=[],this.initializedPlugin={},this.aegis=e,this.config=t}function ae(e){return e.filter((function(t,n){return"static"!==(null==t?void 0:t.requestType)||!e.find((function(e,r){return(null==t?void 0:t.url)===e.url&&200===(null==t?void 0:t.status)&&n<r}))}))}function se(e){return new Promise((function(t){return Array.isArray(e)?t(e.map((function(e){return t=o(o({},e),{msg:"string"==typeof e.msg?e.msg:[].concat(e.msg).map(M).join(" ")}),w.forEach((function(e){t[e]||delete t[e]})),t;var t}))):t([o(o({},e),{msg:"string"==typeof e.msg?e.msg:M(e.msg)})])}))}function ue(e){if(Array.isArray(e)&&0!==e.length)return function(t){return new Promise((function(n){var r=function(t,o){return a(void 0,void 0,void 0,(function(){var i;return s(this,(function(a){switch(a.label){case 0:return t<e.length?[4,e[t](o)]:[3,2];case 1:return(i=a.sent()).length?r(t+1,i):null!=n&&n([]),[3,3];case 2:null!=n&&n(o),a.label=3;case 3:return[2]}}))}))};r(0,t)}))};throw new TypeError("createPipeline needs at least one function param")}function ce(e,t){Object.getOwnPropertyNames(e).forEach((function(n){"function"==typeof e[n]&&"constructor"!==n&&(t?t[n]="sendPipeline"===n?function(){return function(){}}:function(){}:e[n]=function(){})}))}function le(e){return Promise.resolve(e)}(xe=J=J||{})[xe.hasNotFetched=0]="hasNotFetched",xe[xe.fetching=1]="fetching",xe[xe.alreadyFetched=2]="alreadyFetched";var fe,pe={name:"sample",create:function(e){function t(){e.fetchSampleStatus=J.alreadyFetched,l.length&&e.send(l.splice(0,l.length))}function n(){return e.fetchSampleStatus=J.fetching,new Promise((function(n){var r=Date.now();e.request({url:H(e.config,"hostUrl.whiteListUrl")+"?uid="+c+"&topic="+e.config.id,payload:{},method:"GET"},(function(o){var i,a=(o=o.data||JSON.parse(o)).is_in_white_list,s=void 0===(c=o.sample_map)?{}:c,c=o.server_time,l=o.start_server_time;0!==o.code?(e.sampleMap=u,e.event.emit(v.sampleChange)):(e.isWhiteList=!!a,a&&e.config.whiteList?Object.keys(g).forEach((function(e){u[g[e]]=1})):(i={},Object.keys(s).forEach((function(e){i[e.replace(/(_\w)/g,(function(e){return e[1].toUpperCase()}))]=s[e]/100})),ne(u,i)),e.sampleMap=u,e.event.emit(v.sampleChange),a=((o=Date.now())-r-(Number(c)-Number(l)))/2,l=Number(c)+a,e.serverTimeGap=Math.floor(l-o)),t(),n()}),(function(){e.sampleMap=u,e.event.emit(v.sampleChange),t(),n()}))}))}o=e,i={},Object.keys(g).forEach((function(e){e=g[e];var t=H(o.config,"sample."+e);i[e]=t}));var r,o,i,u=i,c=null==(r=e.config)?void 0:r.uid,l=[];return e.event.on(v.configChange,(function(e){e.uid!==c&&(c=e.uid,n())})),function(t){return new Promise((function(r){return a(void 0,void 0,void 0,(function(){var o,i,a;return s(this,(function(s){switch(s.label){case 0:return J.alreadyFetched===e.fetchSampleStatus?(o=e.sampleMap,i=e.config.forceReportErrorLog,a=t.filter((function(t){return!t.plugin||!(!e.isWhiteList&&null!=t&&t.isWhiteListDyeLog||(!i||!W(t))&&(t=t.plugin===g.SPA?g.PV:t.plugin,void 0!==(t=o[t]))&&Math.random()>t)})),[2,r(a)]):(l=l.concat(t),J.hasNotFetched!==e.fetchSampleStatus?[3,2]:[4,n()]);case 1:return s.sent(),[2,r([])];case 2:return J.fetching===e.fetchSampleStatus?[2,r([])]:[2]}}))}))}))}}},de={name:"throttle",create:function(e,t){var n,r=[],o=e.config;return e.event.on(v.destroy,(function(){r.length=0})),function(i){return new Promise((function(a){if(r=r.concat(i),t&&r.length>=t||e.sendNow&&0<r.length)return r=ae(r),n&&clearTimeout(n),a(r.splice(0,!e.sendNow&&t||r.length));n&&clearTimeout(n),n=setTimeout((function(){n=null,r=ae(r),a(r.splice(0,r.length))}),o.delay)}))}}},he={name:"format",create:function(){return se}},ve={name:"lengthLimit",create:function(e){return function(t){return a(void 0,void 0,void 0,(function(){var n;return s(this,(function(r){return n=e.config,t=t.map((function(e){var t,r=n.maxLength||102400;try{if(!e.msg||e.msg.length<=r)return e;e.msg=null==(t=e.msg)?void 0:t.substring(0,r)}catch(t){e.msg=null==(r=M(e.msg))?void 0:r.substring(0,n.maxLength)}return e})),[2,Promise.resolve(t)]}))}))}}},me={},ge={},ye={name:"repeatLimit",create:function(e){return t=e.config,function(e){return new Promise((function(n){var r="number"==typeof t.repeat?t.repeat:60;if(!H(t,"sample.speed")||r<=0)return n(e);var o=(null==t?void 0:t.id)||"0",i=ge[o]||{};n(e.filter((function(e){var t,n=!i[e.url]||i[e.url]<r;return n?(i[e.url]=1+~~i[e.url],ge[o]=i):me[o]||me[t=o]||(me[t]=setTimeout((function(){ge[t]={},me[t]=null}),6e4)),n})))}))};var t}},be={},we={},Se={name:"errorLogCollectLimit",create:function(e){var t,n="number"==typeof(t=void 0===(t=e.config)?{}:t).repeat?t.repeat:60,r=(null!=(t=null==t?void 0:t.id)?t:0)+"_error",o=we[r]||{};return we[r]=o,e.event.on(v.destroy,(function(){delete we[r],be[r]&&(clearTimeout(be[r]),delete be[r])})),function(e){return new Promise((function(t){if(n<=0)return t(e);t(e.filter((function(e){var t,i=e.level,a=e.msg;return!(i&&a&&W(e))||(e=i+"_"+(null==a?void 0:a.slice(0,200).replace(/[\r\n]+/g,"")),(i=(a=null!=(i=o[e])?i:0)<n)?o[e]=a+1:be[r]||(be[t=r]||(be[t]=setTimeout((function(){we[t]={},be[t]=null}),6e4)),be[t]),i)})))}))}}},Ee=((xe=fe=fe||{})[xe.ERROR=0]="ERROR",xe[xe.WARN=1]="WARN",xe[xe.INFO=2]="INFO",xe[xe.DEBUG=3]="DEBUG",_e.prototype.debug=function(e){this.log(fe.DEBUG,e)},_e.prototype.info=function(e){this.log(fe.INFO,e)},_e.prototype.warn=function(e){this.log(fe.WARN,e)},_e.prototype.error=function(e){this.log(fe.ERROR,e)},_e.prototype.log=function(e,t){this.instance.fetchSampleStatus===J.alreadyFetched?this.instance.isWhiteList&&this.consoleLog(e,t):this.queue.push({level:e,message:t})},_e.prototype.consoleLog=function(e,t){e<=this.logLevel||this.instance.isWhiteList},_e),xe=(Ie.prototype.init=function(){var e=this,t=this.config.env===h.PROD?fe.ERROR:fe.DEBUG;this.logger=new Ee(t,this),this.pluginController=new oe(this,this.config.plugin),Ie.installedPlugins.forEach((function(t){e.pluginController.patch(t)})),this.event.emit(v.init)},Ie.prototype.setConfig=function(e){var t;return ne(this.config,e),this.tempContext.isInTempContext?(t=o({},this.tempContext.originBean),t=this.getNewBean(e,t),this.tempContext.originBean=t):this.extendBean(this.config),this.event.emit(v.configChange,e),F(this.config.onConfigChange,this),this.config},Ie.prototype.setTempConfig=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:this.sendNow=!0,this.tempContext.isInTempContext=!0,this.tempContext.originBean=o({},this.bean),this.extendBean(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t()];case 2:case 3:return n.sent(),[3,4];case 4:return this.tempContext.isInTempContext=!1,this.sendNow=!1,this.extendBean(this.tempContext.originBean),this.send(this.tempContext.catchLogs.splice(0,this.tempContext.catchLogs.length)),[2]}}))}))},Ie.use=function(e){-1===Ie.installedPlugins.indexOf(e)&&Ie.installedPlugins.push(e)},Ie.unuse=function(e){-1!==(e=Ie.installedPlugins.indexOf(e))&&Ie.installedPlugins.splice(e,1)},Ie.prototype.sendCustomLogs=function(e,t,n,r){return void 0===t&&(t=l.INFO),void 0===n&&(n=f.NORMAL),void 0===r&&(r={canCustom:!1,isWhiteListDyeLog:!1}),a(this,void 0,void 0,(function(){var i,a,u,c,p=this;return s(this,(function(s){switch(s.label){case 0:return this.canUseCustomPlugin()?(i=r.canCustom,a=r.isWhiteListDyeLog,[4,F(this.config.onBeforeCollect,this)]):[2];case 1:return s.sent(),d={logLevel:t,logType:n,canCustom:i},u=e.map((function(e){var t=d.canCustom,n=d.logLevel,r=d.logType,i="object"==typeof e?e:{msg:e},a=i.msg||"",s=void 0;return n===l.CUSTOM_ERROR&&(s=a),i instanceof Error&&(a=M(i),s=i.message),o(o({},i),{msg:a,errorMsg:s,level:null!=(i=t?e.level:null)?i:n,type:null!=(a=t?e.type:null)?a:r,plugin:g.CUSTOM})})).map((function(e){var t;return o(o({},e),{aegisv2_goto:k.generateSpanId(),timestamp:Date.now(),isWhiteListDyeLog:a||void 0,snapshootInfo:U(o(o({},p.snapshootInfo),{type:null!=(t=e.type)?t:f.NORMAL,level:null!=(t=e.level)?t:l.INFO,plugin:g.CUSTOM}))})})),[4,F(this.config.onCollected,this,u)];case 2:return 0<(u=s.sent()).length?this.tempContext.isInTempContext?[4,this.immediatelySend(u)]:[3,4]:[3,7];case 3:return c=s.sent(),[3,6];case 4:return[4,this.send(u)];case 5:c=s.sent(),s.label=6;case 6:return[2,c];case 7:return[2]}var d}))}))},Ie.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.sendCustomLogs(e,l.INFO)];case 1:return t.sent(),[2]}}))}))},Ie.prototype.whiteListInfo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.sendCustomLogs(e,l.INFO,f.NORMAL,{canCustom:!0,isWhiteListDyeLog:!0})];case 1:return t.sent(),[2]}}))}))},Ie.prototype.report=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.sendCustomLogs(e,l.REPORT,f.NORMAL,{canCustom:!0,isWhiteListDyeLog:!1})];case 1:return t.sent(),[2]}}))}))},Ie.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.sendCustomLogs(e,l.CUSTOM_ERROR)];case 1:return t.sent(),[2]}}))}))},Ie.prototype.clearPluginCache=function(){this.pluginController.plugins.forEach((function(e){var t;null!=(t=null==(t=e.option)?void 0:t.clear)&&t.call(e.option,e)}))},Ie.prototype.clearThrottleCache=function(){this.sendNow=!0,this.send([]),this.sendNow=!1},Ie.prototype.reportEvent=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return e?(t="string"==typeof e?{name:e,msg:"report_event",level:l.INFO,plugin:g.CUSTOM}:e).name?("string"!=typeof t.name&&(this.logger.warn("reportEvent params name must be string"),t.name=String(t.name)),[4,this.sendCustomLogs([t],l.INFO,f.CUSTOM_EVENT)]):(this.logger.warn("reportEvent params error"),[2]):[2];case 1:return n.sent(),[2]}}))}))},Ie.prototype.canUseCustomPlugin=function(){var e;return!1!==(null==(e=this.config.plugin)?void 0:e[g.CUSTOM])},Ie.prototype.reportTime=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return"object"!=typeof e?[3,2]:[4,this.reportT(e)];case 1:return[2,n.sent()];case 2:return"string"!=typeof e?(this.logger.warn("reportTime: first param must be a string"),[2]):"number"!=typeof t?(this.logger.warn("reportTime: second param must be number"),[2]):t<0||6e4<t?(this.logger.warn("reportTime: duration must between 0 and 60000"),[2]):[4,this.submitCustomTime(e,t)];case 3:return n.sent(),[2]}}))}))},Ie.prototype.reportT=function(e){return a(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(o){switch(o.label){case 0:return t=e.name,n=e.duration,r=i(e,["name","duration"]),"string"!=typeof t||"number"!=typeof n?(this.logger.warn("reportTime: params error"),[2]):n<0||6e4<n?(this.logger.warn("reportTime: duration must between 0 and 60000"),[2]):[4,this.submitCustomTime(t,n,r)];case 1:return[2,o.sent()]}}))}))},Ie.prototype.time=function(e,t){"string"==typeof e?this.timeMap[e]?this.logger.warn("Timer "+e+" already exists"):this.timeMap[e]={startTime:Date.now(),customParams:t}:this.logger.warn("time: first param must be a string")},Ie.prototype.timeEnd=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return"string"!=typeof e?(this.logger.warn("timeEnd: first param must be a string"),[2]):this.timeMap[e]?[4,this.submitCustomTime(e,Date.now()-this.timeMap[e].startTime,o(o({},this.timeMap[e].customParams),t))]:[3,2];case 1:return n.sent(),delete this.timeMap[e],[3,3];case 2:this.logger.warn("Timer "+e+" does not exist"),n.label=3;case 3:return[2]}}))}))},Ie.prototype.submitCustomTime=function(e,t,n){return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.sendCustomLogs([o({name:e,duration:t,msg:"custom_time",plugin:g.CUSTOM},n)],l.INFO,f.CUSTOM_TIME)];case 1:return r.sent(),[2]}}))}))},Ie.prototype.updateSnapshootInfo=function(e){ne(this.snapshootInfo,e)},Ie.prototype.extendBean=function(e){e=this.getNewBean(e,this.bean),ne(this.bean,e)},Ie.prototype.generateRequestOptionsByLogs=function(e){var t,n,r=this;return e=e.map((function(e){var t=e.snapshootInfo;return{message:U(o(o(o({},e),m),{timestamp:e.timestamp+r.serverTimeGap})),fields:t}})),n={},e.forEach((function(e){var t=e.fields;n[t]||(n[t]={fields:e.fields,message:[]}),n[t].message.push(e.message)})),e=Object.keys(n).map((function(e){return n[e]})),{payload:{topic:this.bean.id||"",bean:o(o({},this.bean),{id:void 0}),ext:U((null==(t=this.config)?void 0:t.extField)||{}),scheme:"v2",d2:e,v:"2.5.45"},url:H(this.config,"hostUrl.url"),method:"POST"}},Ie.prototype.send=function(e,t,n){var r,o,i,c,l=this;if(!this.tempContext.isInTempContext)return this.sendPipeline||(this.sendPipeline=ue([(i=[],(o=this).event.on(v.destroy,(function(){i.length=0})),c=!0,function(e){return new Promise((function(t){var n;!c||null!=(n=null==o?void 0:o.canProceedLogs)&&n.call(o)?(0<i.length&&(e.push.apply(e,i),i.length=0),c=!1,t(e)):(i=i.concat(e),t([]))}))}),de.create(this,400),pe.create(this),Se.create(this),function(e){return a(l,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return n=(t=Promise).resolve,[4,F(this.config.onBeforeSend,this,e)];case 1:return[2,n.apply(t,[r.sent()])]}}))}))},function(e){return new Promise((function(r){if(0===e.length)return r([]);l.sendLogs(e,(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];l.failRequestCount=0,r(u(e,[{isErr:!1,result:n}])),null!=t&&t.apply(void 0,n)}),(function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];60<=++l.failRequestCount&&l.destroy(),r(u(e,[{isErr:!0,result:t}])),null!=n&&n.apply(void 0,t)}))}))},function(e){return a(l,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return n=(t=Promise).resolve,[4,F(this.config.onSended,this,e)];case 1:return[2,n.apply(t,[r.sent()])]}}))}))}])),this.sendPipeline(e);(r=this.tempContext.catchLogs).push.apply(r,e)},Ie.prototype.immediatelySend=function(e,t,n){var r=this;return ue([function(e){return a(r,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return n=(t=Promise).resolve,[4,F(this.config.onBeforeSend,this,e)];case 1:return[2,n.apply(t,[r.sent()])]}}))}))},function(e){return new Promise((function(o){if(0===e.length)return o([]);r.sendLogs(e,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r.failRequestCount=0,o(u(e,[{isErr:!1,result:n}])),null!=t&&t.apply(void 0,n)}),(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];60<=++r.failRequestCount&&r.destroy(),o(u(e,[{isErr:!0,result:t}])),null!=n&&n.apply(void 0,t)}))}))},function(e){return a(r,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return n=(t=Promise).resolve,[4,F(this.config.onSended,this,e)];case 1:return[2,n.apply(t,[r.sent()])]}}))}))}])(e)},Ie.prototype.performRequest=function(e,t,n){throw new Error('You need to override "performRequest" method')},Ie.prototype.ready=function(){function e(){var n,r,o,i,a;t.reportRequestQueue.length&&(r=(n=t.reportRequestQueue.shift()).logs,o=n.success,i=n.fail,a=t.generateRequestOptionsByLogs(r),t.request(a,(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return null==o?void 0:o.apply(a,t)}finally{e()}}),(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return null==i?void 0:i.apply(a,t)}finally{e()}})))}var t=this;e(),this.isReportReady=!0},Ie.prototype.sendLogs=function(e,t,n){this.config.reportImmediately||this.isReportReady?this.request(this.generateRequestOptionsByLogs(e),t,n):this.reportRequestQueue.push({logs:e,success:t,fail:n})},Ie.prototype.request=function(e,t,n){return e&&this.bean.id?e.url?void this.performRequest(e,t,n):this.logger.error("request url is empty"):this.logger.error("Invalid parameters or missing project ID, request forbidden")},Ie.prototype.sendSDKError=function(e){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){switch(n.label){case 0:return[4,this.setTempConfig({id:"SDK-88b1f242f91b60885f0c"},(function(){return t.sendCustomLogs([o(o({},e),{errorToken:t.config.id,aegisSDKVersion:"2.5.45",errorConfig:U(t.config)})],l.SDK_ERROR,f.SDK_ERROR)}))];case 1:return n.sent(),[2]}}))}))},Ie.prototype.destroy=function(e){return void 0===e&&(e=!1),a(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(o){switch(o.label){case 0:return[4,F(this.config.onBeforeDestroy,this)];case 1:o.sent(),-1!==(t=Ie.instances.indexOf(this))&&Ie.instances.splice(t,1),t=Ie.installedPlugins.length-1,o.label=2;case 2:if(!(0<=t))return[3,7];o.label=3;case 3:return o.trys.push([3,4,,6]),n=Ie.installedPlugins[t],this.pluginController.unPatch(n),[3,6];case 4:return n=o.sent(),[4,this.sendSDKError({msg:M(n)})];case 5:return o.sent(),[3,6];case 6:return t--,[3,2];case 7:if(this.event.emit("destroy"),this.event.clear(),e)i=this,a=Object.getOwnPropertyDescriptors(i),Object.keys(a).forEach((function(e){a[e].writable&&(i[e]=null)})),Object.setPrototypeOf(this,null);else{for(r=this;r.constructor!==Object&&ce(r,this),r=Object.getPrototypeOf(r););0===Ie.instances.length&&(ce(Object.getPrototypeOf(this).constructor),ce(Ie))}return F(this.config.onDestroyed,this),[2]}var i,a}))}))},Ie.prototype.canProceedLogs=function(){return!0},Ie.version="2.5.45",Ie.instances=[],Ie.logLevel=l,Ie.environment=h,Ie.installedPlugins=[],Ie),Oe=(ke.prototype.getConfig=function(){var e;return null!=(e=null==(e=this.aegis.config)?void 0:e[this.name])?e:null==(e=this.aegis.config)?void 0:e[this.name]},ke.prototype.publish=function(e,t){var n;return a(this,void 0,void 0,(function(){var r,i,u,c,p,d,h=this;return s(this,(function(m){switch(m.label){case 0:return r=t||this.aegis,i=Date.now(),r.pluginController.canUse(this)?(u=(Array.isArray(e)?e:[e]).map((function(e){var t=h.name===g.API||h.name===g.ASSET_SPEED,n=(null==r?void 0:r.snapshootInfo).action,a=o({},r.snapshootInfo);return t&&n&&(t=i-(null!=(t=null==e?void 0:e.duration)?t:0),(null==n?void 0:n.timestamp)>t)&&delete a.action,n={type:null!=(n=e.type)?n:f.NORMAL,level:null!=(t=e.level)?t:l.INFO,plugin:h.name},o(o(o({aegisv2_goto:k.generateSpanId(),timestamp:i},e),n),{snapshootInfo:U(o(o({},a),n))})})),[4,F(r.config.onCollected,r,u)]):[2,!1];case 1:return 0===(u=m.sent()).length?[2,!1]:((c=u.filter(W)).length&&r.event.emit(v.errorOccurred,c),null!=(n=this.option.pipes)&&n.length?(this.pipeline||(c=this.option.pipes.map((function(e){return h.wrapPipe(e,r)})),d=function(e){return a(h,void 0,void 0,(function(){var t,n;return s(this,(function(o){switch(o.label){case 0:return n=(t=Promise).resolve,[4,F(r.config.onBeforeProcess,r,e)];case 1:return[2,n.apply(t,[o.sent()])]}}))}))},p=function(e){return a(h,void 0,void 0,(function(){var t,n;return s(this,(function(o){switch(o.label){case 0:return n=(t=Promise).resolve,[4,F(r.config.onProcessed,r,e)];case 1:return[2,n.apply(t,[o.sent()])]}}))}))},c.unshift(d),c.push(p),d=function(e){return new Promise((function(t){r.send(e),t(e)}))},c.push(d),this.pipeline=ue(c)),this.pipeline(u)):r.send(u),[2,!0])}}))}))},ke.prototype.wrapPipe=function(e,t){var n,r,o,i;return"string"==typeof e?null!=(o=null==(o=t.pipes.find((function(t){return t.name===e})))?void 0:o.create(t))?o:le:(o=null!=(o=e)?o:{},n=o.name,r=o.option,o=o.create,"string"!=typeof n?e:(i=t.pipes.find((function(e){return e.name===n})),null!=(o=null!=(o=null==o?void 0:o(t,r))?o:null==i?void 0:i.create(t,r))?o:le))},ke);function ke(e){var t;this.option=e,this.name=e.name,this.init=null==(t=e.init)?void 0:t.bind(this),this.onNewAegis=null==(t=e.onNewAegis)?void 0:t.bind(this),this.destroy=null==(t=e.destroy)?void 0:t.bind(this),this.option.$getConfig=this.getConfig.bind(this),this.option.publish=this.publish.bind(this)}function Ie(e){var t;this.pipes=[pe,de,he,ve,ye,Se],this.fetchSampleStatus=J.hasNotFetched,this.config={id:"",uid:"",delay:1e3,repeat:60,sample:1,env:"production",maxLength:102400,whiteList:!0,hostUrl:{url:"https://galileotelemetry.tencent.com/collect",whiteListUrl:"https://galileotelemetry.tencent.com/aegiscontrol/whitelist"},plugin:{pv:!0,aid:!0,error:!0,device:!0,close:!0,pagePerformance:!0,webVitals:!0,custom:!0,fId:!1,ie:!1,spa:!1,api:!1,assetSpeed:!1,session:!1,websocket:!1,blankScreen:!1},reportImmediately:!0,forceReportErrorLog:!1},this.event=new E,this.bean={},this.snapshootInfo={},this.serverTimeGap=0,this.sampleMap={},this.isWhiteList=!1,this.tempContext={isInTempContext:!1,catchLogs:[],originBean:{}},this.isReportReady=!1,this.reportRequestQueue=[],this.timeMap={},this.failRequestCount=0,this.getNewBean=function(e,t){var n;return{id:null!=(n=e.id)?n:t.id,uid:null!=(n=e.uid)?n:t.uid,version:null!=(n=e.version)?n:t.version,aid:null!=(n=e.aid)?n:t.aid,env:null!=(n=e.env)?n:t.env,platform:null!=(n=e.platform)?n:t.platform,netType:null!=(n=e.netType)?n:t.netType,vp:null!=(n=e.vp)?n:t.vp,sr:null!=(n=e.sr)?n:t.sr,sessionId:null!=(n=e.sessionId)?n:t.sessionId,from:null!=(n=e.from)?n:t.from,referer:null!=(n=e.referer)?n:t.referer}},e.hostUrl=void 0===(t=e.hostUrl)?{}:"string"==typeof t?{url:t}:t,e.uid=""+e.uid,this.setConfig(e),Ie.instances.push(this),F(this.config.onNewAegis,this)}function _e(e,t){var n=this;void 0===e&&(e=fe.INFO),this.queue=[],this.logLevel=e,this.instance=t,this.instance.event.on(v.sampleChange,(function(){n.instance.isWhiteList&&n.queue.forEach((function(e){var t=e.level;return e=e.message,n.consoleLog(t,e)})),n.queue.length=0}))}function Te(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)e[n]=r[n]}return e}function Ae(e,t){function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)}function Re(){var e;return!(null==(e=window.external)||!e.assetsGC)}function Ce(e){var t=(e=e||{}).name,n=e.initiatorType;if(Le.test(t))return"js";if(qe.test(t))return"css";switch(n){case"script":return"js";case"link":return"css";default:return n}}function Pe(e){var t=e.domainLookupStart,n=e.domainLookupEnd,r=e.fetchStart,o=e.connectEnd,i=e.connectStart,a=e.requestStart,s=e.secureConnectionStart,u=e.responseStart,c=e.responseEnd,l=(e=e.duration,0);return{preHandleTime:l=0!==t?Number((t-r).toFixed(2)):l,duration:Number(e.toFixed(2)),domainLookup:Number((n-t).toFixed(2)),connectTime:Number((o-i).toFixed(2)),tlsTime:Number((a-s).toFixed(2)),tcpAndRequestGap:Number((a-o).toFixed(2)),requestTime:Number((u-a).toFixed(2)),responseTime:Number((u?c-u:e).toFixed(2))}}var je,Ne=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=Te({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i,a="";for(i in o)o[i]&&(a+="; "+i,!0!==o[i])&&(a+="="+o[i].split(";")[0]);return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=t.read(a,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Te({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Te({},this.attributes,t))},withConverter:function(t){return e(Te({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),De=new Oe({name:g.AID,aid:"",init:function(e){var t;return a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,1,,3]),(n="string"==typeof(n=null==(t=e.config.plugin)?void 0:t.aid)?n:window.localStorage?window.localStorage.getItem("AEGIS_ID"):Ne.get("AEGIS_ID"))||(o=n=c(),window.localStorage?window.localStorage.setItem("AEGIS_ID",o):Ne.set("AEGIS_ID",o)),this.aid=n,[3,3];case 1:return n=r.sent(),[4,e.sendSDKError({msg:M(n)})];case 2:return r.sent(),[3,3];case 3:return[2]}var o}))}))},onNewAegis:function(e){e.bean.aid=this.aid,e.config.aid=this.aid}}),Le=/\.js(\?|$)/i,qe=/\.css(\?|$)/i,Me=function(){return void 0!==window.performance&&"function"==typeof performance.getEntriesByType&&"function"==typeof performance.now},Ue=(new Oe({name:g.ASSET_SPEED}),new Oe({name:g.ASSET_SPEED,pipes:["repeatLimit","networkRefresh"],collectCur:0,collectEntryType:"resource",ASSETS_INITIATOR_TYPE:["img","css","script","link","audio","video"],observer:null,onNewAegis:function(e){var t=this;Me()&&(this.collectSuccessLog(e),this.collectFailLog(e),performance.onresourcetimingbufferfull=function(){"function"==typeof performance.clearResourceTimings&&(t.collectCur=0,performance.clearResourceTimings())})},publishMany:function(e,t){for(var n=t.config,r=0,o=e.length;r<o;r++){var i=e[r];-1===this.ASSETS_INITIATOR_TYPE.indexOf(i.initiatorType)||B(i.name,H(n,"hostUrl"))||this.publish(this.generateLog(i,n),t)}},collectSuccessLog:function(e){var t,n=this;"function"==typeof(null===window||void 0===window?void 0:window.PerformanceObserver)?(this.publishMany(performance.getEntriesByType(this.collectEntryType),e),this.observer=new window.PerformanceObserver((function(t){n.publishMany(t.getEntries(),e)})),this.observer.observe({entryTypes:[this.collectEntryType]}),e.event.on(v.destroy,(function(){var e;null!=(e=n.observer)&&e.disconnect()}))):(t=setInterval((function(){var t=performance.getEntriesByType(n.collectEntryType),r=t.slice(n.collectCur);n.collectCur=t.length,n.publishMany(r,e)}),3e3),e.event.on(v.destroy,(function(){clearInterval(t)})))},collectFailLog:function(e){function t(t){var o,i,a;t&&(t=t.target||t.srcElement,!(o=(null==t?void 0:t.src)||(null==t?void 0:t.href))||"string"!=typeof o||-1<window.location.href.indexOf(o)||(t=performance.getEntriesByType(n.collectEntryType).find((function(e){return e.name===o})),i="function"==typeof(i=(null==(i=r.plugin)?void 0:i.api).resourceTypeHandler)?i(o):Ce(t),B(o,H(r,"hostUrl")))||(a="function"==typeof(a=(null==(a=r.plugin)?void 0:a.assetSpeed).urlHandler)?a(o):o,a={msg:"static_fail",errorMsg:"load "+N(o)+" fail",url:N(a),status:400,duration:Number(((null==t?void 0:t.duration)||0).toFixed(2)),method:"get",assetType:i||"static",isHttps:D(o),urlQuery:j(o,!0),nextHopProtocol:"",domainLookup:A.number,connectTime:A.number,tlsTime:A.number,requestTime:A.number,responseTime:A.number,preHandleTime:A.number,tcpAndRequestGap:A.number,type:f.ASSETS_SPEED},n.publish(a,e)))}var n=this,r=e.config;window.document.addEventListener("error",t,!0),e.event.on(v.destroy,(function(){window.document.removeEventListener("error",t,!0)}))},generateLog:function(e,t){var n=(null==(n=t.plugin)?void 0:n.api).resourceTypeHandler;return t="function"==typeof(t=(null==(t=t.plugin)?void 0:t.assetSpeed).urlHandler)?t(e.name):e.name,n="function"==typeof n?n(e.name):Ce(e),o({msg:"asset_speed",url:N(t),status:200,assetType:n||"static",isHttps:D(e.name),nextHopProtocol:e.nextHopProtocol||"",urlQuery:j(e.name,!0),transferSize:0<e.transferSize?e.transferSize:-1,method:"get",type:f.ASSETS_SPEED},Pe(e))},collectNotReportedLog:function(e){var t,n;Me()&&(t=(n=performance.getEntriesByType(this.collectEntryType)).length,"function"!=typeof window.PerformanceObserver)&&this.collectCur!==t&&(n=n.slice(this.collectCur),this.collectCur=t,this.publishMany(n,e))},destroy:function(){var e;this.publish=function(){},null!=(e=this.observer)&&e.disconnect()}}));function Be(e){window.WebSocket=vt;var t=mt.findIndex((function(t){return t.key===e.key}));-1!==t&&mt.splice(t,1)}function Fe(e){var t,n,r;window.Proxy&&window.WebSocket&&(t=window.WebSocket,window&&!t.isHack&&(n=new Proxy(WebSocket,yt),t.isHack=!0,window.WebSocket=n),r=e,mt.find((function(e){return e.key===r.key}))||r&&mt.push(r))}function He(e,t,n,r){return void 0===n&&(n=15e3),void 0===r&&(r=0),(t=void 0===t?0:t)<=e&&e<=n?e:r}function Ve(e,t){var n=Ot(),r="navigate";return 0<=Et?r="back-forward-cache":n&&(document.prerendering||0<kt()?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}}function We(e,t,n,r){var o,i;return function(a){0<=t.value&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=(a=t.value)>n[1]?"poor":a>n[0]?"needs-improvement":"good",e(t))}}function Ge(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))}function Je(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))}function Ke(e){var t=!1;return function(){t||(e(),t=!0)}}function Qe(){return _t<0&&(_t=Tt(),Rt(),xt((function(){setTimeout((function(){_t=Tt(),Rt()}),0)}))),{get firstHiddenTime(){return _t}}}function $e(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()}function ze(e,t){t=t||{},$e((function(){var n,r=Qe(),o=Ve("FCP"),i=It("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime)&&(o.value=Math.max(e.startTime-kt(),0),o.entries.push(e),n(!0))}))}));i&&(n=We(e,o,Ct,t.reportAllChanges),xt((function(r){o=Ve("FCP"),n=We(e,o,Ct,t.reportAllChanges),Ge((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))}function Xe(){return at?jt:performance.interactionCount||0}function Ye(e){var t,n;Bt.forEach((function(t){return t(e)})),!e.interactionId&&"first-input"!==e.entryType||(n=qt[qt.length-1],((t=Mt.get(e.interactionId))||qt.length<10||e.duration>n.latency)&&(t?e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e):(n={id:e.interactionId,latency:e.duration,entries:[e]},Mt.set(n.id,n),qt.push(n)),qt.sort((function(e,t){return t.latency-e.latency})),10<qt.length)&&qt.splice(10).forEach((function(e){return Mt.delete(e.id)})))}function Ze(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Ke(e),"hidden"===document.visibilityState?e():(n=t(e),Je(e)),n}function et(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},$e((function(){var n;function r(e){Ze((function(){e.forEach(Ye),t=Math.min(qt.length-1,Math.floor((Xe()-Ut)/50));var t=qt[t];t&&t.latency!==o.value&&(o.value=t.latency,o.entries=t.entries,a())}))}"interactionCount"in performance||(at=at||It("event",Lt,{type:"event",buffered:!0,durationThreshold:0}));var o=Ve("INP"),i=It("event",r,{durationThreshold:null!=(n=t.durationThreshold)?n:40}),a=We(e,o,Ft,t.reportAllChanges);i&&(i.observe({type:"first-input",buffered:!0}),Je((function(){r(i.takeRecords()),a(!0)})),xt((function(){Ut=Xe(),qt.length=0,Mt.clear(),o=Ve("INP"),a=We(e,o,Ft,t.reportAllChanges)})))})))}function tt(){var e;0<=ut&&ut<ct-Gt&&(e={entryType:"first-input",name:st.type,target:st.target,cancelable:st.cancelable,startTime:st.timeStamp,processingStart:st.timeStamp+ut},lt.forEach((function(t){t(e)})),lt=[])}function nt(e){var t,n,r,o;function i(){Jt(n,r),o()}function a(){o()}e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,"pointerdown"==e.type?(n=t,r=e,o=function(){removeEventListener("pointerup",i,Wt),removeEventListener("pointercancel",a,Wt)},addEventListener("pointerup",i,Wt),addEventListener("pointercancel",a,Wt)):Jt(t,e))}function rt(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,nt,Wt)}))}function ot(e){var t=e.name;0<(e=e.value)&&e<Number.MAX_SAFE_INTEGER&&(Qt[t]=e)}(dt=je=je||{}).unknown="unknown",dt.normal="normal",dt.weak="weak",dt.disconnected="disconnected";var it,at,st,ut,ct,lt,ft,pt,dt=new Oe({name:g.DEVICE,onNewAegis:function(e){e.extendBean({platform:this.getPlatform(),netType:d.unknown}),this.getDpi(e),this.getWechatVersion(e),this.refreshNetworkTypeToBean(e),this.refreshNetworkStatusToBean(e)},getDpi:function(e){e.extendBean({vp:Math.round(window.innerWidth)+" * "+Math.round(window.innerHeight)}),window.screen&&e.extendBean({sr:Math.round(window.screen.width)+" * "+Math.round(window.screen.height)})},getPlatform:function(){var e={android:/\bAndroid\s*([^;]+)/,ios:/\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,windows:/\b(Windows NT|Windows)/,macos:/\b(Mac OS|OSX)/,linux:/\b(Linux)/i},t=Object.keys(e).find((function(t){return e[t].test(navigator.userAgent)}));return t?p[t]:p.other},getWechatVersion:function(e){var t=navigator.userAgent;t=/Micromessenger/i.test(t)?(null==(t=t.match(/MicroMessenger\/([\d.]+)/i))?void 0:t[1])||"":void 0,e.setConfig({extField:{wechatVersion:t}})},refreshNetworkTypeToBean:function(e){var t=this,n=e.config;n&&("function"==typeof n.getNetworkType?n.getNetworkType:ht)((function(n){Object.keys(d).some((function(e){return d[e]===n}))||(n=d.unknown),e.extendBean({netType:n}),t.NetworkRefreshTimer=setTimeout((function(){t.refreshNetworkTypeToBean(e),clearTimeout(t.NetworkRefreshTimer)}),1e4)}))},refreshNetworkStatusToBean:function(e){var t,n=this,r=e.config;r&&null!=(t="function"==typeof r.getNetworkStatus?r.getNetworkStatus:t)&&t((function(t){Object.keys(je).some((function(e){return je[e]===t}))||(t=je.unknown),e.extendBean({netStatus:t}),n.NetworkStatusRefreshTimer=setTimeout((function(){n.refreshNetworkStatusToBean(e),clearTimeout(n.NetworkStatusRefreshTimer)}),1e4)}))}}),ht=function(e){var t="",n=navigator.userAgent.match(/NetType\/(\w+)/);n?t=n[1]:navigator.connection&&(t=navigator.connection.effectiveType||navigator.connection.type),e((n=t=t||"unknown",0<=(n=String(n).toLowerCase()).indexOf("4g")?d.net4g:0<=n.indexOf("wifi")?d.wifi:0<=n.indexOf("5g")?d.net5g:0<=n.indexOf("6g")?d.net6g:0<=n.indexOf("3g")?d.net3g:0<=n.indexOf("2g")?d.net2g:d.unknown))},vt="undefined"!=typeof window?window.WebSocket:void 0,mt=[],gt={},yt={construct:function(e,t){var n=t[0],r=new e(n,t[1]),i=(r.originSend=r.send,Date.now()),a=!1;return r.addEventListener("open",(function(){var e,t=Date.now();gt[n]=null!=(e=gt[n])?e:{},mt.forEach((function(e){var r,o=e.sendConnectInfo;e=e.key,gt[n][e]=null!=(r=gt[n][e])&&r,null!=o&&o({msg:"WebSocket connection succeeded",url:n,successFlag:!0,duration:t-i,retryFlag:gt[n][e]}),gt[n][e]=!1})),a=!0})),r.addEventListener("error",(function(e){var t=((null==e?void 0:e.currentTarget)||{}).readyState;null!=mt&&mt.forEach((function(e){null!=(e=e.onErr)&&e({msg:"Unable to retrieve specific error information, please check the browser console!",readyState:t,connectUrl:n})}))})),r.addEventListener("close",(function(e){var t;gt[n]=null!=(t=gt[n])?t:{},a||1e3===e.code?(a=!1,mt.forEach((function(e){e=e.key,gt[n][e]=!1}))):(mt.forEach((function(t){var r,i=t.sendConnectInfo;t=t.key,gt[n][t]=null!=(r=gt[n][t])&&r,null!=i&&i(o(o({},e),{msg:"WebSocket connection failed",url:n,successFlag:!1,retryFlag:gt[n][t]})),gt[n][t]=!0})),a=!1)})),Object.defineProperty(r,"send",{get:function(){return function(e){null!=(t=r.originSend)&&t.call(r,e);var t=r.readyState,n=(e=WebSocket.OPEN,WebSocket.CLOSED),i=WebSocket.CONNECTING,a=WebSocket.CLOSING;if(t!==e){var s={readyState:t,connectUrl:r.url};switch(t){case n:mt.forEach((function(e){null!=(e=e.sendErr)&&e(o({msg:"Message sending failed, the connection is closed!"},s))}));break;case i:mt.forEach((function(e){(0,e.sendErr)(o({msg:"Message sending failed, connecting..."},s))}));break;case a:mt.forEach((function(e){(0,e.sendErr)(o({msg:"Message sending failed, connection is closing!"},s))}))}}}}}),r}},bt=(new Oe({name:g.ERROR}),new Oe({name:g.ERROR,onNewAegis:function(e){this.startListen(e)},startListen:function(e){function t(t){var n,r=t&&M(t.reason);r&&o.publishErrorLog({msg:"PROMISE_ERROR: "+r,errorMsg:null==(r=null==(n=(null==(n=t.reason)?void 0:n.message)||(null==(n=t.reason)?void 0:n.errMsg)||r)?void 0:n.slice)?void 0:r.call(n,0,150),level:l.PROMISE_ERROR,type:f.NORMAL,originEvent:t},e)}function n(t){var n;if(i=(null==t?void 0:t.target)||(null==t?void 0:t.srcElement)){var r=i.src||i.href||"",i=void 0===(i=i.tagName)?"script":i;if(!(B(n=r,H(e.config,"hostUrl"))||-1<window.location.href.indexOf(n))){var a={msg:i+" load fail: "+r,level:l.INFO,type:f.NORMAL,originEvent:t};if(/\.js$/.test(r))a.level=l.SCRIPT_ERROR;else if(/\.css$/.test(r))a.level=l.CSS_ERROR;else switch(i.toLowerCase()){case"script":a.level=l.SCRIPT_ERROR;break;case"link":a.level=l.CSS_ERROR;break;case"img":a.level=l.IMAGE_ERROR;break;case"audio":case"video":a.level=l.MEDIA_ERROR;break;default:return}o.publishErrorLog(a,e)}}}var r,o=this,i=window.onerror;window.onerror=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,a=M(t[0]);"string"!=typeof(r=a)||!r||b.some((function(e){return-1<r.indexOf(e)}))||y.some((function(e){return-1<r.indexOf(e)}))||o.publishErrorLog({msg:(a||"")+" @ ("+(M(t[1])||"")+":"+(t[2]||0)+":"+(t[3]||0)+")\n          \n"+M(t[4]||""),errorMsg:a,level:l.ERROR,type:f.NORMAL,originEvent:t[4]},e),null!=i&&i.call.apply(i,u([window],t))},window.addEventListener("unhandledrejection",t),window.document.addEventListener("error",n,!0),e.event.on(v.destroy,(function(){window.document.removeEventListener("unhandledrejection",t),window.document.removeEventListener("error",n,!0)})),e.config.websocketHack&&(r={key:e.config.id+"-"+this.name,onErr:function(t){var n;null!=(n=o.publishWsErrorLog)&&n.call(o,t,e)},sendErr:function(t){var n;null!=(n=o.publishWsErrorLog)&&n.call(o,t,e)}},this.hackWebsocketConfig=r,Fe(this.hackWebsocketConfig))},publishErrorLog:function(e,t){var n=e.type,r=e.level;e=i(e,["type","level"]),this.publish(o({level:r||l.ERROR,type:n||f.NORMAL},e),t)},publishWsErrorLog:function(e,t){var n=e.connectUrl,r=e.msg;e=e.readyState,this.publishErrorLog({msg:"WEBSOCKET_ERROR: \n              connect: "+n+"\n              readyState: "+e+"\n              msg: "+r,level:l.WEBSOCKET_ERROR,type:f.NORMAL},t)},destroy:function(){this.publishErrorLog=function(){},this.hackWebsocketConfig&&Be(this.hackWebsocketConfig)}})),wt=(new Oe({name:g.PAGE_PERFORMANCE}),3),St=new Oe({name:g.PAGE_PERFORMANCE,performanceMap:{},longTaskObserver:null,onNewAegis:function(e){Me()&&(it?this.publish(it,e):this.startCalcPerformance(e),this.startLongtaskObserver(e))},startLongtaskObserver:function(e){var t=this;window.PerformanceObserver&&(this.longTaskObserver=new PerformanceObserver((function(n){n.getEntries().forEach((function(n){var r=n.duration,o=n.name;n=n.startTime,n=Math.floor(null!==performance&&void 0!==performance&&performance.timeOrigin?performance.timeOrigin+n:Date.now()-r),t.publish({duration:r,msg:"longtask",name:o,timestamp:n,type:f.PAGE_PERFORMANCE,level:l.LONGTASK},e)}))})),this.longTaskObserver.observe({entryTypes:["longtask"]}))},startCalcPerformance:function(e){var t=this;try{this.getFirstScreenTiming(e,(function(n){var r=performance.timing;r&&(it={msg:"page_performance",type:f.PAGE_PERFORMANCE,dnsLookup:He(r.domainLookupEnd-r.domainLookupStart),tcp:He(r.connectEnd-r.connectStart),ssl:He(0===r.secureConnectionStart?0:r.requestStart-r.secureConnectionStart),ttfb:He(r.responseStart-r.requestStart),contentDownload:He(r.responseEnd-r.responseStart),domParse:He(r.domInteractive-r.domLoading,0,15e3,1070),resourceDownload:He(r.loadEventStart-r.domInteractive,0,15e3,1070),firstScreenTiming:He(Math.floor(n),0,15e3,15e3)},(r=e.config).extraPerformanceData&&"{}"!==JSON.stringify(r.extraPerformanceData)&&(r=(n=r.extraPerformanceData).engineInit,n=n.bundleLoad,it=o(o({},it),{engineInit:He(r,0,1e4),bundleLoad:He(n,0,1e4)})),t.publish(it,e))}))}catch(e){}},getFirstScreenTiming:function(e,t){var n=this;e.event.on(v.destroy,(function(){f&&clearTimeout(f)}));var r,o=this,i=["script","style","link","br"],a=[],s={},u=(-1<(null==(c=null==(c=window.PerformanceObserver)?void 0:c.supportedEntryTypes)?void 0:c.indexOf("paint"))&&(r=new PerformanceObserver((function(o){o.getEntries().forEach((function(o){var i;"paint"===o.entryType&&"first-contentful-paint"===o.name&&0<(i=document.querySelectorAll("[AEGIS-FIRST-SCREEN-TIMING]")).length&&e.config.id&&!n.performanceMap[e.config.id]&&(n.setFirstScreenInfo(e,o.startTime,i[0],i),null!=t&&t(o.startTime),u.disconnect(),r.disconnect(),f)&&clearTimeout(f)}))}))).observe({entryTypes:["paint"]}),new MutationObserver((function(e){var t={roots:[],ignores:[],rootsDomNum:[],time:performance.now()};e.forEach((function(e){null!=e&&e.addedNodes&&Array.prototype.slice.call(e.addedNodes).forEach((function(e){o.isEleInArray(e,t.ignores)?t.ignores.push(e):1===e.nodeType&&e.hasAttribute("AEGIS-FIRST-SCREEN-TIMING")?(Object.prototype.hasOwnProperty.apply(s,[t.time])||(s[t.time]=[]),s[t.time].push(e)):1===e.nodeType&&(o.hasAncestorOrSelfWithAttribute(e,"AEGIS-IGNORE-FIRST-SCREEN-TIMING")?t.ignores.push(e):-1!==i.indexOf(e.nodeName.toLocaleLowerCase())||o.isEleInArray(e,t.roots)||(t.roots.push(e),t.rootsDomNum.push(o.walkAndCount(e)||0)))}))})),t.roots.length&&a.push(t)})));u.observe(document,{childList:!0,subtree:!0});var c,l=function(i){(i=void 0===i?0:i)||(c=0,(d=Object.keys(s)).length?(i=Math.max.apply(null,d),n.setFirstScreenInfo(e,i,null==(d=s[i])?void 0:d[0],s)):a.forEach((function(t){for(var r=0;r<t.roots.length;r++)t.rootsDomNum[r]>c&&o.isInFirstScreen(t.roots[r])&&(c=t.rootsDomNum[r],i=t.time,n.setFirstScreenInfo(e,i,t.roots[r]))})),a.length=0,Object.keys(s).forEach((function(e){s[e]=s[e].map((function(e){var t={tagName:e.tagName},n=e.attributes;if(!n)return e;for(var r=0;r<n.length;r++){var o=n[r];o.name&&(t[o.name]=e.getAttribute(o.name))}return t}))})));var c,p=(d=performance.timing).domInteractive-d.domLoading,d=d.loadEventStart-d.domInteractive,h=i;f=null;for(var v=0,m=[p,d,h];v<m.length;v++)if(m[v]<=0&&0<wt){f=setTimeout((function(){return l(h)}),3e3);break}f?--wt:(u.disconnect(),null!=r&&r.disconnect(),null!=t&&t(i))},f=setTimeout((function(){return l()}),3e3)},setFirstScreenInfo:function(e,t,n,r){var o;e.config.id&&this.performanceMap[e.config.id]||(e.config.id&&(this.performanceMap[e.config.id]=!0),("object"!=typeof(null==(o=e.config)?void 0:o.pagePerformance)||null!=(o=e.config.pagePerformance)&&o.firstScreenInfo)&&(e.firstScreenInfo={element:n,timing:t,markDoms:r}))},isEleInArray:function(e,t){return!(!e||e===document.documentElement)&&(-1!==t.indexOf(e)||this.isEleInArray(e.parentElement,t))},isInFirstScreen:function(e){var t,n;return!(!e||"function"!=typeof e.getBoundingClientRect)&&(e=e.getBoundingClientRect(),t=window.innerHeight,n=window.innerWidth,0<=e.left)&&e.left<n&&0<=e.top&&e.top<t&&0<e.width&&0<e.height},walkAndCount:function(e){var t=0;if(e&&1===e.nodeType){t+=1;var n=e.children;if(null!=n&&n.length)for(var r=0;r<n.length;r++)1===n[r].nodeType&&n[r].hasAttribute("AEGIS-IGNORE-FIRST-SCREEN-TIMING")||(t+=this.walkAndCount(n[r]))}return t},hasAncestorOrSelfWithAttribute:function(e,t){for(var n=e;n&&n!==document.body;){if(n.hasAttribute(t))return!0;n=n.parentElement}return!1},destroy:function(){this.longTaskObserver&&(this.longTaskObserver.disconnect(),this.longTaskObserver=null),this.performanceMap={}}}),Et=-1,xt=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Et=t.timeStamp,e(t))}),!0)},Ot=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&0<e.responseStart&&e.responseStart<performance.now())return e},kt=function(){var e=Ot();return e&&e.activationStart||0},It=function(e,t,n){try{var r;if(PerformanceObserver.supportedEntryTypes.includes(e))return(r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}))).observe(Object.assign({type:e,buffered:!0},n||{})),r}catch(e){}},_t=-1,Tt=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},At=function(e){"hidden"===document.visibilityState&&-1<_t&&(_t="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("visibilitychange",At,!0),removeEventListener("prerenderingchange",At,!0))},Rt=function(){addEventListener("visibilitychange",At,!0),addEventListener("prerenderingchange",At,!0)},Ct=[1800,3e3],Pt=[.1,.25],jt=0,Nt=1/0,Dt=0,Lt=function(e){e.forEach((function(e){e.interactionId&&(Nt=Math.min(Nt,e.interactionId),Dt=Math.max(Dt,e.interactionId),jt=Dt?(Dt-Nt)/7+1:0)}))},qt=[],Mt=new Map,Ut=0,Bt=[],Ft=[200,500],Ht=[2500,4e3],Vt={},Wt={passive:!0,capture:!0},Gt=new Date,Jt=function(e,t){st||(st=t,ut=e,ct=new Date,rt(removeEventListener),tt())},Kt=[100,300],Qt=(new Oe({name:g.WEB_VITALS}),{FCP:-1,LCP:-1,FID:-1,CLS:-1,INP:-1}),$t=new Oe({name:g.WEB_VITALS,onNewAegis:function(e){if(Me()&&"function"==typeof window.PerformanceObserver&&"function"==typeof performance.getEntriesByName)try{ze(ot),i=ot,a={},$e((function(){function e(e){(e=a.reportAllChanges?e:e.slice(-1)).forEach((function(e){e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-kt(),0),o.entries=[e],t())}))}var t,n,r=Qe(),o=Ve("LCP"),s=It("largest-contentful-paint",e);s&&(t=We(i,o,Ht,a.reportAllChanges),n=Ke((function(){Vt[o.id]||(e(s.takeRecords()),s.disconnect(),Vt[o.id]=!0,t(!0))})),["keydown","click"].forEach((function(e){addEventListener(e,(function(){return Ze(n)}),{once:!0,capture:!0})})),Je(n),xt((function(e){o=Ve("LCP"),t=We(i,o,Ht,a.reportAllChanges),Ge((function(){o.value=performance.now()-e.timeStamp,Vt[o.id]=!0,t(!0)}))})))})),r=ot,o={},$e((function(){function e(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),s(!0))}function t(t){t.forEach(e)}var n=Qe(),i=Ve("FID"),a=It("first-input",t),s=We(r,i,Kt,o.reportAllChanges);a&&(Je(Ke((function(){t(a.takeRecords()),a.disconnect()}))),xt((function(){i=Ve("FID"),s=We(r,i,Kt,o.reportAllChanges),lt=[],ut=-1,st=null,rt(addEventListener),lt.push(e),tt()})))})),t=ot,n={},ze(Ke((function(){function e(e){e.forEach((function(e){var t,n;e.hadRecentInput||(t=a[0],n=a[a.length-1],i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e]))})),i>o.value&&(o.value=i,o.entries=a,r())}var r,o=Ve("CLS",0),i=0,a=[],s=It("layout-shift",e);s&&(r=We(t,o,Pt,n.reportAllChanges),Je((function(){e(s.takeRecords()),r(!0)})),xt((function(){o=Ve("CLS",i=0),r=We(t,o,Pt,n.reportAllChanges),Ge((function(){return r()}))})),setTimeout(r,0))}))),et(ot),Ae(this.publishVitals.bind(this,e),!0)}catch(e){}var t,n,r,o,i,a},publishVitals:function(e){var t=this;setTimeout((function(){t.publish(o({type:f.WEB_VITALS,msg:"web_vitals"},Qt),e)}),10)},destroy:function(){this.publish=function(){}}}),zt=(new Oe({name:g.SPA}),new Oe({name:g.SPA,originFireUrl:"",onNewAegis:function(e){var t,n,r,o=this;this.sendPv=this.sendPv.bind(this),null!=(t=null==(t=e.config)?void 0:t.plugin)&&t.spa&&this.sendPv(e);try{null!=(n=Object.getOwnPropertyDescriptor(History.prototype,"pushState"))&&n.writable&&(history.pushState=this.wr("pushState")||history.pushState),null!=(r=Object.getOwnPropertyDescriptor(History.prototype,"replaceState"))&&r.writable&&(history.replaceState=this.wr("replaceState")||history.replaceState)}catch(e){}["replaceState","pushState","hashchange","popstate"].forEach((function(t){return window.addEventListener(t,(function(){return o.sendPv.call(o,e)}))}))},wr:function(e){var t=history[e],n="__"+e+"__hasWrittenByTamSpa";return"function"==typeof t&&!history[n]&&(Object.defineProperty(history,n,{value:!0,enumerable:!1}),function(){var n=t.apply(this,arguments),r=null;return"function"==typeof Event?r=new Event(e):(r=document.createEvent("HTMLEvents")).initEvent(e,!1,!0),window.dispatchEvent(r),n})},sendPv:function(e){var t=this;setTimeout((function(){var n=location.pathname+location.hash+e.config.id;n&&n!==e.originFireUrl&&(e.updateSnapshootInfo({from:e.getCurrentPageUrl()}),e.timeOrigin=Date.now(),t.publish({msg:"spa",type:f.PV},e),e.originFireUrl=n)}),0)},destroy:function(){this.sendPv=function(){}}})),Xt={name:"networkRefresh",create:function(e){return function(t){return new Promise((function(n){ht((function(r){e.extendBean({netType:r}),n(t)}))}))}}};function Yt(e){var t;(e=ft.call(this,e)||this).sendNow=!1,e.originFireUrl="",e.timeOrigin=null!=(t="undefined"!=typeof performance&&(null===performance||void 0===performance?void 0:performance.timeOrigin))?t:Date.now(),e.pipes.push(Xt);try{e.updateSnapshootInfo({from:e.getCurrentPageUrl()}),"undefined"!=typeof document&&e.extendBean({referer:document.referrer||""}),e.init()}catch(t){e.logger.warn(t),e.sendSDKError({msg:M(t)})}return e}function Zt(){this.constructor=pt}function en(e){return-1!==navigator.userAgent.toLowerCase().indexOf(e)}r(pt=Yt,xe=ft=xe),pt.prototype=null===xe?Object.create(xe):(Zt.prototype=xe.prototype,new Zt),Yt.prototype.getCurrentPageUrl=function(){var e=this.config.pageUrl||location.href||"";return(e="function"==typeof this.config.urlHandler?this.config.urlHandler():e).slice(0,2048)},Yt.prototype.performRequest=function(e,t,n){var r,o,i,a,s=e.method,u=e.url;if(e=e.payload,this.sendNow&&u===H(this.config,"hostUrl.url")&&"function"==typeof(null===navigator||void 0===navigator?void 0:navigator.sendBeacon))return(r=navigator.sendBeacon(u,U(e)))?null==t?void 0:t(r):null==n?void 0:n(r);u=(r={url:u,payload:e,method:s,success:t,fail:n}).url,e=r.method,s=r.payload,o=r.fail,i=r.success,(a=new XMLHttpRequest).sendByAegis=!0,a.addEventListener("readystatechange",(function(){4===a.readyState&&(400<=a.status||0===a.status?null!=o&&o(a.response):null!=i&&i(a.response))})),a.open(e||"post",u),Re()&&a.setRequestHeader("content-type","text/plain;charset=UTF-8"),a.send(JSON.stringify(s))},Yt.sessionID="session-"+Date.now(),xe=Yt,new Oe({name:g.IE});var tn={},nn=(tn.macos=function(){return en("mac")},tn.ios=function(){return tn.iphone()||tn.ipod()||tn.ipad()},tn.iphone=function(){return!tn.windows()&&en("iphone")},tn.ipod=function(){return en("ipod")},tn.ipad=function(){var e="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return en("ipad")||e},tn.android=function(){return!tn.windows()&&en("android")},tn.androidPhone=function(){return tn.android()&&en("mobile")},tn.androidTablet=function(){return tn.android()&&!en("mobile")},tn.blackberry=function(){return en("blackberry")||en("bb10")},tn.blackberryPhone=function(){return tn.blackberry()&&!en("tablet")},tn.blackberryTablet=function(){return tn.blackberry()&&en("tablet")},tn.windows=function(){return en("windows")},tn.windowsPhone=function(){return tn.windows()&&en("phone")},tn.windowsTablet=function(){return tn.windows()&&en("touch")&&!tn.windowsPhone()},tn.fxos=function(){return(en("(mobile")||en("(tablet"))&&en(" rv:")},tn.fxosPhone=function(){return tn.fxos()&&en("mobile")},tn.fxosTablet=function(){return tn.fxos()&&en("tablet")},tn.meego=function(){return en("meego")},tn.cordova=function(){return window.cordova&&"file:"===location.protocol},tn.nodeWebkit=function(){return"object"==typeof window.process},tn.mobile=function(){return tn.androidPhone()||tn.iphone()||tn.ipod()||tn.windowsPhone()||tn.blackberryPhone()||tn.fxosPhone()||tn.meego()},tn.tablet=function(){return tn.ipad()||tn.androidTablet()||tn.blackberryTablet()||tn.windowsTablet()||tn.fxosTablet()},tn.desktop=function(){return!tn.tablet()&&!tn.mobile()},tn.isIE=function(){return"ActiveXObject"in window},new Oe({name:g.CLOSE}),new Oe({name:g.CLOSE,onNewAegis:function(e){var t,n=this;tn.desktop()?(t=window.onunload,window.onunload=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n.publishNotReportedLog(e),null!=t&&t.call.apply(t,u([window],r))}):Ae(this.publishNotReportedLog.bind(this,e),!0)},publishNotReportedLog:function(e){e.clearPluginCache(),e.clearThrottleCache()},publishThrottlePipeLogs:function(){}}));new Oe({name:g.F_ID});var rn,on=new Oe({name:g.PV,init:function(e){var t;null!=(t=null==(t=e.config)?void 0:t.plugin)&&t.spa||this.publish({msg:"pv",type:f.PV},e)}}),an={isSSE:void 0,dataChunkCount:0,sseConnectTime:0,firstChunkTime:0,totalDataSize:0,tokenIntervalArr:[],preTokenStartTime:0,chunkPosition:0,firstChunkFlag:!1},sn={data:"",event:"",id:"",retry:void 0};function un(e,t){void 0===t&&(t=/\.flv(\?|$)/i),xn.find((function(t){return t.name===e.name}))||(xn.push(e),!En&&window.fetch&&(En=!0,mn=window.fetch,window.fetch=function(n,r){void 0===r&&(r={});var o="string"==typeof(s=n)?s:s instanceof Request?s.url:s instanceof URL?s.href:"";if(null!=(s=null==t?void 0:t.test)&&s.call(t,o))return mn(o,r);Sn.test(o)&&(o=""+location.origin+o);var i,a,s=(e||{}).traceRequestHeader;s&&(i=function(e,t){try{var n={};return t.headers?new Headers(t.headers).forEach((function(e,t){n[t]=e})):e instanceof Request&&e.headers.forEach((function(e,t){n[t]=e})),n}catch(e){return{}}}(n,r),a=(s=s.generate(o,i)||{}).name,s=s.value)&&a&&(r.headers=Object.assign(i,((i={})[a]=s,i)));for(var u=0;u<xn.length;u++){var c=xn[u];try{"function"==typeof c.beforeFetch&&c.beforeFetch(o,r)}catch(n){}}var l=Date.now();return mn(n,r).then((function(e){for(var t=e.clone(),n=0;n<xn.length;n++){var i=xn[n];try{"function"==typeof i.then&&i.then(t,Date.now()-l,o,r)}catch(e){}}return t})).catch((function(e){for(var t=0;t<xn.length;t++){var n=xn[t];try{"function"==typeof n.catch&&n.catch(e,Date.now()-l,o,r)}catch(e){}}throw e}))}))}function cn(e,t,n){return null!=t&&t.length&&"object"==typeof e?t.reduce((function(t,r){var o=e instanceof Headers?e.get(r):e[r];return o?t+(""===t?"\n":"\n\n")+n+" header "+r+": "+o:t}),""):""}function ln(e){var t=o({},sn),n=e.indexOf("\n\n");return e.slice(0,n).split("\n").forEach((function(e){var n=(e=e.split(/:\s?/,2))[0],r=e[1];switch(n.toLowerCase()){case rn.data:t.data=t.data?t.data+"\n"+r:r;break;case rn.event:t.event=r;break;case rn.id:t.id=r;break;case rn.retry:var o=parseInt(r,10);isNaN(o)||(t.retry=o)}})),t}function fn(e,t,n){return a(void 0,void 0,void 0,(function(){var r,o,i,a,u,c,l,f,p,d,h,v,m;return s(this,(function(s){switch(s.label){case 0:r=Date.now(),o=r,i=new Uint8Array(0),a=0,u=t,c=[],l=new TextDecoder,f=!1,s.label=1;case 1:return[4,e.read()];case 2:return!(h=s.sent()).done&&h.value?(d=Date.now()-o,!f&&(p=ln(l.decode(h.value)),"function"==typeof n?n(p):0===i.length)&&(u+=d,f=!0),c.push(d),o=Date.now(),a+=1,g=i,y=h.value,(b=new Uint8Array(g.length+y.length)).set(g),b.set(y,g.length),i=b,[3,1]):[3,3];case 3:return p=Date.now()-r,d=p+t,h=G(c),v=h.fluency,m=h.isStuck,[2,{dataDuration:p,dataChunkCount:a,firstChunkTime:u,totalDuration:d,totalDataSize:i.length,connectTime:t,fluency:v,isStuck:m,data:l.decode(i)}]}var g,y,b}))}))}function pn(e){var t=e.isAjaxError,n=(e=e.isRetcodeError,l.INFO);return t?n=l.AJAX_ERROR:e&&(n=l.ERROR),{level:n,type:f.API}}(On=rn=rn||{}).data="data",On.event="event",On.id="id";var dn,hn,vn,mn,gn,yn,bn=!(On.retry="retry"),wn=[],Sn=/^\/[^/]/,En=!1,xn=[],On=(new Oe({name:g.API}),new Oe({name:g.API,pipes:["repeatLimit","networkRefresh"],override:!1,onNewAegis:function(e){var t,n=((null==(n=null==e?void 0:e.config)?void 0:n.plugin)||{}).api;null!=n&&n.injectTraceHeader&&(this.traceRequestHeader=new C(n.injectTraceHeader,null!=(t=null==n?void 0:n.injectTraceIgnoreUrls)?t:[],null==n?void 0:n.injectTraceUrls)),this.overrideFetch(e.config,e),this.overrideXhr(e.config,e)},getRequestType:function(e,t,n){var r;return void 0===t&&(t=""),e="function"==typeof(null==(e=null==(e=e.plugin)?void 0:e.api)?void 0:e.resourceTypeHandler)?null==e?void 0:e.resourceTypeHandler(n):"",-1===S.indexOf(e)&&(r=void 0===t?"":t,t=(void 0===n?"":n).split("?")[0],t=Q.test(t),Q.lastIndex=0,e=t||K.some((function(e){return-1!==String(r).indexOf(e)}))?"static":"fetch"),e},overrideFetch:function(e,t){var n=this,r=((null==e?void 0:e.plugin)||{}).api,u={name:e.id,traceRequestHeader:null!=r&&r.injectTraceHeader?this.traceRequestHeader:null,then:function(u,c,l,p){return a(n,void 0,void 0,(function(){var n,d,h,v,m=this;return s(this,(function(g){return B(l,H(e,"hostUrl"))||(v=u.headers?u.headers.get("content-type"):"","fetch"===(n=this.getRequestType(e,v,l))?(d=(null==v?void 0:v.includes("text/event-stream"))||(null==(v=null==r?void 0:r.isSSE)?void 0:v.call(r,l)),h={},new Promise((function(e){return a(m,void 0,void 0,(function(){var t,n,o;return s(this,(function(a){switch(a.label){case 0:return d?[4,fn(null==(o=null==(o=u.clone())?void 0:o.body)?void 0:o.getReader(),c,r.isFirstSSEChunk)]:[3,2];case 1:return o=a.sent(),t=o.data,n=i(o,["data"]),h=n,[2,e(t)];case 2:return e(u.clone().text()),[2]}}))}))})).then((function(r){return a(m,void 0,void 0,(function(){var i,a,f,v,m,g,y,b,w,S,E,x,O=this;return s(this,(function(s){switch(s.label){case 0:return i=u.status<=0||400<=u.status,a=null==(x=e.plugin)?void 0:x.api,x=(null==a?void 0:a.reqHeaders)||[],f=cn(null==p?void 0:p.headers,x,"req"),x=(null==a?void 0:a.resHeaders)||[],v=cn(u.headers,x,"res"),x=T(null==p?void 0:p.headers),m=x[0],g=x[1],[4,L(r,a,{url:l,ctx:u,payload:null==p?void 0:p.body})];case 1:return x=s.sent(),y=x.code,b=x.isErr,w=null==a?void 0:a.apiDetail,S=w?q(null==p?void 0:p.body,null==a?void 0:a.reqParamHandler,{url:l}):"",E=w?q(r,null==a?void 0:a.resBodyHandler,{url:l,ctx:u}):"",setTimeout((function(){var e=(r=O.getPerformanceEntryByUrl({url:l,duration:c})).performanceTiming,r=r.nextHopProtocol,s=""+(i?"FETCH_ERROR":V(l,E,u.status,y)),w="function"==typeof(w=(a||{}).urlHandler)?w(l,null==p?void 0:p.body):l;O.publish(o(o(o(o({},e),pn({isAjaxError:i,isRetcodeError:b})),{msg:s,errorMsg:i||b?l+","+y:void 0,url:j(w),status:u.status||0,method:(null==p?void 0:p.method)||"get",ret:y,isErr:b,param:S,data:E,reqHeaders:f,resHeaders:v,trace:m,span:g,nextHopProtocol:r,requestType:n,isSSE:d}),d?o(o({},h),{totalDuration:e.duration}):{}),t)}),0),[2]}}))}))}))):setTimeout((function(){var e=(n=m.getPerformanceEntryByUrl({url:l,duration:c})).performanceTiming,n=i(n,["performanceTiming"]);m.publish(o(o(o({},e),n),{url:j(l),status:u.status,type:f.ASSETS_SPEED}),t)}),0)),[2]}))}))},catch:function(r,a,s,u){var c,l,p,d,h,v,m,g;throw B(s,H(e,"hostUrl"))||(c=n.getRequestType(e,"",s),l=null==(h=e.plugin)?void 0:h.api,p=null==(h=null==l?void 0:l.isSSE)?void 0:h.call(l),h=(null==l?void 0:l.reqHeaders)||[],d=cn(null==u?void 0:u.headers,h,"req"),h=T(null==u?void 0:u.headers),v=h[0],m=h[1],g=null!=l&&l.apiDetail?q(null==u?void 0:u.body,null==l?void 0:l.reqParamHandler,{url:s}):"",setTimeout((function(){var e,h,y=(b=n.getPerformanceEntryByUrl({url:s,duration:a})).performanceTiming,b=i(b,["performanceTiming"]);"fetch"===c?(e="FETCH_ERROR: "+r+" \nurl: "+s+"\nresdata: \nstatus: 0\nretcode: unknown\n ",h="function"==typeof(h=(l||{}).urlHandler)?h(s,null==u?void 0:u.body):s,n.publish(o(o(o({},y),pn({isAjaxError:!0,isRetcodeError:!1})),{msg:e,errorMsg:s+",0",url:j(h),status:0,method:(null==u?void 0:u.method)||"get",param:g,reqHeaders:d,ret:"unknown",trace:v,span:m,isSSE:p,nextHopProtocol:b.nextHopProtocol,requestType:c}),t)):n.publish(o(o(o({},y),b),{url:j(s),status:400,type:f.ASSETS_SPEED}),t)}),0)),r}};this.hackFetchOptions=u,un(this.hackFetchOptions)},overrideXhr:function(e,t){var n,r=this,u=((null==e?void 0:e.plugin)||{}).api,c={traceRequestHeader:null!=u&&u.injectTraceHeader?this.traceRequestHeader:null,name:e.id,send:function(n,c){var l,p,d=Date.now(),h=(null!=u&&u.injectTraceHeader&&(l=(p=r.traceRequestHeader.generate(n.aegisUrl)||{}).name,p=p.value,l)&&p&&n.setRequestHeader(l,p),n.sseConfig=o({},an),n.addEventListener("readystatechange",(function(){var e=n,t=d,r=null==u?void 0:u.isFirstSSEChunk,o=null==u?void 0:u.isSSE;switch(e.readyState){case XMLHttpRequest.HEADERS_RECEIVED:var i=((i=e.sseConfig).sseConnectTime,i.preTokenStartTime);(l=Boolean(null==(l=e.getResponseHeader("content-type"))?void 0:l.includes("text/event-stream"))||(null==o?void 0:o(e.aegisUrl)))&&(a=Date.now()-t,i=Date.now(),ne(e.sseConfig,{isSSE:l,sseConnectTime:a,preTokenStartTime:i}));break;case XMLHttpRequest.LOADING:if(!e.sseConfig.isSSE)return;var a=(l=e.sseConfig).dataChunkCount,s=l.firstChunkTime,c=l.totalDataSize,l=(i=l.preTokenStartTime,e.sseConfig.firstChunkFlag),f=e.sseConfig.tokenIntervalArr,p=(a+=1,Date.now()-i);!l&&(l=ln((e.responseText||"").slice(c)),"function"==typeof r?r(l):0===a)&&(s=Date.now()-t,ne(e.sseConfig,{firstChunkFlag:!0})),i=Date.now(),f.push(p),c=(null==(l=e.responseText)?void 0:l.length)||0,ne(e.sseConfig,{dataChunkCount:a,firstChunkTime:s,totalDataSize:c,tokenIntervalArr:f,preTokenStartTime:i})}})),n.addEventListener("loadend",(function(){var l,p,g,y=n.aegisUrl||"",b=!(null!=u&&u.reportAbort)&&"abort"===n.failType;B(y,H(e,"hostUrl"))||b||(l="",(n.failType||!n.status||400<=n.status)&&(l=n.failType||"failed"),p=Date.now()-d,b=n.getResponseHeader("content-type"),g=r.getRequestType(e,b,y),setTimeout((function(){return a(r,void 0,void 0,(function(){var r,a,b,w,S,E,x,O,k,I,_,A,R,C,P,N,D;return s(this,(function(s){switch(s.label){case 0:if(a=this.getPerformanceEntryByUrl({url:y,duration:p}),r=a.performanceTiming,a=i(a,["performanceTiming"]),b=n.aegisMethod||"get",w=n.status,"fetch"!==g)return[3,5];S=(null==u?void 0:u.reqHeaders)||[],S=cn(n.aegisXhrReqHeader,S,"req"),O=(null==u?void 0:u.resHeaders)||[],Q=n.getAllResponseHeaders(),E=Q.split("\r\n").reduce((function(e,t){return(t=t.split(": "))[0]&&t[1]&&(e[t[0]]=t[1]),e}),{}),E=cn(E,O,"res"),O=T(n.aegisXhrReqHeader),x=O[0],O=O[1],I=null==u?void 0:u.apiDetail,k=I?q(c,null==u?void 0:u.reqParamHandler,{url:y}):"",I=I?q(n.response,null==u?void 0:u.resBodyHandler,{url:y}):"",s.label=1;case 1:return s.trys.push([1,3,,4]),[4,L(n.response,null==(D=e.plugin)?void 0:D.api,{url:y,ctx:n,payload:c})];case 2:return D=s.sent(),_=D.code,A=D.isErr,R=l?"AJAX_ERROR: request "+l:V(y,I,w,_),C="function"==typeof(C=(u||{}).urlHandler)?C(y,c):y,P=n.sseConfig.isSSE,N=P?o(o({},(Q=d,B=(U=(M=n).sseConfig).dataChunkCount,F=U.firstChunkTime,H=U.sseConnectTime,W=U.totalDataSize,U=U.tokenIntervalArr,K=(J=Date.now())-(Q+H),J-=Q,U=(Q=G(U)).fluency,Q=Q.isStuck,{totalDuration:J,dataDuration:K,connectTime:H,firstChunkTime:F,dataChunkCount:B,totalDataSize:(null==(J=M.responseText)?void 0:J.length)||W,fluency:U,isStuck:Q})),{totalDuration:r.duration}):{},this.publish(o(o(o(o({},r),pn({isAjaxError:Boolean(l),isRetcodeError:A})),{msg:R,errorMsg:l||A?y+","+_:void 0,url:j(C),status:w,method:b,param:k,data:I,reqHeaders:S,resHeaders:E,ret:_,isErr:A,trace:x,span:O,nextHopProtocol:a.nextHopProtocol,requestType:g,isSSE:P}),N),t),[3,4];case 3:return s.sent(),[3,4];case 4:return[3,6];case 5:this.publish(o(o(o({},r),a),{status:w,url:j(y),type:f.ASSETS_SPEED}),t),s.label=6;case 6:return n.removeEventListener("abort",h),n.removeEventListener("error",v),n.removeEventListener("timeout",m),[2]}var M,U,B,F,H,W,J,K,Q}))}))}),0))})),function(){n.failType="abort"}),v=function(){n.failType="error"},m=function(){n.failType="timeout"};n.addEventListener("abort",h),n.addEventListener("error",v),n.addEventListener("timeout",m)}};this.hackXHROptions=c,n=this.hackXHROptions,null!=(c=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"open"))&&c.writable&&!wn.find((function(e){return e.name===n.name}))&&(wn.push(n),!bn&&window.XMLHttpRequest)&&(dn=window.XMLHttpRequest.prototype.send,hn=window.XMLHttpRequest.prototype.open,vn=window.XMLHttpRequest.prototype.setRequestHeader,bn=!0,window.XMLHttpRequest.prototype.open=function(){this.aegisMethod=arguments[0];var e=arguments[1];if(Sn.test(e)&&(e=""+location.origin+e),this.aegisUrl=e,this.aegisXhrStartTime=Date.now(),this.sendByAegis)tn.isIE()||(this.timeout=5e3);else for(var t=0;t<wn.length;t++){var n=wn[t];try{"function"==typeof n.open&&n.open(this)}catch(e){}}return hn.apply(this,arguments)},window.XMLHttpRequest.prototype.setRequestHeader=function(){var e,t=arguments[0],r=arguments[1];if(this.aegisXhrReqHeader=null!=(e=this.aegisXhrReqHeader)?e:{},!(null!=n&&n.traceRequestHeader&&-1<["traceparent","b3","sw8","sentry-trace"].indexOf(t)&&(this.aegisXhrReqHeader[t]||(arguments[1]=r),this.aegisXhrReqHeader[t])))return this.aegisXhrReqHeader[t]=arguments[1],vn.apply(this,arguments)},window.XMLHttpRequest.prototype.send=function(){if(!this.sendByAegis)for(var e=0;e<wn.length;e++){var t=wn[e];try{"function"==typeof t.send&&t.send(this,arguments[0])}catch(e){}}return dn.apply(this,arguments)})},getPerformanceEntryByUrl:function(e){var t=e.url;if(e=e.duration,"string"==typeof t&&"function"==typeof performance.getEntriesByName){var n=null==(n=performance.getEntriesByName(t))?void 0:n.pop();if(n)return{msg:"api",type:f.API,isHttps:D(t),nextHopProtocol:n.nextHopProtocol||"",urlQuery:j(t,!0),transferSize:0<n.transferSize?n.transferSize:-1,performanceTiming:Pe(n)}}return{msg:"api",type:f.API,isHttps:D(t),nextHopProtocol:"",urlQuery:j(t,!0),performanceTiming:{preHandleTime:A.number,duration:Number(e.toFixed(2)),domainLookup:A.number,connectTime:A.number,tlsTime:A.number,tcpAndRequestGap:A.number,requestTime:A.number,responseTime:A.number}}},destroy:function(){var e,t,n;this.publish=function(){},this.hackXHROptions&&(e=this.hackXHROptions,-1!==(n=wn.findIndex((function(t){return t.name===e.name}))))&&wn.splice(n,1),this.hackFetchOptions&&(t=this.hackFetchOptions,-1!==(n=xn.findIndex((function(e){return e.name===t.name}))))&&xn.splice(n,1),this.override=!1}})),kn=((Ln=gn=gn||{}).INITIAL_LOAD="initial_load",Ln.ROUTE_CHANGE="route_change",(Ln=yn=yn||{}).SELF_GENETATE="self_generate",Ln.SERVER_INJECT="server_inject",Ln.URL_QUERY="url_query",Ln.LOCAL_STORAGE="local_storage",Ln.COOKIES="cookies",function(){});function In(e,t,n){var r,o,i,a,s,u=n.before,c=n.after;return a=(r=e)[o=t],i=a,s=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return u&&u.apply(this,t),"function"==typeof i&&(e=i.apply(this,t)),c&&c.apply(this,[e]),e},r[o]=l,{stop:function(){r[o]===l?r[o]=a:s=a}};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("function"==typeof s)return s.apply(this,e)}}function _n(e){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}({},e)}function Tn(e){return["ancestorOrigins","href","origin","protocol","host","hostname","port","pathname","search","hash","assign","reload","replace","toString"].reduce((function(t,n){return t[n]=e[n],t}),{})}function An(){return(new Date).getTime()}function Rn(e){var t;return e?(t=null==e?void 0:e.indexOf("?"))<0?e:null==e?void 0:e.slice(0,t):""}function Cn(e,t){function n(e,t){for(var n=e,o=0;o<=10&&n&&!["BODY","HTML","HEAD"].includes(n.nodeName);){for(var i=0,a=t;i<a.length;i++){var s=(0,a[i])(n);if("string"==typeof s&&s.trim())return r(s.trim().replace(/\s+/g," "))}if("FORM"===n.nodeName)break;n=n.parentElement,o+=1}return""}function r(e){return 100<e.length?(void 0===n&&(n=""),r=55296<=(r=(t=e).charCodeAt(99))&&r<=56319?101:100,(t.length<=r?t:""+(null==t?void 0:t.slice(0,r))+n)+" [...]"):e;var t,n,r}var o,i=[function(e){var t;if(c()){if("labels"in e&&e.labels&&0<e.labels.length)return u(e.labels[0])}else if(e.id)return(t=e.ownerDocument&&function(t){for(var n=0;n<t.length;n+=1){var r=t[n];if(r.htmlFor===e.id)return r}}(e.ownerDocument.querySelectorAll("label")))&&u(t);return""},function(e){if("INPUT"===e.nodeName){var t=e.getAttribute("type");if(["button","submit","reset"].includes(t||""))return e.value}return""},function(e){return["BUTTON","LABEL"].includes(e.nodeName)||"button"===e.getAttribute("role")?u(e):""},function(e){return e.getAttribute("aria-label")},function(e){var t=e.getAttribute("aria-labelledby");return t?t.split(/\s+/).map((function(t){return s(e,t)})).filter((function(e){return Boolean(e)})).map((function(e){return u(e)})).join(" "):""},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e){return"options"in e&&0<e.options.length?u(e.options[0]):""}],a=[function(e){return u(e)}],s=function(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null},u=function(e){if(!e.isContentEditable)return"innerText"in e?e.innerText:e.textContent},c=function(){return o=void 0===o?"labels"in HTMLInputElement.prototype:o};return function(e,t){var n;if("closest"in HTMLElement.prototype)n=e.closest("["+t+"]");else for(var o=e;o;){if(o.hasAttribute(t)){n=o;break}o=function(e){if(e.parentElement)return e.parentElement;for(;e.parentNode;){if(e.parentNode.nodeType===Node.ELEMENT_NODE)return e.parentNode;e=e.parentNode}return null}(o)}if(n)return r((e=n.getAttribute(t)).trim().replace(/\s+/g," "))}(e,t||"data-aegis-action-name")||n(e,i)||n(e,a)||""}function Pn(e){var t=e.onStart,n=e.onChange,r=Re()?Tn:_n;function o(){var e,t,o,i;a.href!==window.location.href&&(o=e=r(window.location),(t=a).pathname===o.pathname&&(i=o.hash,document.getElementById(null==i?void 0:i.substring(1))||Rn(o.hash)===Rn(t.hash))||(n(a,e),a=r(e)))}t();var i,a=r(window.location),s=(i=o,window.addEventListener("hashchange",i),function(){window.removeEventListener("hashchange",i)}),u=function(e){var t,n,r=kn,o=kn;try{null!=(t=Object.getOwnPropertyDescriptor(History.prototype,"pushState"))&&t.writable&&(r=In(history,"pushState",{after:e}).stop),null!=(n=Object.getOwnPropertyDescriptor(History.prototype,"replaceState"))&&n.writable&&(o=In(history,"replaceState",{after:e}).stop)}catch(e){}return{stop:function(){r(),o(),window.removeEventListener("popstate",e)}}}(o).stop;return function(){s(),u()}}Un.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},Un.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))};var jn,Nn=Un,Dn={sessionId:k.generateTraceId(),sessionFrom:yn.SELF_GENETATE},Ln=new Oe({name:g.SESSION,onNewAegis:function(e){var t,n,r,a,s,u,c,l=this,f=yn.SELF_GENETATE,p=(e.event.on(v.sampleChange,(function(){Math.random()>e.sampleMap[g.SESSION]&&l.stopSessionPlugin()})),function(n,r){l.publishSessionDataWithAegis({session_type:n,is_active:r,session_from:f,link_session_id:null==t?void 0:t.linkSessionId,link_span_id:null==t?void 0:t.linkSpanId},e)}),d=function(e){function t(e){void 0===e&&(e=!1),u=An(),c=An()+9e5,a(e),o=setInterval(r,1e3)}function n(){l()?c=An()+9e5:t(!0)}function r(){l()||(s(),clearInterval(o))}var o,i,a=e.onCreateOrRebuild,s=e.onExpire,u=An(),c=An()+9e5,l=function(){return An()-Number(u)<144e5&&An()<Number(c)};return t(),(i=["click","touchstart","keydown","scroll"]).forEach((function(e){return window.addEventListener.call(window,e,n,!0)})),function(){clearInterval(o),i.forEach((function(e){return window.removeEventListener.call(window,e,n)}))}}({onCreateOrRebuild:function(n){var r=function(e,t,n){if(!e){var r,o=function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++){var n=e[t];if("traceparent"===n.getAttribute("name"))return n}return null}();if(o=(null==o?void 0:o.content)||"")return o={sessionId:o.split("-")[1],sessionFrom:yn.SERVER_INJECT},n(JSON.stringify(o)),o;if(o=(null==(o=null==(o=window.location)?void 0:o.search)?void 0:o.substring(1)).split("&"),r="",o.some((function(e){return"aegis_session_id"===(e=e.split("="))[0]&&(r=decodeURIComponent(e[1]),!0)})),r)return o={sessionId:r,sessionFrom:yn.URL_QUERY},n(JSON.stringify(o)),o;var i=(o={sessionId:Ne.get("aegis_session_id"),linkSessionId:Ne.get("link_session_id"),linkSpanId:Ne.get("link_span_id")}).sessionId,a=o.linkSessionId;if(o=o.linkSpanId,n("[cookie] "+JSON.stringify({sessionId:i,linkSessionId:a,linkSpanId:o})),i)return i={sessionId:i,sessionFrom:yn.COOKIES,linkSessionId:a,linkSpanId:o},n(JSON.stringify(i)),Ne.remove("aegis_session_id"),Ne.remove("link_session_id"),Ne.remove("link_span_id"),i;try{var s=localStorage.getItem("aegis_session_id");if(null!==s){var u,c=JSON.parse(s),l=c.sessionId;if(t!==c.id)return u={sessionId:l,sessionFrom:yn.LOCAL_STORAGE},n(JSON.stringify(u)),u}}catch(e){}}return n(JSON.stringify(Dn)),Dn}(n,e.config.id,(function(t){e.logger.info("session from: "+t)})),o=r.sessionId,a=r.sessionFrom;r=i(r,["sessionId","sessionFrom"]),f=a,t=r;try{localStorage.setItem("aegis_session_id",JSON.stringify({id:e.config.id,sessionId:o}))}catch(n){}e.updateSnapshootInfo({session:{id:o}}),p("session",!0),n&&(e.updateSnapshootInfo({view:{id:k.generateSpanId(),loading_type:gn.INITIAL_LOAD,view_name:document.title,view_url:window.location.href,referrer:""}}),p("view",!0))},onExpire:function(){try{localStorage.removeItem("aegis_session_id")}catch(e){}n(),e.updateSnapshootInfo({session:void 0,view:void 0,action:void 0})}}),h=Pn({onStart:function(){e.updateSnapshootInfo({view:{id:k.generateSpanId(),loading_type:gn.INITIAL_LOAD,view_name:document.title,view_url:window.location.href,referrer:""}}),p("view",!0)},onChange:function(t,n){var r;null!=(r=e.snapshootInfo)&&r.action&&(p("action",!1),e.updateSnapshootInfo({action:void 0})),p("view",!1),e.updateSnapshootInfo({view:{id:k.generateSpanId(),loading_type:gn.ROUTE_CHANGE,view_name:document.title,view_url:n.href,referer:t.href}}),p("view",!0)}}),m=(null==(m=e.config.plugin)?void 0:m.session).actionTypes,y=(null==(y=e.config.plugin)?void 0:y.session).customActionNameAttribute,b=function(){};function w(e){var t,n,r,o,i,l;function f(){r||(r=!0,t(),clearTimeout(i),clearTimeout(l),null==o)||o()}s()&&(e={action_type:e.type,action_name:Cn(e.target,a),action_target_name:null==(e=null==(e=e.target)?void 0:e.nodeName)?void 0:e.toLowerCase()},u(e),t=c,r=!1,o=function(e){function t(){e({isBusy:0<o})}var n,r,o=0,i=new Nn((function(e){var t;if(MutationObserver)return(t=new MutationObserver((function(){return e.notify()}))).observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return t.disconnect()}})),a=new Nn((function(e){var t,n,r;return"function"==typeof(null===window||void 0===window?void 0:window.PerformanceObserver)?((t=new window.PerformanceObserver((function(){e.notify()}))).observe({entryTypes:["resource"]}),function(){t.disconnect()}):Me()?(n=performance.getEntriesByType("resource").length,r=setInterval((function(){var t=performance.getEntriesByType("resource");n<=t.length&&e.notify(),n=t.length}),100),function(){clearInterval(r),n=0}):kn})),s=function(e){var t=1,n=new Nn((function(e){var n=In(XMLHttpRequest.prototype,"send",{before:function(){t+=1,this.requestIndex=t,e.notify({state:"start",requestIndex:t})},after:function(){var t=this,n=function(){t.removeEventListener("loadend",n),e.notify({state:"end",requestIndex:t.requestIndex})};this.addEventListener("loadend",n)}}).stop;return function(){return n()}})).subscribe(e),r=new Nn((function(e){var n=In(window,"fetch",{before:function(){t+=1,e.notify({state:"start",requestIndex:t})},after:function(n){n.finally((function(){e.notify({state:"end",requestIndex:t})}))}}).stop;return function(){return n()}})).subscribe(e);return{unsubscribe:function(){n.unsubscribe(),r.unsubscribe()}}},u=[i.subscribe(t),a.subscribe(t),s((function(e){var n=e.state;e=e.requestIndex,"start"===n?(void 0===r&&(r=e),o+=1,t()):"end"!==n||void 0===r||e<r||(--o,t())}))],c=kn;try{null!=(n=Object.getOwnPropertyDescriptor(window,"open"))&&n.writable&&(c=In(window,"open",{before:t}).stop)}catch(e){}return{stop:function(){c(),u.forEach((function(e){return e.unsubscribe()}))}}}((function(e){clearTimeout(i),clearTimeout(n),e.isBusy||(n=setTimeout((function(){r||(r=!0,t(),clearTimeout(i),clearTimeout(l),null==o)||o()}),100))})).stop,i=setTimeout(f,100),l=setTimeout(f,1e4))}!1!==(m=void 0===m?["click"]:m)&&0!==m.length&&(r=(m={actionTypes:m,customActionNameAttribute:y}).actionTypes,a=m.customActionNameAttribute,s=(y={onBeforeStart:function(){var t;return!(null!=(t=e.snapshootInfo)&&t.action)},onStart:function(t){e.updateSnapshootInfo({action:o({id:k.generateSpanId(),timestamp:Date.now()},t)}),p("action",!0)},onEnd:function(){var t;null!=(t=e.snapshootInfo)&&t.action&&(p("action",!1),e.updateSnapshootInfo({action:void 0}))}}).onBeforeStart,u=y.onStart,c=y.onEnd,r.forEach((function(e){window.addEventListener.call(window,e,w,!0)})),b=function(){r.forEach((function(e){window.removeEventListener.call(window,e,w)}))},n=function(){var t=e.snapshootInfo,n=t.session,r=t.view;t.action&&p("action",!1),r&&p("view",!1),n&&p("session",!1)},window.addEventListener.call(window,"beforeunload",(function(){e.sendNow=!0,n()}),!0),this.stopSessionPlugin=function(){e.updateSnapshootInfo({session:void 0,view:void 0,action:void 0}),d(),h(),b()})},publishSessionDataWithAegis:function(e,t){this.publish(o(o({},e),{msg:e.session_type,type:f.SESSION}),t)},destroy:function(){var e;null!=(e=this.stopSessionPlugin)&&e.call(this)}}),qn={containers:["body","html","#app","#root"],ignoreContainers:[],detectStartPosition:{x:0,y:0},emptyElementsPercent:70,sameElementsPercent:70,debounceDuration:1500,everySideSampleNumber:9,disableSameElementsCheck:!1,ignoreElesWhenDomChange:[],reDetectInterval:1500,samePointDepth:5},Mn=["canvas","img","svg","iframe"];function Un(e){this.onFirstSubscribe=e,this.observers=[]}function Bn(e,t,n){var r=(e=e.map((function(e){return Vn(e)})))[0];return r?(t=t.some((function(e){return r.includes(e)})),n=n.some((function(e){return r.includes(e)})),{isWhitePoint:t&&n,selectorPointers:e}):{isWhitePoint:!1,selectorPointers:e}}function Fn(e){try{var t=e.config.plugin.blankScreen;return!0===t?qn:ne(qn,t)}catch(e){return qn}}function Hn(e,t){var n,r,o=document.elementsFromPoint(e,t),i=o[0];return i&&null!==i.shadowRoot?(n={left:((null==(n=i.getBoundingClientRect())?void 0:n.left)||0)+window.pageXOffset,top:((null==n?void 0:n.top)||0)+window.pageYOffset},r=window.innerHeight,t-=n.top,!((e-=n.left)>=window.innerWidth||r<=t)&&(null==(n=i.shadowRoot)?void 0:n.elementsFromPoint(e,t))||[]):o}(Wn=jn=jn||{})[Wn.UNKNOWN=0]="UNKNOWN",Wn[Wn.ERROR=1]="ERROR",Wn[Wn.DOM_CHANGE=2]="DOM_CHANGE";var Vn=function(e){var t=e.nodeName.toLowerCase();return e.id?t+"#"+e.id:e.className&&"string"==typeof e.className?t+"."+e.className.split(" ").filter((function(e){return!!e})).join("."):t},Wn=new Oe({name:g.BLANK_SCREEN,onNewAegis:function(e){var t,n,r,i,u,c,p,d,h,m,g,y,b,w,S,E,x,O,k,I,_,T,A,R,C,P,j,N,D,L,q,M,U,B,F,H=this;null!==document&&void 0!==document&&document.elementFromPoint&&(w=Fn(e),r=w.everySideSampleNumber,i=w.sameElementsPercent,u=w.emptyElementsPercent,c=w.containers,p=w.ignoreContainers,d=w.debounceDuration,h=w.detectStartPosition,m=w.ignoreElesWhenDomChange,g=w.reDetectInterval,y=w.disableSameElementsCheck,b=w.samePointDepth,w=4*r-3,S=Math.floor(w*u/100),E=Math.floor(w*i/100),x=jn.UNKNOWN,k=null,I="",_=O=!1,T=function(){return a(H,void 0,void 0,(function(){var i,u,v,m,w,x,_,T,R,C,P,j,N,D,L,q,M,U,B,F,H,V,W=this;return s(this,(function(G){switch(G.label){case 0:if(i=window.innerHeight,u=window.innerWidth,v=h.x,m=h.y,u<=v||i<=m)return[2];for(w=v+(u-v)/2,x=m+(i-m)/2,_=[],T=r+1,R=0,C=Date.now(),P=1;P<T;P++)L=m+(i-m)*P/T,D=Hn(q=v+(u-v)*P/T,x),j=Hn(w,L),N=Hn(q,L),q=Hn(q,i-L),L=Bn(D,c,p),D=L.isWhitePoint,L=L.selectorPointers,D&&(R+=1),_.push(L),P!==T/2&&(D=Bn(j,c,p),L=D.isWhitePoint,j=D.selectorPointers,L&&(R+=1),D=Bn(N,c,p),L=D.isWhitePoint,N=D.selectorPointers,L&&(R+=1),D=Bn(q,c,p),L=D.isWhitePoint,q=D.selectorPointers,L&&(R+=1),_.push(j,N,q));return M=S<=R,U=!1,B={samePointerMap:{},maximumSamePointer:{}},y||(H=_.map((function(e){return e.slice(0,b)})),J=H.map((function(e){return e.join(" < ")})).reduce((function(e,t){return e[t]=e[t]?e[t]+1:1,e}),{}),K=Object.keys(J).map((function(e){return[e,J[e]]})).sort((function(e,t){return t[1]-e[1]}))[0],Q=K[0],K=K[1],B={samePointerMap:(H={samePointerMap:J,maximumSamePointerClass:Q,maximumSamePointerCounter:K}).samePointerMap,maximumSamePointer:((V={})[F=H.maximumSamePointerClass]=H=H.maximumSamePointerCounter,V)},V=Mn.some((function(e){return F.startsWith(e)})),U=E<=H&&!V),M||U?[3,1]:(O=!1,k=null,[3,4]);case 1:return O?(I!==e.snapshootInfo.from&&k&&(this.publish({level:l.BLANK_SCREEN,type:f.PV}),I=e.snapshootInfo.from),this.publish(ne(k,t?{linkLogId:null==t?void 0:t.aegisv2_goto,linkLogType:null==t?void 0:t.type,linkLogLevel:null==t?void 0:t.level,linkErrorMsg:null==t?void 0:t.errorMsg}:{}),e),[4,e.setTempConfig({id:"SDK-88b1f242f91b60885f0c"},(function(){return e.reportTime("白屏检测总耗时",Date.now()-C)}))]):[3,3];case 2:return G.sent(),O=!1,k=null,[3,4];case 3:H=Date.now()-e.timeOrigin-d,k=o(o({msg:"blank_screen",level:l.BLANK_SCREEN,type:f.NORMAL,triggerTime:H<0?0:H,whitePointCount:R},B),t?{linkLogId:null==t?void 0:t.aegisv2_goto,linkLogType:null==t?void 0:t.type,linkLogLevel:null==t?void 0:t.level,linkErrorMsg:null==t?void 0:t.errorMsg}:{}),O=!0,n=setTimeout((function(){return a(W,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,A()];case 1:return e.sent(),[2]}}))}))}),g),G.label=4;case 4:return[2]}var J,K,Q}))}))},A=function(){return a(H,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return"requestIdleCallback"in window?(window.requestIdleCallback((function(t){return a(e,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return 0<t.timeRemaining()?[4,T()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})),[3,3]):[3,1];case 1:return[4,T()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},R=function(){var r;O||x===jn.ERROR&&!t||(x=t?jn.ERROR:jn.DOM_CHANGE,clearTimeout(n),r=Fn(e).debounceDuration,n=setTimeout((function(){return a(H,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return clearTimeout(n),[4,A()];case 1:return e.sent(),[2]}}))}))}),r))},e.event.on(v.errorOccurred,C=function(e){0<(e=e.filter((function(e){return e.level!==l.BLANK_SCREEN}))).length&&(t=e[e.length-1],R())}),P=null,window.MutationObserver&&(M=U=null,j=window.cancelAnimationFrame||function(e){clearTimeout(e)},N=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},D=function(){(P=new MutationObserver((function(e){var t=m.includes(Vn(e[0].target));1===e.length&&t||R()}))).observe(document.body,{childList:!0,subtree:!0})},L=function(){U&&(clearTimeout(U),U=null),M&&(j(M),M=null)},document.body?D():(M=N(q=function(){document.body?(L(),D()):M=N(q)}),U=setTimeout((function(){L()}),1e4))),B=function(){_&&(_=!0,O)&&(clearTimeout(n),T())},F=function(){"visible"===document.visibilityState&&(_=!1),"hidden"===document.visibilityState&&B()},window.addEventListener("pagehide",B),window.addEventListener("beforeunload",B),window.addEventListener("visibilitychange",F),this.destroyBlanckScreenDetect=function(){window.removeEventListener("pagehide",B),window.removeEventListener("beforeunload",B),window.removeEventListener("visibilitychange",F),e.event.remove(v.errorOccurred,C),null!=P&&P.disconnect()})},destroy:function(){this.destroyBlanckScreenDetect()}});return new Oe({name:g.WEBSOCKET}),Oe=new Oe({name:g.WEBSOCKET,init:function(e){var t=this;Fe({key:e.config.id+"-"+this.name,onErr:function(n){e.config.websocketHack||t.publishWsErrorLog(n,e)},sendErr:function(n){e.config.websocketHack||t.publishWsErrorLog(n,e)},sendConnectInfo:function(n){t.publish(o(o({},n),{level:l.INFO,type:f.WEBSOCKET}),e)}})},publishWsErrorLog:function(e,t){var n=e.connectUrl,r=e.msg;e=e.readyState,this.publish({msg:"WEBSOCKET_ERROR: \n              connect: "+n+"\n              readyState: "+e+"\n              msg: "+r,level:l.WEBSOCKET_ERROR,type:f.WEBSOCKET},t)},destroy:function(){this.publishErrorLog=function(){},this.hackWebsocketConfig&&Be(this.hackWebsocketConfig)}}),xe.use(Ln),xe.use(De),xe.use(on),xe.use(bt),xe.use(On),xe.use(Ue),xe.use(St),xe.use($t),xe.use(dt),xe.use(zt),xe.use(nn),xe.use(Wn),xe.use(Oe),xe}()},70632:(e,t,n)=>{"use strict";n.d(t,{v:()=>f});var r=n(68751),o=n(26412),i=n(658);function a(e){return Object.keys(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=Symbol("__EVENT_CACHE_KEY__"),l=Symbol("__GLOBAL_CACHE_KEY__"),f=function(){function e(){(0,o.A)(this,e)}return(0,i.A)(e,[{key:"addGlobalListener",value:function(e){var t=this[l]||[];t.push(e),this[l]=t}},{key:"removeGlobalListener",value:function(e){var t=this[l];if(t&&e){var n=t.findIndex((function(t){return t===e}));n>=0&&t.splice(n,1)}else this[l]=[]}},{key:"addListener",value:function(e,t){var n=this[c]=this[c]||{},r=n[e];null==r&&(r=[],n[e]=r),r.push({fn:t})}},{key:"removeListener",value:function(e,t){var n=this[c];if(null!=e&&null!=n){var r=n[e];if(null!=r)if(null!=t){var o=r.findIndex((function(e){return e.fn===t}));o>=0&&r.splice(o,1)}else delete n[e]}else this[c]={}}},{key:"removeAllListeners",value:function(e){this.removeListener(e),this.removeGlobalListener()}},{key:"emit",value:function(e){for(var t=this[l]||[],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t.length){var i,a=s(t);try{for(a.s();!(i=a.n()).done;){(0,i.value)(e,r)}}catch(e){a.e(e)}finally{a.f()}}var u=(this[c]=this[c]||{})[e];if(null!=u){var f,p=s(u);try{for(p.s();!(f=p.n()).done;){f.value.fn.apply(this,r)}}catch(e){p.e(e)}finally{p.f()}}}},{key:"waitForCommit",value:function(e){var t=(this[c]=this[c]||{})[e];if(null!=t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,a=s(t);try{for(a.s();!(i=a.n()).done;){i.value.waiting=r}}catch(e){a.e(e)}finally{a.f()}}}},{key:"commit",value:function(e){var t=this,n=this[c]=this[c]||{};if(null!=e){var o=n[e];if(null!=o){var i,u=s(o);try{for(u.s();!(i=u.n()).done;){var l=i.value,f=l.waiting;null!=f&&(l.waiting=void 0,this.emit.apply(this,[e].concat((0,r.A)(f))))}}catch(e){u.e(e)}finally{u.f()}}}else a(n).forEach((function(e){return t.commit(e)}))}},{key:"abortCommit",value:function(e){var t=this,n=this[c]=this[c]||{};if(null!=e){var r=n[e];if(null!=r){var o,i=s(r);try{for(i.s();!(o=i.n()).done;){var u=o.value;null!=u.waiting&&(u.waiting=void 0)}}catch(e){i.e(e)}finally{i.f()}}}else a(n).forEach((function(e){return t.abortCommit(e)}))}},{key:"listeners",value:function(e){var t=(this[c]=this[c]||{})[e];return null==t?[]:t.map((function(e){return e.fn}))}},{key:"listenerCount",value:function(e){var t=(this[c]=this[c]||{})[e];return null==t?0:t.length}}],[{key:"mixin",value:function(t){!function(e){for(var t=e.prototype,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach((function(e){var n=e.prototype,r=Object.getOwnPropertyDescriptors(n);Object.keys(r).forEach((function(e){Object.defineProperty(t,e,r[e])}))}))}(t,e)}}]),e}()},71892:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(7378);function o(e){var t=(0,r.useRef)(e);return t.current=e,(0,r.useCallback)((function(){var e=t.current;return e&&e.apply(void 0,arguments)}),[])}},92566:(e,t,n)=>{"use strict";n.d(t,{hh:()=>p});var r=n(7378),o=["size","fill","className","spin"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c={size:"1em",rtl:!1,colors:["currentColor","#FFF"],prefix:"adp"};function l(){return"icon-"+(4294967296*(1+Math.random())|0).toString(16).substring(1)}var f=(0,r.createContext)(c);f.Provider;function p(e,t,n){return function(i){var s=i.size,c=i.fill,p=i.className,d=i.spin,h=u(i,o),v=(0,r.useContext)(f),m=function(e,t,n){for(var r="string"==typeof t.fill?[t.fill]:t.fill||[],o=[],i=Math.max(r.length,n.colors.length),a=0;a<i;){if("string"==typeof r[a])o.push(r[a]);else{if("string"!=typeof n.colors[a])throw new Error("config.colors[".concat(a,"] expect string to be HSL"));o.push(n.colors[a])}a++}return{size:t.size||n.size,colors:o,id:e}}((0,r.useMemo)(l,[]),{size:s,fill:c},v),g=[v.prefix+"-icon"];return g.push(v.prefix+"-icon-"+e),t&&v.rtl&&g.push(v.prefix+"-icon-rtl"),d&&g.push(v.prefix+"-icon-spin"),p&&g.push(p),r.createElement("span",a(a({},h),{},{className:g.join(" ")}),n(m))}}},99085:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(33889),o=n(7378);function i(){var e=(0,o.useState)(0),t=(0,r.A)(e,2)[1];return(0,o.useCallback)((function(){t((function(e){return e+1}))}),[])}}}]);
//# sourceMappingURL=sourcemap/vendor_tencent.47fad1abc824d2bad15c.js.map