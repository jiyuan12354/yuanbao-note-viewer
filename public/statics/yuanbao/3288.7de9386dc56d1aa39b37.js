"use strict";(self.webpackChunkhunyuan_bot=self.webpackChunkhunyuan_bot||[]).push([[3288],{73288:(l,e,n)=>{n.d(e,{S:()=>s,a:()=>r});var u=n(43721),v=n(49950);function o(l){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},o(l)}function i(l,e){for(var n=0;n<e.length;n++){var u=e[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,a(u.key),u)}}function t(l,e,n){return e&&i(l.prototype,e),n&&i(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}function a(l){var e=function(l,e){if("object"!=o(l)||!l)return l;var n=l[Symbol.toPrimitive];if(void 0!==n){var u=n.call(l,e||"default");if("object"!=o(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(l)}(l,"string");return"symbol"==o(e)?e:e+""}var r=function(l){return l.isMannualStopSpeaking="isMannualStopSpeaking",l.isInterrupt="isInterrupt",l.chatTraceId="chatTraceId",l.internetSearch="internetSearch",l}({}),s=t((function l(e){var n=e.app_key,o=e.include_url_reg,i=void 0===o?[/\/api\/chat/]:o,t=e.onAfterRequestForReport;!function(l,e){if(!(l instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var a={app_key:n,llm_ver:"",include_url_reg:i,use_fetch:!1,use_xhr:!0,use_event_source:!1,log_level:"none",user_id:"default_user_id",qapm_base_url:"https://app.rumt-zh.com",version:"1.0.0",onMessage:function(l,e,n,u,v,o,i,t){return o.includes("event: speech_type")&&o.includes("data: text")&&(t.values.v22=Date.now()),d(o).forEach((function(l){var e,n,u,v=c(l),o=v.type,i=void 0===o?"":o,a=v.content,s=void 0===a?"":a,d=v.msg,p=void 0===d?"":d,f=v.ic,m=void 0===f?"":f,h=v.traceId,g=void 0===h?"":h,y=0;"think"===i?y=s.length:"text"===i&&(y=p.length),null!=t&&null!==(e=t.values)&&void 0!==e&&e.v20?t.values.v20+=y:t.values.v20=y,"think"!==i||null!=t&&null!==(n=t.values)&&void 0!==n&&n.v21||(t.values.v21=Date.now()),"meta"!==i||null!=t&&null!==(u=t.values)&&void 0!==u&&u.v25||(t.values.v25=Number(m)),g&&sessionStorage.setItem(r.chatTraceId,g),"error"===i&&(t.values.v24=3,t.values.d20=p)})),o.includes("[plugin:")&&(t.values.v23=Date.now()),o.includes("[DONE]")?t.values.v24=1:o.includes("[SENSITIVE]")&&(t.values.v24=2),t},onAfterRequest:function(l,e,n,v,o,i,a){try{var s,d,c,p,f,m,h,g,y,S,H,Y,b,I,_,k,w,M,N,T,E,O,j,x,D,P,q,C,J,R,A,L,z,B,F,V,G,K,Q,U,W,X=JSON.parse(n||"{}"),Z=X.agentId,$=void 0===Z?"":Z,ll=X.chatModelId,el=void 0===ll?"":ll,nl=X.multimedia,ul=void 0===nl?[]:nl,vl="";1===ul.length&&(vl=ul[0].type),ul.length>1&&(vl="multipleType");var ol=null==a||null===(s=a.tags)||void 0===s||null===(s=s.d1)||void 0===s||null===(d=s.split)||void 0===d?void 0:d.call(s,"/").reverse()[0],il="1"===sessionStorage.getItem(r.isMannualStopSpeaking),tl="1"===sessionStorage.getItem(r.isInterrupt),al="done";tl?al="interrupt":il?al="manualStop":1===(null==a||null===(c=a.values)||void 0===c?void 0:c.v24)?al="done":2===(null==a||null===(p=a.values)||void 0===p?void 0:p.v24)?al="sensitive":3===(null==a||null===(f=a.values)||void 0===f?void 0:f.v24)&&(al="error"),sessionStorage.setItem(r.isMannualStopSpeaking,""),sessionStorage.setItem(r.isInterrupt,"");var rl=$,sl=[u.Ng,u.tI].includes(el)?"1":"0",dl=sessionStorage.getItem(r.internetSearch),cl=vl,pl=null!=a&&null!==(m=a.values)&&void 0!==m&&m.v21?(null==a||null===(h=a.values)||void 0===h?void 0:h.v21)-(null==a||null===(g=a.values)||void 0===g?void 0:g.v7):0,fl=(null==a||null===(y=a.values)||void 0===y?void 0:y.v20)||void 0,ml=al,hl=(null==a||null===(S=a.values)||void 0===S?void 0:S.v9)-(null==a||null===(H=a.values)||void 0===H?void 0:H.v7),gl=null!=a&&null!==(Y=a.values)&&void 0!==Y&&Y.v22?(null==a||null===(b=a.values)||void 0===b?void 0:b.v22)-(null==a||null===(I=a.values)||void 0===I?void 0:I.v7):0,yl=null!=a&&null!==(_=a.values)&&void 0!==_&&_.v22?(null==a||null===(k=a.values)||void 0===k?void 0:k.v8)-(null==a||null===(w=a.values)||void 0===w?void 0:w.v10):0,Sl=null!=a&&null!==(M=a.values)&&void 0!==M&&M.v23&&null!=a&&null!==(N=a.values)&&void 0!==N&&N.v22?(null==a||null===(T=a.values)||void 0===T?void 0:T.v23)-(null==a||null===(E=a.values)||void 0===E?void 0:E.v22):0,Hl=null!=a&&null!==(O=a.values)&&void 0!==O&&O.v22?(null==a||null===(j=a.values)||void 0===j?void 0:j.v22)-(null==a||null===(x=a.values)||void 0===x?void 0:x.v10):0,Yl=(null==a||null===(D=a.values)||void 0===D?void 0:D.v10)-(null==a||null===(P=a.values)||void 0===P?void 0:P.v7),bl=(null==a||null===(q=a.values)||void 0===q?void 0:q.v25)||0,Il=null==a||null===(C=a.values)||void 0===C?void 0:C.v2,_l=null==a||null===(J=a.values)||void 0===J?void 0:J.v3,kl=null==a||null===(R=a.values)||void 0===R?void 0:R.v4,wl=null==a||null===(A=a.values)||void 0===A?void 0:A.v5,Ml=null==a||null===(L=a.values)||void 0===L?void 0:L.v6,Nl=null==a||null===(z=a.values)||void 0===z?void 0:z.v30,Tl=null==a||null===(B=a.values)||void 0===B?void 0:B.v12,El=null==a||null===(F=a.values)||void 0===F?void 0:F.v13,Ol=null==a||null===(V=a.values)||void 0===V?void 0:V.v14,jl=null==a||null===(G=a.values)||void 0===G?void 0:G.v15,xl=null==a||null===(K=a.values)||void 0===K?void 0:K.v16,Dl=null==a||null===(Q=a.values)||void 0===Q?void 0:Q.v31,Pl=(null==a||null===(U=a.values)||void 0===U?void 0:U.d20)||"",ql=ol,Cl=sessionStorage.getItem(r.chatTraceId||(null===(W=v.match(/x-traceid:\s*([a-f0-9]+)/i))||void 0===W?void 0:W[1])||"");t({HY20:rl,HY501:sl,HY502:dl,HY503:cl,HY505:pl,HY506:fl,HY509:ml,HY510:hl,HY511:gl,HY512:yl,HY513:Sl,HY515:Hl,HY516:Yl,HY517:"/api/chat",HY519:bl,HY522:Il,HY523:_l,HY524:kl,HY525:wl,HY526:Ml,HY527:Nl,HY528:Tl,HY529:El,HY530:Ol,HY531:jl,HY532:xl,HY533:Dl,HY54:ql,HY55:Cl,HY91:el,HY534:"2.10.0",HY535:Pl})}catch(l){}return a}};(0,v.initLLMMonitor)(a)})),d=function(l){try{return l.split("\n").filter(Boolean).map((function(l){return l.trim()}))}catch(l){return[]}},c=function(l){try{var e=l.match(/data:\s*({[\s\S]*})/);return e?JSON.parse(e[1]):JSON.parse(l)}catch(l){return{}}}}}]);
//# sourceMappingURL=sourcemap/3288.7de9386dc56d1aa39b37.js.map