import{r as y,j as n,R as C,m as M,s as N,c as F}from"./vendor-27e4f49f.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(e){if(e.ep)return;e.ep=!0;const s=a(e);fetch(e.href,s)}})();function S(t){if(!t)return null;const o=P(t);if(o===-1)return null;const a=t.substring(o),l=H(a);return l?A(l):null}function P(t){const o=[{pattern:/<h[3-4][^>]*>[^<]*?口诀[^<]*?<\/h[3-4]>/gi,priority:1,name:"h3/h4口诀"},{pattern:/<strong[^>]*>[^<]*?口诀[^<]*?<\/strong>/gi,priority:2,name:"strong口诀"},{pattern:/<h[3-4][^>]*>[^<]*?记忆技巧[^<]*?<\/h[3-4]>/gi,priority:3,name:"h3/h4记忆技巧"},{pattern:/<strong[^>]*>[^<]*?记忆技巧[^<]*?<\/strong>/gi,priority:4,name:"strong记忆技巧"},{pattern:/<h[3-4][^>]*>[^<]*?记忆核心要义[^<]*?<\/h[3-4]>/gi,priority:5,name:"h3/h4记忆核心要义"},{pattern:/<strong[^>]*>[^<]*?记忆核心要义[^<]*?<\/strong>/gi,priority:6,name:"strong记忆核心要义"},{pattern:/<h[3-4][^>]*>[^<]*?核心要义[^<]*?<\/h[3-4]>/gi,priority:7,name:"h3/h4核心要义"},{pattern:/<strong[^>]*>[^<]*?核心要义[^<]*?<\/strong>/gi,priority:8,name:"strong核心要义"}];let a=-1,l=999,e=null;for(const{pattern:s,priority:i,name:h}of o){let g;for(;(g=s.exec(t))!==null;){const m=g.index+g[0].length,f=t.substring(m),u=q(f);console.log(`找到 ${h} 触发词，位置: ${m}, 内容: ${g[0]}, 有效引号: ${u}`),u&&i<l&&(a=m,l=i,e=h,console.log(`更新最佳匹配: ${h}, 位置: ${m}`))}s.lastIndex=0}return e&&console.log(`最终选择: ${e}, 位置: ${a}`),a}function q(t){const o=H(t);if(!o)return!1;const a=A(o),l=[/^[a-z-_]+(__[a-z-_]+)*$/i,/^[a-zA-Z0-9-_\/\.]+$/,/^\d+(\.\d+)?%?$/,/^[<>\/=\s]+$/,/^[a-zA-Z\s]+$/];for(const s of l)if(s.test(a))return!1;return/[\u4e00-\u9fa5]/.test(a)&&a.length>=4&&a.length<200}function H(t){let o=null,a=1/0;const l=[{start:34,end:34},{start:8220,end:8221},{start:12300,end:12301},{start:65294,end:65294}];for(const e of l){let s=-1;for(let i=0;i<t.length;i++)if(t.charCodeAt(i)===e.start){s=i;break}if(s!==-1){for(let i=s+1;i<t.length;i++)if(t.charCodeAt(i)===e.end){s<a&&(a=s,o=t.substring(s+1,i));break}}}return o}function A(t){if(!t)return"";let o=t.replace(/<[^>]*>/g,"");return o=o.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/[\u200B\uFEFF]/g,"").replace(/\s+/g," ").trim(),o}function D({notes:t,selectNote:o,isSidebarOpen:a,selectedNote:l,setIsSidebarOpen:e}){const[s,i]=y.useState(""),[h,g]=y.useState(!0),m=()=>{e(!a)},f=t.filter(r=>{const x=r.title||"Untitled",p=r.content||"",c=s.toLowerCase();return x.toLowerCase().includes(c)||p.toLowerCase().includes(c)}),u=r=>h?S(r.content):null,d=t.filter(r=>S(r.content)).length;return n.jsxs("div",{children:[n.jsx("button",{className:"fixed bottom-4 right-4 z-50 p-3 bg-blue-500 text-white rounded-full shadow-lg md:hidden",onClick:m,children:a?"Close":"Open"}),n.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-lg transform transition-transform ${a?"translate-x-0 z-10":"-translate-x-full"} md:translate-x-0 md:relative md:block`,children:[n.jsxs("div",{className:"p-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Notes"}),n.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["总共 ",t.length," 条笔记",h&&n.jsxs("span",{children:[" | 包含口诀: ",d," 条"]})]}),n.jsx("button",{onClick:()=>g(!h),className:`w-full mt-2 p-2 rounded-md text-sm font-medium transition-colors ${h?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:h?"🧠 口诀模式 (开启)":"🧠 口诀模式 (关闭)"}),n.jsx("input",{type:"text",placeholder:"Search notes...",className:"w-full mt-2 p-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:r=>i(r.target.value)})]}),n.jsx("ul",{className:"overflow-y-auto h-[calc(100vh-200px)]",children:f.length>0?f.map(r=>{const x=u(r);return n.jsxs("li",{className:`p-4 cursor-pointer hover:bg-gray-100 ${l&&l.id===r.id?"bg-gray-200":""}`,onClick:()=>o(r),children:[n.jsx("span",{className:"text-sm",children:r.title||"Untitled"}),x&&n.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border-l-3 border-yellow-400 rounded",children:n.jsx("p",{className:"text-xs text-yellow-800 font-medium",children:x})}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(r.createdAt).toLocaleString()})]},r.id)}):n.jsx("li",{className:"p-4 text-sm text-gray-500",children:h?"No notes with mnemonics found":"No notes found"})})]})]})}const T=C.memo(({chart:t,id:o})=>{const a=y.useRef(null),l=e=>e&&e.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\\/g,"\\\\").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"\\n").replace(/\r/g,"\\r");return y.useEffect(()=>{M.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:'"trebuchet ms", verdana, arial, sans-serif',flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"linear"}})},[]),y.useEffect(()=>{if(!t||!a.current)return;const e=a.current;if(e.dataset.rendering==="true")return;e.dataset.rendering="true",(async()=>{try{console.log("Rendering Mermaid chart:",t),e.innerHTML="";const i=`mermaid-${o||Math.random().toString(36).substr(2,9)}`;let h=t.trim();h=h.replace(/(\[)([^\]]*?)(\])/g,(f,u,d,r)=>u+l(d)+r),h=h.replace(/(\()([^)]*?)(\))/g,(f,u,d,r)=>u+l(d)+r),h=h.replace(/(\|)([^|]*?)(\|)/g,(f,u,d,r)=>u+l(d)+r),(h.startsWith("graph ")||h.startsWith("flowchart "))&&!h.includes(`
`)&&(h=h.replace(/(graph\s+\w+|flowchart\s+\w+)\s+(.+)/,(f,u,d)=>{const r=d.replace(/\s+([A-Z0-9]+(?:\[[^\]]+\]|\([^)]+\))?)\s+-->/g,`
    $1 -->`).replace(/-->\s*\|([^|]+)\|\s*([A-Z0-9]+(?:\[[^\]]+\]|\([^)]+\))?)/g,"-->|$1| $2");return u+r})),console.log("Processed chart:",h);try{await M.parse(h)}catch(f){console.warn("Mermaid parse validation failed, but continuing with render:",f)}const{svg:g}=await M.render(i,h);console.log("Mermaid render successful, SVG length:",g.length),e.innerHTML=g,console.log("Container after SVG insertion:",e),console.log("Container innerHTML length:",e.innerHTML.length);const m=e.querySelector("svg");m?(m.style.maxWidth="100%",m.style.height="auto",m.style.display="block",m.style.visibility="visible",console.log("SVG element configured successfully"),console.log("SVG dimensions:",{width:m.getAttribute("width"),height:m.getAttribute("height"),viewBox:m.getAttribute("viewBox")})):console.error("SVG element not found after insertion"),e.dataset.rendering="false"}catch(i){console.error("Mermaid rendering error:",i),console.error("Original chart content:",t),console.error("Processed chart content:",processedChart||t),e.dataset.rendering="false",e.innerHTML=`
          <div style="
            color: #d73a49; 
            background: #ffeef0; 
            border: 1px solid #fdaeb7; 
            border-radius: 6px; 
            padding: 16px; 
            margin: 10px 0;
            font-family: monospace;
          ">
            <strong>Diagram Error:</strong><br/>
            ${i.message.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}
            <details style="margin-top: 8px;">
              <summary>Show original diagram code</summary>
              <pre style="margin-top: 8px; white-space: pre-wrap;">${t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}</pre>
            </details>
            <details style="margin-top: 8px;">
              <summary>Show processed diagram code</summary>
              <pre style="margin-top: 8px; white-space: pre-wrap;">${(processedChart||t).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}</pre>
            </details>
          </div>
        `}})()},[t,o]),n.jsx("div",{ref:a,className:"mermaid-diagram",style:{textAlign:"center",maxWidth:"100%",overflow:"auto",margin:"20px 0",minHeight:"100px"}})});function R(){const t=`
    <code class="language-mermaid">
      <span class="hljs-selector-tag">graph</span> <span class="hljs-selector-tag">LR</span>  
      <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[可能性]</span> <span class="hljs-comment">--&gt;|最低| D[高度可能性]&lt;br&gt;（50%+）</span>
      <span class="hljs-selector-tag">A</span> <span class="hljs-comment">--&gt;|中级| E[排除合理怀疑]&lt;br&gt;（90%+）</span>
      <span class="hljs-selector-tag">A</span> <span class="hljs-comment">--&gt;|最高| F[排除一切怀疑]&lt;br&gt;（100%）</span>
    </code>
  `;console.log("=== 开始测试 Mermaid 提取 (包含<br>标签) ==="),console.log("测试HTML:",t);const l=new DOMParser().parseFromString(t,"text/html").querySelector(".language-mermaid");if(l){console.log("找到 mermaid 元素，开始提取...");const e=E(l.innerHTML);return console.log("=== 提取完成 ==="),console.log("提取的 Mermaid 代码:"),console.log(e),console.log("预期结果应该是干净的 Mermaid 语法，无 HTML 标签，<br>应转换为换行"),e}else console.log("未找到 mermaid 元素");return null}typeof window<"u"&&(window.testMermaidHelper=R,console.log("已注册全局测试函数: window.testMermaidHelper()"));function E(t){if(console.log("=== cleanMermaidCode 开始处理 ==="),console.log("Raw Mermaid code input:",t),console.log("Raw code type:",typeof t),console.log("Raw code length:",t==null?void 0:t.length),!t||typeof t!="string")return console.log("Invalid input, returning empty string"),"";let o=t;if(t.includes("<")&&t.includes(">")){console.log("检测到HTML标签，开始去除...");let l=t.replace(/<br\s*\/?>/gi," ").replace(/&lt;br\s*\/?&gt;/gi," ");console.log("预处理后（br标签转换为空格）:",l);const e=document.createElement("div");e.innerHTML=l,o=e.textContent||e.innerText||"",console.log("HTML标签去除后:",o)}const a=o.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/[ \t]+/g," ").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`).map(l=>{const e=l.trim();if(e.length===0)return null;console.log("处理行:",e);const s=e.match(/^(\w+\[)([^\]]+)(\]\s*-->.*?\s+\w+\[)([^\]]+)(\])\s+([（(][^）)]*[）)])$/);if(s){const i=`${s[1]}${s[2]}${s[3]}${s[4]}${s[6]}${s[5]}`;return console.log("修复后:",i),i}return e}).filter(l=>l!==null&&l.length>0).join(`
`).trim();return console.log("最终清理后的 Mermaid 代码:"),console.log(a),console.log("最终代码长度:",a.length),(a.includes("<")||a.includes(">"))&&console.warn("警告：清理后的代码仍包含HTML标签:",a),console.log("=== cleanMermaidCode 处理完成 ==="),a}function I({note:t,onClick:o}){const[a,l]=y.useState(""),[e,s]=y.useState([]);y.useEffect(()=>{if(!t||!t.content){l(""),s([]);return}const r=new DOMParser().parseFromString(t.content,"text/html"),x=r.querySelectorAll(".language-mermaid, code.language-mermaid"),p=[];x.forEach((c,_)=>{console.log(`Processing Mermaid element ${_}:`,c);let b=c.innerHTML||c.textContent||c.innerText;console.log(`Raw HTML for chart ${_}:`,b);const w=E(b);if(w&&w.trim().length>0){const v=`mermaid-chart-${_}`;p.push({id:v,code:w}),console.log(`Successfully extracted Mermaid chart ${v}:`,w);let j=c.closest(".hyc-common-markdown__code-mermaid")||c.closest(".hyc-common-markdown__code-mermaid-show-svg")||c.closest(".hyc-common-markdown__code")||c.closest("pre")||c.parentElement;if(j){const $=r.createElement("div");$.className="mermaid-placeholder",$.setAttribute("data-chart-id",v),$.style.cssText="min-height: 200px; text-align: center; padding: 20px; border: 1px solid #e1e5e9; border-radius: 6px; margin: 20px 0; background-color: #f6f8fa;",$.innerHTML=`<div style="color: #666;">Loading Mermaid diagram ${_+1}...</div>`,j.parentNode.replaceChild($,j)}}else console.warn(`No valid Mermaid code found in element ${_}`)}),console.log(`Found ${p.length} Mermaid charts in total`),s(c=>c.length!==p.length||c.some((b,w)=>p[w]&&(b.id!==p[w].id||b.code!==p[w].code))?p:c),l(r.body.innerHTML)},[t]);const i=()=>e.map(d=>n.jsx("div",{id:d.id,style:{margin:"20px 0"},children:n.jsx(T,{chart:d.code,id:d.id})},d.id)),h=()=>{if(!a)return n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:a}});if(e.length===0)return n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:a}});const x=new DOMParser().parseFromString(a,"text/html").querySelectorAll(".mermaid-placeholder"),p=[];if(x.length===0)p.push(n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:a}},"main-content")),p.push(...i());else{let c=a;e.forEach((_,b)=>{const w=new RegExp(`<div[^>]*class="[^"]*mermaid-placeholder[^"]*"[^>]*data-chart-id="${_.id}"[^>]*>.*?</div>`,"g");if(w.test(c)){const v=c.split(w);v[0]&&p.push(n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:v[0]}},`content-before-${b}`)),p.push(n.jsx("div",{style:{margin:"20px 0"},children:n.jsx(T,{chart:_.code,id:_.id})},_.id)),c=v.slice(1).join("")}}),c&&p.push(n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:c}},"remaining-content"))}return p};if(!t)return n.jsx("div",{className:"text-gray-500",onClick:o,children:"Select a note to view"});const m=(()=>!t||!t.content?"reasoner":t.content.includes("hyc-component-text")?"text":(t.content.includes("hyc-component-reasoner__text"),"reasoner"))(),f=()=>n.jsx("div",{className:"yb-layout__content agent-layout__content",onClick:o,children:n.jsx("div",{className:"agent-dialogue",children:n.jsx("div",{className:"agent-dialogue__content-wrapper",children:n.jsx("div",{className:"agent-dialogue__content",children:n.jsx("div",{className:"agent-dialogue__content--common",children:n.jsx("div",{className:"agent-dialogue__content--common__content",id:"chat-content",children:n.jsx("div",{className:"agent-chat__list agent-chat__list__deepseek",children:n.jsx("div",{className:"agent-chat__list__content-wrapper",children:n.jsxs("div",{className:"agent-chat__list__content",style:{marginRight:"0px"},children:[n.jsx("div",{className:"agent-chat__list__item agent-chat__list__item--ai agent-chat__list__item--last p-0","data-conv-idx":"158","data-conv-speaker":"ai","data-conv-speech-mode":"0","data-conv-sensitive":"false",children:n.jsx("div",{className:"",children:n.jsx("div",{className:"agent-chat__speech-text--box agent-chat__speech-text--box-left",style:{width:"100%"},children:n.jsx("div",{className:"agent-chat__speech-text",children:n.jsx("div",{className:"hyc-component-text",children:h()})})})})}),n.jsx("div",{className:"agent-chat__list__placeholder"})]})})})})})})})})}),u=()=>n.jsx("div",{className:"yb-layout__content agent-layout__content",onClick:o,children:n.jsx("div",{className:"agent-dialogue",children:n.jsx("div",{className:"agent-dialogue__content-wrapper",children:n.jsx("div",{className:"agent-dialogue__content",children:n.jsx("div",{className:"agent-dialogue__content--common",children:n.jsx("div",{className:"agent-dialogue__content--common__content",id:"chat-content",children:n.jsx("div",{className:"agent-chat__list",children:n.jsx("div",{className:"agent-chat__list__content-wrapper",children:n.jsxs("div",{className:"agent-chat__list__content",style:{marginRight:"0px"},children:[n.jsx("div",{className:"agent-chat__list__item agent-chat__list__item--ai agent-chat__list__item--last p-0","data-conv-idx":"158","data-conv-speaker":"ai","data-conv-speech-mode":"0","data-conv-sensitive":"false","data-conv-id":"b5e1d739-7f95-4221-bc59-0c8cf5dda717_158",children:n.jsx("div",{className:"agent-chat__list__item__content",children:n.jsx("div",{className:"agent-chat__bubble agent-chat__bubble--ai",children:n.jsx("div",{className:"agent-chat__bubble__content",children:n.jsx("div",{className:"agent-chat__conv--ai__speech_show","data-conv-index":"79","data-speech-index":"0",children:n.jsx("div",{className:"hyc-component-reasoner",children:h()})})})})})}),n.jsx("div",{className:"agent-chat__list__placeholder"})]})})})})})})})})});return m==="text"?f():u()}function k(t){const l=new DOMParser().parseFromString(t,"text/html").querySelector("h3"),e=["法考知识点解析：","核心知识点：","总标题："],s=new RegExp(`^[\\s\\u200B\\uFEFF]*(${e.map(i=>i.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")).join("|")})`);return l&&s.test(l.textContent)&&(l.textContent=l.textContent.replace(s,"")),l?l.textContent.trim():"Untitled"}const O=[{file:"note-20250802131841.html",title:"note-20250802131841.html",date:"20250802131841",path:"/notes/note-20250802131841.html"},{file:"note-20250802131817.html",title:"note-20250802131817.html",date:"20250802131817",path:"/notes/note-20250802131817.html"},{file:"note-20250802112054.html",title:"note-20250802112054.html",date:"20250802112054",path:"/notes/note-20250802112054.html"},{file:"note-20250801103327.html",title:"note-20250801103327.html",date:"20250801103327",path:"/notes/note-20250801103327.html"},{file:"note-20250801094924.html",title:"note-20250801094924.html",date:"20250801094924",path:"/notes/note-20250801094924.html"},{file:"note-20250731031510.html",title:"note-20250731031510.html",date:"20250731031510",path:"/notes/note-20250731031510.html"},{file:"note-20250731031504.html",title:"note-20250731031504.html",date:"20250731031504",path:"/notes/note-20250731031504.html"},{file:"note-20250731031458.html",title:"note-20250731031458.html",date:"20250731031458",path:"/notes/note-20250731031458.html"},{file:"note-20250730072004.html",title:"note-20250730072004.html",date:"20250730072004",path:"/notes/note-20250730072004.html"},{file:"note-20250730071940.html",title:"note-20250730071940.html",date:"20250730071940",path:"/notes/note-20250730071940.html"},{file:"note-20250729094333.html",title:"note-20250729094333.html",date:"20250729094333",path:"/notes/note-20250729094333.html"},{file:"note-20250729075316.html",title:"note-20250729075316.html",date:"20250729075316",path:"/notes/note-20250729075316.html"},{file:"note-20250729065050.html",title:"note-20250729065050.html",date:"20250729065050",path:"/notes/note-20250729065050.html"},{file:"note-20250729064313.html",title:"note-20250729064313.html",date:"20250729064313",path:"/notes/note-20250729064313.html"},{file:"note-20250729063803.html",title:"note-20250729063803.html",date:"20250729063803",path:"/notes/note-20250729063803.html"},{file:"note-20250729063315.html",title:"note-20250729063315.html",date:"20250729063315",path:"/notes/note-20250729063315.html"},{file:"note-20250729062202.html",title:"note-20250729062202.html",date:"20250729062202",path:"/notes/note-20250729062202.html"},{file:"note-20250729062027.html",title:"note-20250729062027.html",date:"20250729062027",path:"/notes/note-20250729062027.html"},{file:"note-20250729060518.html",title:"note-20250729060518.html",date:"20250729060518",path:"/notes/note-20250729060518.html"},{file:"note-20250728111850.html",title:"note-20250728111850.html",date:"20250728111850",path:"/notes/note-20250728111850.html"},{file:"note-20250728111310.html",title:"note-20250728111310.html",date:"20250728111310",path:"/notes/note-20250728111310.html"},{file:"note-20250728111226.html",title:"note-20250728111226.html",date:"20250728111226",path:"/notes/note-20250728111226.html"},{file:"note-20250728111204.html",title:"note-20250728111204.html",date:"20250728111204",path:"/notes/note-20250728111204.html"},{file:"note-20250728111123.html",title:"note-20250728111123.html",date:"20250728111123",path:"/notes/note-20250728111123.html"},{file:"note-20250728111045.html",title:"note-20250728111045.html",date:"20250728111045",path:"/notes/note-20250728111045.html"},{file:"note-20250728111035.html",title:"note-20250728111035.html",date:"20250728111035",path:"/notes/note-20250728111035.html"},{file:"note-20250728111009.html",title:"note-20250728111009.html",date:"20250728111009",path:"/notes/note-20250728111009.html"},{file:"note-20250728105255.html",title:"note-20250728105255.html",date:"20250728105255",path:"/notes/note-20250728105255.html"},{file:"note-20250728105213.html",title:"note-20250728105213.html",date:"20250728105213",path:"/notes/note-20250728105213.html"},{file:"note-20250728104912.html",title:"note-20250728104912.html",date:"20250728104912",path:"/notes/note-20250728104912.html"},{file:"note-20250728104757.html",title:"note-20250728104757.html",date:"20250728104757",path:"/notes/note-20250728104757.html"},{file:"note-20250728104734.html",title:"note-20250728104734.html",date:"20250728104734",path:"/notes/note-20250728104734.html"},{file:"note-20250728104711.html",title:"note-20250728104711.html",date:"20250728104711",path:"/notes/note-20250728104711.html"},{file:"note-20250728104634.html",title:"note-20250728104634.html",date:"20250728104634",path:"/notes/note-20250728104634.html"},{file:"note-20250728104605.html",title:"note-20250728104605.html",date:"20250728104605",path:"/notes/note-20250728104605.html"},{file:"note-20250728104016.html",title:"note-20250728104016.html",date:"20250728104016",path:"/notes/note-20250728104016.html"},{file:"note-20250726100637.html",title:"note-20250726100637.html",date:"20250726100637",path:"/notes/note-20250726100637.html"},{file:"note-20250726100559.html",title:"note-20250726100559.html",date:"20250726100559",path:"/notes/note-20250726100559.html"},{file:"note-20250726100203.html",title:"note-20250726100203.html",date:"20250726100203",path:"/notes/note-20250726100203.html"},{file:"note-20250726100133.html",title:"note-20250726100133.html",date:"20250726100133",path:"/notes/note-20250726100133.html"},{file:"note-20250726100032.html",title:"note-20250726100032.html",date:"20250726100032",path:"/notes/note-20250726100032.html"},{file:"note-20250726095959.html",title:"note-20250726095959.html",date:"20250726095959",path:"/notes/note-20250726095959.html"},{file:"note-20250726095907.html",title:"note-20250726095907.html",date:"20250726095907",path:"/notes/note-20250726095907.html"},{file:"note-20250726095859.html",title:"note-20250726095859.html",date:"20250726095859",path:"/notes/note-20250726095859.html"},{file:"note-20250726095829.html",title:"note-20250726095829.html",date:"20250726095829",path:"/notes/note-20250726095829.html"},{file:"note-20250726095754.html",title:"note-20250726095754.html",date:"20250726095754",path:"/notes/note-20250726095754.html"},{file:"note-20250726095718.html",title:"note-20250726095718.html",date:"20250726095718",path:"/notes/note-20250726095718.html"},{file:"note-20250725082331.html",title:"note-20250725082331.html",date:"20250725082331",path:"/notes/note-20250725082331.html"},{file:"note-20250725070237.html",title:"note-20250725070237.html",date:"20250725070237",path:"/notes/note-20250725070237.html"},{file:"note-20250725032720.html",title:"note-20250725032720.html",date:"20250725032720",path:"/notes/note-20250725032720.html"},{file:"note-20250725031705.html",title:"note-20250725031705.html",date:"20250725031705",path:"/notes/note-20250725031705.html"},{file:"note-20250725025535.html",title:"note-20250725025535.html",date:"20250725025535",path:"/notes/note-20250725025535.html"},{file:"note-20250725024938.html",title:"note-20250725024938.html",date:"20250725024938",path:"/notes/note-20250725024938.html"},{file:"note-20250724095941.html",title:"note-20250724095941.html",date:"20250724095941",path:"/notes/note-20250724095941.html"},{file:"note-20250724081159.html",title:"note-20250724081159.html",date:"20250724081159",path:"/notes/note-20250724081159.html"},{file:"note-20250724080457.html",title:"note-20250724080457.html",date:"20250724080457",path:"/notes/note-20250724080457.html"},{file:"note-20250723111607.html",title:"note-20250723111607.html",date:"20250723111607",path:"/notes/note-20250723111607.html"},{file:"note-20250723111519.html",title:"note-20250723111519.html",date:"20250723111519",path:"/notes/note-20250723111519.html"},{file:"note-20250723105115.html",title:"note-20250723105115.html",date:"20250723105115",path:"/notes/note-20250723105115.html"},{file:"note-20250723104034.html",title:"note-20250723104034.html",date:"20250723104034",path:"/notes/note-20250723104034.html"},{file:"note-20250723103330.html",title:"note-20250723103330.html",date:"20250723103330",path:"/notes/note-20250723103330.html"},{file:"note-20250723103032.html",title:"note-20250723103032.html",date:"20250723103032",path:"/notes/note-20250723103032.html"},{file:"note-20250723085738.html",title:"note-20250723085738.html",date:"20250723085738",path:"/notes/note-20250723085738.html"},{file:"note-20250723084917.html",title:"note-20250723084917.html",date:"20250723084917",path:"/notes/note-20250723084917.html"},{file:"note-20250723083213.html",title:"note-20250723083213.html",date:"20250723083213",path:"/notes/note-20250723083213.html"},{file:"note-20250723075406.html",title:"note-20250723075406.html",date:"20250723075406",path:"/notes/note-20250723075406.html"},{file:"note-20250723075002.html",title:"note-20250723075002.html",date:"20250723075002",path:"/notes/note-20250723075002.html"},{file:"note-20250723025156.html",title:"note-20250723025156.html",date:"20250723025156",path:"/notes/note-20250723025156.html"},{file:"note-20250723020020.html",title:"note-20250723020020.html",date:"20250723020020",path:"/notes/note-20250723020020.html"},{file:"note-20250723015952.html",title:"note-20250723015952.html",date:"20250723015952",path:"/notes/note-20250723015952.html"},{file:"note-20250722110003.html",title:"note-20250722110003.html",date:"20250722110003",path:"/notes/note-20250722110003.html"},{file:"note-20250722092757.html",title:"note-20250722092757.html",date:"20250722092757",path:"/notes/note-20250722092757.html"},{file:"note-20250722092633.html",title:"note-20250722092633.html",date:"20250722092633",path:"/notes/note-20250722092633.html"},{file:"note-20250722081447.html",title:"note-20250722081447.html",date:"20250722081447",path:"/notes/note-20250722081447.html"},{file:"note-20250722073352.html",title:"note-20250722073352.html",date:"20250722073352",path:"/notes/note-20250722073352.html"},{file:"note-20250722031600.html",title:"note-20250722031600.html",date:"20250722031600",path:"/notes/note-20250722031600.html"},{file:"note-20250722025426.html",title:"note-20250722025426.html",date:"20250722025426",path:"/notes/note-20250722025426.html"},{file:"note-20250721104603.html",title:"note-20250721104603.html",date:"20250721104603",path:"/notes/note-20250721104603.html"},{file:"note-20250721102718.html",title:"note-20250721102718.html",date:"20250721102718",path:"/notes/note-20250721102718.html"},{file:"note-20250721101231.html",title:"note-20250721101231.html",date:"20250721101231",path:"/notes/note-20250721101231.html"},{file:"note-20250721100913.html",title:"note-20250721100913.html",date:"20250721100913",path:"/notes/note-20250721100913.html"},{file:"note-20250721091214.html",title:"note-20250721091214.html",date:"20250721091214",path:"/notes/note-20250721091214.html"},{file:"note-20250721074722.html",title:"note-20250721074722.html",date:"20250721074722",path:"/notes/note-20250721074722.html"},{file:"note-20250721074143.html",title:"note-20250721074143.html",date:"20250721074143",path:"/notes/note-20250721074143.html"},{file:"note-20250721074025.html",title:"note-20250721074025.html",date:"20250721074025",path:"/notes/note-20250721074025.html"},{file:"note-20250721073926.html",title:"note-20250721073926.html",date:"20250721073926",path:"/notes/note-20250721073926.html"},{file:"note-20250721073810.html",title:"note-20250721073810.html",date:"20250721073810",path:"/notes/note-20250721073810.html"},{file:"note-20250721073640.html",title:"note-20250721073640.html",date:"20250721073640",path:"/notes/note-20250721073640.html"},{file:"note-20250721073507.html",title:"note-20250721073507.html",date:"20250721073507",path:"/notes/note-20250721073507.html"},{file:"note-20250721073005.html",title:"note-20250721073005.html",date:"20250721073005",path:"/notes/note-20250721073005.html"},{file:"note-20250721072737.html",title:"note-20250721072737.html",date:"20250721072737",path:"/notes/note-20250721072737.html"},{file:"note-20250721072610.html",title:"note-20250721072610.html",date:"20250721072610",path:"/notes/note-20250721072610.html"},{file:"note-20250721015120.html",title:"note-20250721015120.html",date:"20250721015120",path:"/notes/note-20250721015120.html"},{file:"note-20250718094524.html",title:"note-20250718094524.html",date:"20250718094524",path:"/notes/note-20250718094524.html"},{file:"note-20250718093513.html",title:"note-20250718093513.html",date:"20250718093513",path:"/notes/note-20250718093513.html"},{file:"note-20250717101401.html",title:"note-20250717101401.html",date:"20250717101401",path:"/notes/note-20250717101401.html"},{file:"note-20250717091815.html",title:"note-20250717091815.html",date:"20250717091815",path:"/notes/note-20250717091815.html"},{file:"note-20250716083941.html",title:"note-20250716083941.html",date:"20250716083941",path:"/notes/note-20250716083941.html"},{file:"note-20250715082812.html",title:"note-20250715082812.html",date:"20250715082812",path:"/notes/note-20250715082812.html"},{file:"note-20250715080926.html",title:"note-20250715080926.html",date:"20250715080926",path:"/notes/note-20250715080926.html"},{file:"note-20250715055352.html",title:"note-20250715055352.html",date:"20250715055352",path:"/notes/note-20250715055352.html"},{file:"note-20250715035936.html",title:"note-20250715035936.html",date:"20250715035936",path:"/notes/note-20250715035936.html"},{file:"note-20250715033712.html",title:"note-20250715033712.html",date:"20250715033712",path:"/notes/note-20250715033712.html"},{file:"note-20250715031157.html",title:"note-20250715031157.html",date:"20250715031157",path:"/notes/note-20250715031157.html"},{file:"note-20250715023337.html",title:"note-20250715023337.html",date:"20250715023337",path:"/notes/note-20250715023337.html"},{file:"note-20250715022815.html",title:"note-20250715022815.html",date:"20250715022815",path:"/notes/note-20250715022815.html"},{file:"note-20250715022258.html",title:"note-20250715022258.html",date:"20250715022258",path:"/notes/note-20250715022258.html"},{file:"note-20250623101311.html",title:"note-20250623101311.html",date:"20250623101311",path:"/notes/note-20250623101311.html"},{file:"note-20250623091430.html",title:"note-20250623091430.html",date:"20250623091430",path:"/notes/note-20250623091430.html"},{file:"note-20250623085247.html",title:"note-20250623085247.html",date:"20250623085247",path:"/notes/note-20250623085247.html"},{file:"note-20250612054431.html",title:"note-20250612054431.html",date:"20250612054431",path:"/notes/note-20250612054431.html"},{file:"note-20250612024743.html",title:"note-20250612024743.html",date:"20250612024743",path:"/notes/note-20250612024743.html"},{file:"note-20250604100505.html",title:"note-20250604100505.html",date:"20250604100505",path:"/notes/note-20250604100505.html"},{file:"note-20250604082643.html",title:"note-20250604082643.html",date:"20250604082643",path:"/notes/note-20250604082643.html"},{file:"note-20250604055426.html",title:"note-20250604055426.html",date:"20250604055426",path:"/notes/note-20250604055426.html"},{file:"note-20250523095024.html",title:"note-20250523095024.html",date:"20250523095024",path:"/notes/note-20250523095024.html"},{file:"note-20250523063058.html",title:"note-20250523063058.html",date:"20250523063058",path:"/notes/note-20250523063058.html"},{file:"note-20250523062959.html",title:"note-20250523062959.html",date:"20250523062959",path:"/notes/note-20250523062959.html"},{file:"note-20250523053933.html",title:"note-20250523053933.html",date:"20250523053933",path:"/notes/note-20250523053933.html"},{file:"note-20250523053858.html",title:"note-20250523053858.html",date:"20250523053858",path:"/notes/note-20250523053858.html"},{file:"note-20250523053848.html",title:"note-20250523053848.html",date:"20250523053848",path:"/notes/note-20250523053848.html"},{file:"note-20250523053810.html",title:"note-20250523053810.html",date:"20250523053810",path:"/notes/note-20250523053810.html"},{file:"note-20250523053747.html",title:"note-20250523053747.html",date:"20250523053747",path:"/notes/note-20250523053747.html"},{file:"note-20250523053658.html",title:"note-20250523053658.html",date:"20250523053658",path:"/notes/note-20250523053658.html"},{file:"note-20250521065937.html",title:"note-20250521065937.html",date:"20250521065937",path:"/notes/note-20250521065937.html"},{file:"note-20250521065909.html",title:"note-20250521065909.html",date:"20250521065909",path:"/notes/note-20250521065909.html"},{file:"note-20250521065901.html",title:"note-20250521065901.html",date:"20250521065901",path:"/notes/note-20250521065901.html"},{file:"note-20250521065822.html",title:"note-20250521065822.html",date:"20250521065822",path:"/notes/note-20250521065822.html"},{file:"note-20250521065603.html",title:"note-20250521065603.html",date:"20250521065603",path:"/notes/note-20250521065603.html"},{file:"note-20250521065449.html",title:"note-20250521065449.html",date:"20250521065449",path:"/notes/note-20250521065449.html"},{file:"note-20250520032323.html",title:"note-20250520032323.html",date:"20250520032323",path:"/notes/note-20250520032323.html"},{file:"note-20250520031838.html",title:"note-20250520031838.html",date:"20250520031838",path:"/notes/note-20250520031838.html"},{file:"note-20250520011209.html",title:"note-20250520011209.html",date:"20250520011209",path:"/notes/note-20250520011209.html"},{file:"note-20250520005632.html",title:"note-20250520005632.html",date:"20250520005632",path:"/notes/note-20250520005632.html"},{file:"note-20250520005624.html",title:"note-20250520005624.html",date:"20250520005624",path:"/notes/note-20250520005624.html"},{file:"note-20250520005610.html",title:"note-20250520005610.html",date:"20250520005610",path:"/notes/note-20250520005610.html"},{file:"note-20250519101827.html",title:"note-20250519101827.html",date:"20250519101827",path:"/notes/note-20250519101827.html"},{file:"note-20250519091618.html",title:"note-20250519091618.html",date:"20250519091618",path:"/notes/note-20250519091618.html"},{file:"note-20250519091300.html",title:"note-20250519091300.html",date:"20250519091300",path:"/notes/note-20250519091300.html"},{file:"note-20250519010704.html",title:"note-20250519010704.html",date:"20250519010704",path:"/notes/note-20250519010704.html"},{file:"note-20250515015948.html",title:"note-20250515015948.html",date:"20250515015948",path:"/notes/note-20250515015948.html"},{file:"note-20250514110146.html",title:"note-20250514110146.html",date:"20250514110146",path:"/notes/note-20250514110146.html"}];function z(){const[t,o]=y.useState([]),[a,l]=y.useState(null);return y.useEffect(()=>{(async()=>{try{const g=(await Promise.all(O.map(async m=>{const d=await(await fetch(`/yuanbao-note-viewer/${m.path.replace(/^\//,"")}`)).text(),r=N(d,{allowedTags:N.defaults.allowedTags.concat(["h3","table","thead","tbody","tr","th","td","hr","ol","ul","li","blockquote","pre","code","span","svg","g","path","rect","circle","ellipse","polygon","foreignObject","marker","defs","style"]),allowedAttributes:{"*":["class","id","style"],div:["style","data-*"],pre:["class"],code:["class"],span:["class"],svg:["width","height","viewBox","xmlns","role","aria-roledescription","xmlns:xlink","xmlns:ev"],g:["id","class","transform"],path:["d","class","style","fill","stroke","stroke-width","marker-end"],rect:["x","y","width","height","class","style","fill","stroke","rx","ry"],circle:["cx","cy","r","class","style","fill","stroke"],foreignObject:["width","height"],marker:["id","class","viewBox","refX","refY","markerUnits","markerWidth","markerHeight","orient"],table:["style"],th:["style"],td:["style"]},allowedSchemes:["http","https","data"],allowedStyles:{"*":{"font-family":[/^.*$/],"font-size":[/^.*$/],color:[/^.*$/],"line-height":[/^.*$/],padding:[/^.*$/],margin:[/^.*$/],"text-align":[/^.*$/],"font-weight":[/^.*$/],"font-style":[/^.*$/],"background-color":[/^.*$/],border:[/^.*$/],width:[/^.*$/],height:[/^.*$/],"max-width":[/^.*$/],"max-height":[/^.*$/],"white-space":[/^.*$/],"word-break":[/^.*$/],display:[/^.*$/],"box-sizing":[/^.*$/],position:[/^.*$/],top:[/^.*$/],left:[/^.*$/],right:[/^.*$/],bottom:[/^.*$/],transform:[/^.*$/],stroke:[/^.*$/],"stroke-width":[/^.*$/],"stroke-dasharray":[/^.*$/],fill:[/^.*$/],overflow:[/^.*$/]}},transformTags:{style:()=>({tagName:"",attribs:{},text:""})}}),x=k(r),p=L(m.file);return{id:m.file,title:x,content:r,createdAt:p}}))).sort((m,f)=>f.createdAt-m.createdAt);o(g),g.length>0&&l(g[0])}catch(h){console.error("Error loading notes:",h)}})()},[]),{notes:t,selectedNote:a,selectNote:i=>{l(i)},addNote:(i,h)=>{const g=N(h,{allowedTags:N.defaults.allowedTags.concat(["h3","table","thead","tbody","tr","th","td","hr","ol","ul","li","blockquote"]),allowedAttributes:{"*":["class"],div:["style"],table:["style"],th:["style"],td:["style"]},allowedStyles:{"*":{"font-family":[/^.*$/],"font-size":[/^.*$/],color:[/^.*$/],"line-height":[/^.*$/],padding:[/^.*$/],margin:[/^.*$/],"text-align":[/^.*$/],"font-weight":[/^.*$/],"font-style":[/^.*$/],"background-color":[/^.*$/],border:[/^.*$/],width:[/^.*$/],"white-space":[/^.*$/],"word-break":[/^.*$/],display:[/^.*$/],"box-sizing":[/^.*$/]}},transformTags:{style:()=>({tagName:"",attribs:{},text:""})}}),m=k(g),f=L(i)||Date.now(),u={id:i,title:m,content:g,createdAt:f};o(d=>{const r=[u,...d].sort((x,p)=>p.createdAt-x.createdAt);return l(u),r})}}}function L(t){const o=t.match(/note-(\d{14})\.html/);if(!o)return Date.now();const[a,l,e,s,i,h]=[o[1].slice(0,4),o[1].slice(4,6),o[1].slice(6,8),o[1].slice(8,10),o[1].slice(10,12),o[1].slice(12,14)],g=`${a}-${l}-${e}T${s}:${i}:${h}Z`,m=new Date(g);return new Date(m.toLocaleString("en-US",{timeZone:"Asia/Shanghai"})).getTime()}function B(){const{notes:t,selectedNote:o,selectNote:a}=z(),[l,e]=y.useState(!1);return n.jsxs("div",{className:"yb-layout agent-layout layout-pc flex flex-row",children:[n.jsx(D,{notes:t,selectNote:a,selectedNote:o,isSidebarOpen:l,setIsSidebarOpen:e}),n.jsx(I,{note:o,onClick:()=>e(!1)})]})}function V(){return n.jsx(B,{})}F.createRoot(document.getElementById("app")).render(n.jsx(C.StrictMode,{children:n.jsx(V,{})}));
