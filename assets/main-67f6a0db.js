import{r as b,j as n,R as L,m as M,s as N,c as H}from"./vendor-27e4f49f.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function a(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(t){if(t.ep)return;t.ep=!0;const i=a(t);fetch(t.href,i)}})();function S(e){if(!e)return null;const o=q(e);if(o===-1)return null;const a=e.substring(o),l=F(a);return l?A(l):null}function q(e){const o=[{pattern:/<h[3-4][^>]*>[^<]*?口诀[^<]*?<\/h[3-4]>/gi,priority:1,name:"h3/h4口诀"},{pattern:/<strong[^>]*>[^<]*?口诀[^<]*?<\/strong>/gi,priority:2,name:"strong口诀"},{pattern:/<h[3-4][^>]*>[^<]*?记忆技巧[^<]*?<\/h[3-4]>/gi,priority:3,name:"h3/h4记忆技巧"},{pattern:/<strong[^>]*>[^<]*?记忆技巧[^<]*?<\/strong>/gi,priority:4,name:"strong记忆技巧"},{pattern:/<h[3-4][^>]*>[^<]*?记忆核心要义[^<]*?<\/h[3-4]>/gi,priority:5,name:"h3/h4记忆核心要义"},{pattern:/<strong[^>]*>[^<]*?记忆核心要义[^<]*?<\/strong>/gi,priority:6,name:"strong记忆核心要义"},{pattern:/<h[3-4][^>]*>[^<]*?核心要义[^<]*?<\/h[3-4]>/gi,priority:7,name:"h3/h4核心要义"},{pattern:/<strong[^>]*>[^<]*?核心要义[^<]*?<\/strong>/gi,priority:8,name:"strong核心要义"}];let a=-1,l=999,t=null;for(const{pattern:i,priority:r,name:s}of o){let f;for(;(f=i.exec(e))!==null;){const c=f.index+f[0].length,u=e.substring(c),p=P(u);console.log(`找到 ${s} 触发词，位置: ${c}, 内容: ${f[0]}, 有效引号: ${p}`),p&&r<l&&(a=c,l=r,t=s,console.log(`更新最佳匹配: ${s}, 位置: ${c}`))}i.lastIndex=0}return t&&console.log(`最终选择: ${t}, 位置: ${a}`),a}function P(e){const o=F(e);if(!o)return!1;const a=A(o),l=[/^[a-z-_]+(__[a-z-_]+)*$/i,/^[a-zA-Z0-9-_\/\.]+$/,/^\d+(\.\d+)?%?$/,/^[<>\/=\s]+$/,/^[a-zA-Z\s]+$/];for(const i of l)if(i.test(a))return!1;return/[\u4e00-\u9fa5]/.test(a)&&a.length>=4&&a.length<200}function F(e){let o=null,a=1/0;const l=[{start:34,end:34},{start:8220,end:8221},{start:12300,end:12301},{start:65294,end:65294}];for(const t of l){let i=-1;for(let r=0;r<e.length;r++)if(e.charCodeAt(r)===t.start){i=r;break}if(i!==-1){for(let r=i+1;r<e.length;r++)if(e.charCodeAt(r)===t.end){i<a&&(a=i,o=e.substring(i+1,r));break}}}return o}function A(e){if(!e)return"";let o=e.replace(/<[^>]*>/g,"");return o=o.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/[\u200B\uFEFF]/g,"").replace(/\s+/g," ").trim(),o}function D({notes:e,selectNote:o,isSidebarOpen:a,selectedNote:l,setIsSidebarOpen:t}){const[i,r]=b.useState(""),[s,f]=b.useState(!0),c=()=>{t(!a)},u=e.filter(h=>{const x=h.title||"Untitled",g=h.content||"",m=i.toLowerCase();return x.toLowerCase().includes(m)||g.toLowerCase().includes(m)}),p=h=>s?S(h.content):null,d=e.filter(h=>S(h.content)).length;return n.jsxs("div",{children:[n.jsx("button",{className:"fixed bottom-4 right-4 z-50 p-3 bg-blue-500 text-white rounded-full shadow-lg md:hidden",onClick:c,children:a?"Close":"Open"}),n.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-lg transform transition-transform ${a?"translate-x-0 z-10":"-translate-x-full"} md:translate-x-0 md:relative md:block`,children:[n.jsxs("div",{className:"p-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Notes"}),n.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["总共 ",e.length," 条笔记",s&&n.jsxs("span",{children:[" | 包含口诀: ",d," 条"]})]}),n.jsx("button",{onClick:()=>f(!s),className:`w-full mt-2 p-2 rounded-md text-sm font-medium transition-colors ${s?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:s?"🧠 口诀模式 (开启)":"🧠 口诀模式 (关闭)"}),n.jsx("input",{type:"text",placeholder:"Search notes...",className:"w-full mt-2 p-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:h=>r(h.target.value)})]}),n.jsx("ul",{className:"overflow-y-auto h-[calc(100vh-200px)]",children:u.length>0?u.map(h=>{const x=p(h);return n.jsxs("li",{className:`p-4 cursor-pointer hover:bg-gray-100 ${l&&l.id===h.id?"bg-gray-200":""}`,onClick:()=>o(h),children:[n.jsx("span",{className:"text-sm",children:h.title||"Untitled"}),x&&n.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border-l-3 border-yellow-400 rounded",children:n.jsx("p",{className:"text-xs text-yellow-800 font-medium",children:x})}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(h.createdAt).toLocaleString()})]},h.id)}):n.jsx("li",{className:"p-4 text-sm text-gray-500",children:s?"No notes with mnemonics found":"No notes found"})})]})]})}const T=L.memo(({chart:e,id:o})=>{const a=b.useRef(null),l=t=>t&&t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\\/g,"\\\\").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"\\n").replace(/\r/g,"\\r");return b.useEffect(()=>{M.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:'"trebuchet ms", verdana, arial, sans-serif',flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"linear"},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontSize:12,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontSize:12,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif'}})},[]),b.useEffect(()=>{if(!e||!a.current)return;const t=a.current;if(t.dataset.rendering==="true")return;t.dataset.rendering="true",(async()=>{try{console.log("Rendering Mermaid chart:",e),t.innerHTML="";const r=`mermaid-${o||Math.random().toString(36).substr(2,9)}`;let s=e.trim();s.startsWith("sequenceDiagram")?(console.log("Processing sequence diagram"),s=s.split(`
`).map(p=>{let d=p.trim();return d?(d=d.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),d=d.replace(/\s*-\s*>\s*>\s*\+/g,"->>+").replace(/\s*-\s*>\s*>/g,"->>").replace(/\s*-\s*-\s*>\s*>/g,"-->>"),d):""}).filter(p=>p.length>0).join(`
`),console.log("Processed sequence diagram:",s)):(s=s.replace(/(\[)([^\]]*?)(\])/g,(u,p,d,h)=>p+l(d)+h),s=s.replace(/(\()([^)]*?)(\))/g,(u,p,d,h)=>p+l(d)+h),s=s.replace(/(\|)([^|]*?)(\|)/g,(u,p,d,h)=>p+l(d)+h)),(s.startsWith("graph ")||s.startsWith("flowchart "))&&!s.includes(`
`)&&(s=s.replace(/(graph\s+\w+|flowchart\s+\w+)\s+(.+)/,(u,p,d)=>{const h=d.replace(/\s+([A-Z0-9]+(?:\[[^\]]+\]|\([^)]+\))?)\s+-->/g,`
    $1 -->`).replace(/-->\s*\|([^|]+)\|\s*([A-Z0-9]+(?:\[[^\]]+\]|\([^)]+\))?)/g,"-->|$1| $2");return p+h})),console.log("Processed chart:",s);try{await M.parse(s),console.log("Mermaid parse validation successful")}catch(u){console.warn("Mermaid parse validation failed, but continuing with render:",u),s.includes("sequenceDiagram")&&(console.log("Attempting to fix sequence diagram syntax"),s=s.replace(/：/g,":").replace(/（/g,"(").replace(/）/g,")").replace(/≥/g,">=").replace(/《/g,'"').replace(/》/g,'"'),console.log("Fixed sequence diagram:",s))}const{svg:f}=await M.render(r,s);console.log("Mermaid render successful, SVG length:",f.length),t.innerHTML=f,console.log("Container after SVG insertion:",t),console.log("Container innerHTML length:",t.innerHTML.length);const c=t.querySelector("svg");c?(c.style.maxWidth="100%",c.style.height="auto",c.style.display="block",c.style.visibility="visible",console.log("SVG element configured successfully"),console.log("SVG dimensions:",{width:c.getAttribute("width"),height:c.getAttribute("height"),viewBox:c.getAttribute("viewBox")})):console.error("SVG element not found after insertion"),t.dataset.rendering="false"}catch(r){console.error("Mermaid rendering error:",r),console.error("Original chart content:",e),console.error("Processed chart content:",processedChart||e),t.dataset.rendering="false",t.innerHTML=`
          <div style="
            color: #d73a49; 
            background: #ffeef0; 
            border: 1px solid #fdaeb7; 
            border-radius: 6px; 
            padding: 16px; 
            margin: 10px 0;
            font-family: monospace;
          ">
            <strong>Diagram Error:</strong><br/>
            ${r.message.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}
            <details style="margin-top: 8px;">
              <summary>Show original diagram code</summary>
              <pre style="margin-top: 8px; white-space: pre-wrap;">${e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}</pre>
            </details>
            <details style="margin-top: 8px;">
              <summary>Show processed diagram code</summary>
              <pre style="margin-top: 8px; white-space: pre-wrap;">${(processedChart||e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}</pre>
            </details>
          </div>
        `}})()},[e,o]),n.jsx("div",{ref:a,className:"mermaid-diagram",style:{textAlign:"center",maxWidth:"100%",overflow:"auto",margin:"20px 0",minHeight:"100px"}})});function R(){const e=`
    <code class="language-mermaid">
      <span class="hljs-selector-tag">graph</span> <span class="hljs-selector-tag">LR</span>  
      <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[可能性]</span> <span class="hljs-comment">--&gt;|最低| D[高度可能性]&lt;br&gt;（50%+）</span>
      <span class="hljs-selector-tag">A</span> <span class="hljs-comment">--&gt;|中级| E[排除合理怀疑]&lt;br&gt;（90%+）</span>
      <span class="hljs-selector-tag">A</span> <span class="hljs-comment">--&gt;|最高| F[排除一切怀疑]&lt;br&gt;（100%）</span>
    </code>
  `;console.log("=== 开始测试 Mermaid 提取 (包含<br>标签) ==="),console.log("测试HTML:",e);const l=new DOMParser().parseFromString(e,"text/html").querySelector(".language-mermaid");if(l){console.log("找到 mermaid 元素，开始提取...");const t=E(l.innerHTML);return console.log("=== 提取完成 ==="),console.log("提取的 Mermaid 代码:"),console.log(t),console.log("预期结果应该是干净的 Mermaid 语法，无 HTML 标签，<br>应转换为换行"),t}else console.log("未找到 mermaid 元素");return null}typeof window<"u"&&(window.testMermaidHelper=R,console.log("已注册全局测试函数: window.testMermaidHelper()"));function E(e){if(console.log("=== cleanMermaidCode 开始处理 ==="),console.log("Raw Mermaid code input:",e),console.log("Raw code type:",typeof e),console.log("Raw code length:",e==null?void 0:e.length),!e||typeof e!="string")return console.log("Invalid input, returning empty string"),"";let o=e;if(e.includes("<")&&e.includes(">")){console.log("检测到HTML标签，开始去除...");let l=e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/<br\s*\/?>/gi," ").replace(/&lt;br\s*\/?&gt;/gi," ");console.log("HTML实体处理后:",l);const t=document.createElement("div");t.innerHTML=l,o=t.textContent||t.innerText||"",console.log("HTML标签去除后:",o)}const a=o.replace(/[ \t]+/g," ").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`).map(l=>{let t=l.trim();return t.length===0?null:(console.log("处理行:",t),(t.includes("sequenceDiagram")||t.includes("->")||t.includes("--")||t.includes("loop")||t.includes("end"))&&(t=t.replace(/\s*-\s*>\s*>\s*\+/g,"->>+").replace(/\s*-\s*>\s*>/g,"->>").replace(/\s*-\s*-\s*>\s*>/g,"-->>"),console.log("序列图语法修复后:",t)),t)}).filter(l=>l!==null&&l.length>0).join(`
`).trim();return console.log("最终清理后的 Mermaid 代码:"),console.log(a),console.log("最终代码长度:",a.length),(a.includes("<")||a.includes(">"))&&console.warn("警告：清理后的代码仍包含HTML标签:",a),console.log("=== cleanMermaidCode 处理完成 ==="),a}function I({note:e,onClick:o}){const[a,l]=b.useState(""),[t,i]=b.useState([]);b.useEffect(()=>{if(!e||!e.content){l(""),i([]);return}const h=new DOMParser().parseFromString(e.content,"text/html"),x=h.querySelectorAll(".language-mermaid, code.language-mermaid, .hyc-common-markdown__code-mermaid code"),g=[];x.forEach((m,y)=>{console.log(`Processing Mermaid element ${y}:`,m),console.log("Element className:",m.className),console.log("Element tagName:",m.tagName);let w=m.innerHTML||m.textContent||m.innerText;console.log(`Raw content for chart ${y}:`,w),!w&&m.parentElement&&(w=m.parentElement.textContent||m.parentElement.innerText,console.log(`Fallback content from parent for chart ${y}:`,w));const _=E(w);if(_&&_.trim().length>0){const v=`mermaid-chart-${y}`;g.push({id:v,code:_}),console.log(`Successfully extracted Mermaid chart ${v}:`,_);let j=m.closest(".hyc-common-markdown__code-mermaid")||m.closest(".hyc-common-markdown__code-mermaid-show-svg")||m.closest(".hyc-common-markdown__code")||m.closest("pre")||m.parentElement;if(j){const $=h.createElement("div");$.className="mermaid-placeholder",$.setAttribute("data-chart-id",v),$.style.cssText="min-height: 200px; text-align: center; padding: 20px; border: 1px solid #e1e5e9; border-radius: 6px; margin: 20px 0; background-color: #f6f8fa;",$.innerHTML=`<div style="color: #666;">Loading Mermaid diagram ${y+1}...</div>`,j.parentNode.replaceChild($,j)}}else console.warn(`No valid Mermaid code found in element ${y}`,{element:m,rawContent:w,cleanedCode:_})}),console.log(`Found ${g.length} Mermaid charts in total`),i(m=>m.length!==g.length||m.some((w,_)=>g[_]&&(w.id!==g[_].id||w.code!==g[_].code))?g:m),l(h.body.innerHTML)},[e]);const r=()=>t.map(d=>n.jsx("div",{id:d.id,style:{margin:"20px 0"},children:n.jsx(T,{chart:d.code,id:d.id})},d.id)),s=()=>{if(!a)return n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:a}});if(t.length===0)return n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:a}});const x=new DOMParser().parseFromString(a,"text/html").querySelectorAll(".mermaid-placeholder"),g=[];if(x.length===0)g.push(n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:a}},"main-content")),g.push(...r());else{let m=a;t.forEach((y,w)=>{const _=new RegExp(`<div[^>]*class="[^"]*mermaid-placeholder[^"]*"[^>]*data-chart-id="${y.id}"[^>]*>.*?</div>`,"g");if(_.test(m)){const v=m.split(_);v[0]&&g.push(n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:v[0]}},`content-before-${w}`)),g.push(n.jsx("div",{style:{margin:"20px 0"},children:n.jsx(T,{chart:y.code,id:y.id})},y.id)),m=v.slice(1).join("")}}),m&&g.push(n.jsx("div",{className:"hyc-common-markdown hyc-common-markdown-style",dangerouslySetInnerHTML:{__html:m}},"remaining-content"))}return g};if(!e)return n.jsx("div",{className:"text-gray-500",onClick:o,children:"Select a note to view"});const c=(()=>!e||!e.content?"reasoner":e.content.includes("hyc-component-text")?"text":(e.content.includes("hyc-component-reasoner__text"),"reasoner"))(),u=()=>n.jsx("div",{className:"yb-layout__content agent-layout__content",onClick:o,children:n.jsx("div",{className:"agent-dialogue",children:n.jsx("div",{className:"agent-dialogue__content-wrapper",children:n.jsx("div",{className:"agent-dialogue__content",children:n.jsx("div",{className:"agent-dialogue__content--common",children:n.jsx("div",{className:"agent-dialogue__content--common__content",id:"chat-content",children:n.jsx("div",{className:"agent-chat__list agent-chat__list__deepseek",children:n.jsx("div",{className:"agent-chat__list__content-wrapper",children:n.jsxs("div",{className:"agent-chat__list__content",style:{marginRight:"0px"},children:[n.jsx("div",{className:"agent-chat__list__item agent-chat__list__item--ai agent-chat__list__item--last p-0","data-conv-idx":"158","data-conv-speaker":"ai","data-conv-speech-mode":"0","data-conv-sensitive":"false",children:n.jsx("div",{className:"",children:n.jsx("div",{className:"agent-chat__speech-text--box agent-chat__speech-text--box-left",style:{width:"100%"},children:n.jsx("div",{className:"agent-chat__speech-text",children:n.jsx("div",{className:"hyc-component-text",children:s()})})})})}),n.jsx("div",{className:"agent-chat__list__placeholder"})]})})})})})})})})}),p=()=>n.jsx("div",{className:"yb-layout__content agent-layout__content",onClick:o,children:n.jsx("div",{className:"agent-dialogue",children:n.jsx("div",{className:"agent-dialogue__content-wrapper",children:n.jsx("div",{className:"agent-dialogue__content",children:n.jsx("div",{className:"agent-dialogue__content--common",children:n.jsx("div",{className:"agent-dialogue__content--common__content",id:"chat-content",children:n.jsx("div",{className:"agent-chat__list",children:n.jsx("div",{className:"agent-chat__list__content-wrapper",children:n.jsxs("div",{className:"agent-chat__list__content",style:{marginRight:"0px"},children:[n.jsx("div",{className:"agent-chat__list__item agent-chat__list__item--ai agent-chat__list__item--last p-0","data-conv-idx":"158","data-conv-speaker":"ai","data-conv-speech-mode":"0","data-conv-sensitive":"false","data-conv-id":"b5e1d739-7f95-4221-bc59-0c8cf5dda717_158",children:n.jsx("div",{className:"agent-chat__list__item__content",children:n.jsx("div",{className:"agent-chat__bubble agent-chat__bubble--ai",children:n.jsx("div",{className:"agent-chat__bubble__content",children:n.jsx("div",{className:"agent-chat__conv--ai__speech_show","data-conv-index":"79","data-speech-index":"0",children:n.jsx("div",{className:"hyc-component-reasoner",children:s()})})})})})}),n.jsx("div",{className:"agent-chat__list__placeholder"})]})})})})})})})})});return c==="text"?u():p()}function k(e){const l=new DOMParser().parseFromString(e,"text/html").querySelector("h3"),t=["法考知识点解析：","核心知识点：","总标题：","考点"],i=new RegExp(`^[\\s\\u200B\\uFEFF]*(${t.map(r=>r.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")).join("|")})`);return l&&i.test(l.textContent)&&(l.textContent=l.textContent.replace(i,"")),l?l.textContent.trim():"Untitled"}const z=[{file:"note-20250804091406.html",title:"note-20250804091406.html",date:"20250804091406",path:"/notes/note-20250804091406.html"},{file:"note-20250804085345.html",title:"note-20250804085345.html",date:"20250804085345",path:"/notes/note-20250804085345.html"},{file:"note-20250804084819.html",title:"note-20250804084819.html",date:"20250804084819",path:"/notes/note-20250804084819.html"},{file:"note-20250804084305.html",title:"note-20250804084305.html",date:"20250804084305",path:"/notes/note-20250804084305.html"},{file:"note-20250804083044.html",title:"note-20250804083044.html",date:"20250804083044",path:"/notes/note-20250804083044.html"},{file:"note-20250804082531.html",title:"note-20250804082531.html",date:"20250804082531",path:"/notes/note-20250804082531.html"},{file:"note-20250804081206.html",title:"note-20250804081206.html",date:"20250804081206",path:"/notes/note-20250804081206.html"},{file:"note-20250804080602.html",title:"note-20250804080602.html",date:"20250804080602",path:"/notes/note-20250804080602.html"},{file:"note-20250804080305.html",title:"note-20250804080305.html",date:"20250804080305",path:"/notes/note-20250804080305.html"},{file:"note-20250804071754.html",title:"note-20250804071754.html",date:"20250804071754",path:"/notes/note-20250804071754.html"},{file:"note-20250804065043.html",title:"note-20250804065043.html",date:"20250804065043",path:"/notes/note-20250804065043.html"},{file:"note-20250804064523.html",title:"note-20250804064523.html",date:"20250804064523",path:"/notes/note-20250804064523.html"},{file:"note-20250802131841.html",title:"note-20250802131841.html",date:"20250802131841",path:"/notes/note-20250802131841.html"},{file:"note-20250802131817.html",title:"note-20250802131817.html",date:"20250802131817",path:"/notes/note-20250802131817.html"},{file:"note-20250802112054.html",title:"note-20250802112054.html",date:"20250802112054",path:"/notes/note-20250802112054.html"},{file:"note-20250801103327.html",title:"note-20250801103327.html",date:"20250801103327",path:"/notes/note-20250801103327.html"},{file:"note-20250801094924.html",title:"note-20250801094924.html",date:"20250801094924",path:"/notes/note-20250801094924.html"},{file:"note-20250731031510.html",title:"note-20250731031510.html",date:"20250731031510",path:"/notes/note-20250731031510.html"},{file:"note-20250731031504.html",title:"note-20250731031504.html",date:"20250731031504",path:"/notes/note-20250731031504.html"},{file:"note-20250731031458.html",title:"note-20250731031458.html",date:"20250731031458",path:"/notes/note-20250731031458.html"},{file:"note-20250730072004.html",title:"note-20250730072004.html",date:"20250730072004",path:"/notes/note-20250730072004.html"},{file:"note-20250730071940.html",title:"note-20250730071940.html",date:"20250730071940",path:"/notes/note-20250730071940.html"},{file:"note-20250729094333.html",title:"note-20250729094333.html",date:"20250729094333",path:"/notes/note-20250729094333.html"},{file:"note-20250729075316.html",title:"note-20250729075316.html",date:"20250729075316",path:"/notes/note-20250729075316.html"},{file:"note-20250729065050.html",title:"note-20250729065050.html",date:"20250729065050",path:"/notes/note-20250729065050.html"},{file:"note-20250729064313.html",title:"note-20250729064313.html",date:"20250729064313",path:"/notes/note-20250729064313.html"},{file:"note-20250729063803.html",title:"note-20250729063803.html",date:"20250729063803",path:"/notes/note-20250729063803.html"},{file:"note-20250729063315.html",title:"note-20250729063315.html",date:"20250729063315",path:"/notes/note-20250729063315.html"},{file:"note-20250729062202.html",title:"note-20250729062202.html",date:"20250729062202",path:"/notes/note-20250729062202.html"},{file:"note-20250729062027.html",title:"note-20250729062027.html",date:"20250729062027",path:"/notes/note-20250729062027.html"},{file:"note-20250729060518.html",title:"note-20250729060518.html",date:"20250729060518",path:"/notes/note-20250729060518.html"},{file:"note-20250728111850.html",title:"note-20250728111850.html",date:"20250728111850",path:"/notes/note-20250728111850.html"},{file:"note-20250728111310.html",title:"note-20250728111310.html",date:"20250728111310",path:"/notes/note-20250728111310.html"},{file:"note-20250728111226.html",title:"note-20250728111226.html",date:"20250728111226",path:"/notes/note-20250728111226.html"},{file:"note-20250728111204.html",title:"note-20250728111204.html",date:"20250728111204",path:"/notes/note-20250728111204.html"},{file:"note-20250728111123.html",title:"note-20250728111123.html",date:"20250728111123",path:"/notes/note-20250728111123.html"},{file:"note-20250728111045.html",title:"note-20250728111045.html",date:"20250728111045",path:"/notes/note-20250728111045.html"},{file:"note-20250728111035.html",title:"note-20250728111035.html",date:"20250728111035",path:"/notes/note-20250728111035.html"},{file:"note-20250728111009.html",title:"note-20250728111009.html",date:"20250728111009",path:"/notes/note-20250728111009.html"},{file:"note-20250728105255.html",title:"note-20250728105255.html",date:"20250728105255",path:"/notes/note-20250728105255.html"},{file:"note-20250728105213.html",title:"note-20250728105213.html",date:"20250728105213",path:"/notes/note-20250728105213.html"},{file:"note-20250728104912.html",title:"note-20250728104912.html",date:"20250728104912",path:"/notes/note-20250728104912.html"},{file:"note-20250728104757.html",title:"note-20250728104757.html",date:"20250728104757",path:"/notes/note-20250728104757.html"},{file:"note-20250728104734.html",title:"note-20250728104734.html",date:"20250728104734",path:"/notes/note-20250728104734.html"},{file:"note-20250728104711.html",title:"note-20250728104711.html",date:"20250728104711",path:"/notes/note-20250728104711.html"},{file:"note-20250728104634.html",title:"note-20250728104634.html",date:"20250728104634",path:"/notes/note-20250728104634.html"},{file:"note-20250728104605.html",title:"note-20250728104605.html",date:"20250728104605",path:"/notes/note-20250728104605.html"},{file:"note-20250728104016.html",title:"note-20250728104016.html",date:"20250728104016",path:"/notes/note-20250728104016.html"},{file:"note-20250726100637.html",title:"note-20250726100637.html",date:"20250726100637",path:"/notes/note-20250726100637.html"},{file:"note-20250726100559.html",title:"note-20250726100559.html",date:"20250726100559",path:"/notes/note-20250726100559.html"},{file:"note-20250726100203.html",title:"note-20250726100203.html",date:"20250726100203",path:"/notes/note-20250726100203.html"},{file:"note-20250726100133.html",title:"note-20250726100133.html",date:"20250726100133",path:"/notes/note-20250726100133.html"},{file:"note-20250726100032.html",title:"note-20250726100032.html",date:"20250726100032",path:"/notes/note-20250726100032.html"},{file:"note-20250726095959.html",title:"note-20250726095959.html",date:"20250726095959",path:"/notes/note-20250726095959.html"},{file:"note-20250726095907.html",title:"note-20250726095907.html",date:"20250726095907",path:"/notes/note-20250726095907.html"},{file:"note-20250726095859.html",title:"note-20250726095859.html",date:"20250726095859",path:"/notes/note-20250726095859.html"},{file:"note-20250726095829.html",title:"note-20250726095829.html",date:"20250726095829",path:"/notes/note-20250726095829.html"},{file:"note-20250726095754.html",title:"note-20250726095754.html",date:"20250726095754",path:"/notes/note-20250726095754.html"},{file:"note-20250726095718.html",title:"note-20250726095718.html",date:"20250726095718",path:"/notes/note-20250726095718.html"},{file:"note-20250725082331.html",title:"note-20250725082331.html",date:"20250725082331",path:"/notes/note-20250725082331.html"},{file:"note-20250725070237.html",title:"note-20250725070237.html",date:"20250725070237",path:"/notes/note-20250725070237.html"},{file:"note-20250725032720.html",title:"note-20250725032720.html",date:"20250725032720",path:"/notes/note-20250725032720.html"},{file:"note-20250725031705.html",title:"note-20250725031705.html",date:"20250725031705",path:"/notes/note-20250725031705.html"},{file:"note-20250725025535.html",title:"note-20250725025535.html",date:"20250725025535",path:"/notes/note-20250725025535.html"},{file:"note-20250725024938.html",title:"note-20250725024938.html",date:"20250725024938",path:"/notes/note-20250725024938.html"},{file:"note-20250724095941.html",title:"note-20250724095941.html",date:"20250724095941",path:"/notes/note-20250724095941.html"},{file:"note-20250724081159.html",title:"note-20250724081159.html",date:"20250724081159",path:"/notes/note-20250724081159.html"},{file:"note-20250724080457.html",title:"note-20250724080457.html",date:"20250724080457",path:"/notes/note-20250724080457.html"},{file:"note-20250723111607.html",title:"note-20250723111607.html",date:"20250723111607",path:"/notes/note-20250723111607.html"},{file:"note-20250723111519.html",title:"note-20250723111519.html",date:"20250723111519",path:"/notes/note-20250723111519.html"},{file:"note-20250723105115.html",title:"note-20250723105115.html",date:"20250723105115",path:"/notes/note-20250723105115.html"},{file:"note-20250723104034.html",title:"note-20250723104034.html",date:"20250723104034",path:"/notes/note-20250723104034.html"},{file:"note-20250723103330.html",title:"note-20250723103330.html",date:"20250723103330",path:"/notes/note-20250723103330.html"},{file:"note-20250723103032.html",title:"note-20250723103032.html",date:"20250723103032",path:"/notes/note-20250723103032.html"},{file:"note-20250723085738.html",title:"note-20250723085738.html",date:"20250723085738",path:"/notes/note-20250723085738.html"},{file:"note-20250723084917.html",title:"note-20250723084917.html",date:"20250723084917",path:"/notes/note-20250723084917.html"},{file:"note-20250723083213.html",title:"note-20250723083213.html",date:"20250723083213",path:"/notes/note-20250723083213.html"},{file:"note-20250723075406.html",title:"note-20250723075406.html",date:"20250723075406",path:"/notes/note-20250723075406.html"},{file:"note-20250723075002.html",title:"note-20250723075002.html",date:"20250723075002",path:"/notes/note-20250723075002.html"},{file:"note-20250723025156.html",title:"note-20250723025156.html",date:"20250723025156",path:"/notes/note-20250723025156.html"},{file:"note-20250723020020.html",title:"note-20250723020020.html",date:"20250723020020",path:"/notes/note-20250723020020.html"},{file:"note-20250723015952.html",title:"note-20250723015952.html",date:"20250723015952",path:"/notes/note-20250723015952.html"},{file:"note-20250722110003.html",title:"note-20250722110003.html",date:"20250722110003",path:"/notes/note-20250722110003.html"},{file:"note-20250722092757.html",title:"note-20250722092757.html",date:"20250722092757",path:"/notes/note-20250722092757.html"},{file:"note-20250722092633.html",title:"note-20250722092633.html",date:"20250722092633",path:"/notes/note-20250722092633.html"},{file:"note-20250722081447.html",title:"note-20250722081447.html",date:"20250722081447",path:"/notes/note-20250722081447.html"},{file:"note-20250722073352.html",title:"note-20250722073352.html",date:"20250722073352",path:"/notes/note-20250722073352.html"},{file:"note-20250722031600.html",title:"note-20250722031600.html",date:"20250722031600",path:"/notes/note-20250722031600.html"},{file:"note-20250722025426.html",title:"note-20250722025426.html",date:"20250722025426",path:"/notes/note-20250722025426.html"},{file:"note-20250721104603.html",title:"note-20250721104603.html",date:"20250721104603",path:"/notes/note-20250721104603.html"},{file:"note-20250721102718.html",title:"note-20250721102718.html",date:"20250721102718",path:"/notes/note-20250721102718.html"},{file:"note-20250721101231.html",title:"note-20250721101231.html",date:"20250721101231",path:"/notes/note-20250721101231.html"},{file:"note-20250721100913.html",title:"note-20250721100913.html",date:"20250721100913",path:"/notes/note-20250721100913.html"},{file:"note-20250721091214.html",title:"note-20250721091214.html",date:"20250721091214",path:"/notes/note-20250721091214.html"},{file:"note-20250721074722.html",title:"note-20250721074722.html",date:"20250721074722",path:"/notes/note-20250721074722.html"},{file:"note-20250721074143.html",title:"note-20250721074143.html",date:"20250721074143",path:"/notes/note-20250721074143.html"},{file:"note-20250721074025.html",title:"note-20250721074025.html",date:"20250721074025",path:"/notes/note-20250721074025.html"},{file:"note-20250721073926.html",title:"note-20250721073926.html",date:"20250721073926",path:"/notes/note-20250721073926.html"},{file:"note-20250721073810.html",title:"note-20250721073810.html",date:"20250721073810",path:"/notes/note-20250721073810.html"},{file:"note-20250721073640.html",title:"note-20250721073640.html",date:"20250721073640",path:"/notes/note-20250721073640.html"},{file:"note-20250721073507.html",title:"note-20250721073507.html",date:"20250721073507",path:"/notes/note-20250721073507.html"},{file:"note-20250721073005.html",title:"note-20250721073005.html",date:"20250721073005",path:"/notes/note-20250721073005.html"},{file:"note-20250721072737.html",title:"note-20250721072737.html",date:"20250721072737",path:"/notes/note-20250721072737.html"},{file:"note-20250721072610.html",title:"note-20250721072610.html",date:"20250721072610",path:"/notes/note-20250721072610.html"},{file:"note-20250721015120.html",title:"note-20250721015120.html",date:"20250721015120",path:"/notes/note-20250721015120.html"},{file:"note-20250718094524.html",title:"note-20250718094524.html",date:"20250718094524",path:"/notes/note-20250718094524.html"},{file:"note-20250718093513.html",title:"note-20250718093513.html",date:"20250718093513",path:"/notes/note-20250718093513.html"},{file:"note-20250717101401.html",title:"note-20250717101401.html",date:"20250717101401",path:"/notes/note-20250717101401.html"},{file:"note-20250717091815.html",title:"note-20250717091815.html",date:"20250717091815",path:"/notes/note-20250717091815.html"},{file:"note-20250716083941.html",title:"note-20250716083941.html",date:"20250716083941",path:"/notes/note-20250716083941.html"},{file:"note-20250715082812.html",title:"note-20250715082812.html",date:"20250715082812",path:"/notes/note-20250715082812.html"},{file:"note-20250715080926.html",title:"note-20250715080926.html",date:"20250715080926",path:"/notes/note-20250715080926.html"},{file:"note-20250715055352.html",title:"note-20250715055352.html",date:"20250715055352",path:"/notes/note-20250715055352.html"},{file:"note-20250715035936.html",title:"note-20250715035936.html",date:"20250715035936",path:"/notes/note-20250715035936.html"},{file:"note-20250715033712.html",title:"note-20250715033712.html",date:"20250715033712",path:"/notes/note-20250715033712.html"},{file:"note-20250715031157.html",title:"note-20250715031157.html",date:"20250715031157",path:"/notes/note-20250715031157.html"},{file:"note-20250715023337.html",title:"note-20250715023337.html",date:"20250715023337",path:"/notes/note-20250715023337.html"},{file:"note-20250715022815.html",title:"note-20250715022815.html",date:"20250715022815",path:"/notes/note-20250715022815.html"},{file:"note-20250715022258.html",title:"note-20250715022258.html",date:"20250715022258",path:"/notes/note-20250715022258.html"},{file:"note-20250623101311.html",title:"note-20250623101311.html",date:"20250623101311",path:"/notes/note-20250623101311.html"},{file:"note-20250623091430.html",title:"note-20250623091430.html",date:"20250623091430",path:"/notes/note-20250623091430.html"},{file:"note-20250623085247.html",title:"note-20250623085247.html",date:"20250623085247",path:"/notes/note-20250623085247.html"},{file:"note-20250612054431.html",title:"note-20250612054431.html",date:"20250612054431",path:"/notes/note-20250612054431.html"},{file:"note-20250612024743.html",title:"note-20250612024743.html",date:"20250612024743",path:"/notes/note-20250612024743.html"},{file:"note-20250604100505.html",title:"note-20250604100505.html",date:"20250604100505",path:"/notes/note-20250604100505.html"},{file:"note-20250604082643.html",title:"note-20250604082643.html",date:"20250604082643",path:"/notes/note-20250604082643.html"},{file:"note-20250604055426.html",title:"note-20250604055426.html",date:"20250604055426",path:"/notes/note-20250604055426.html"},{file:"note-20250523095024.html",title:"note-20250523095024.html",date:"20250523095024",path:"/notes/note-20250523095024.html"},{file:"note-20250523063058.html",title:"note-20250523063058.html",date:"20250523063058",path:"/notes/note-20250523063058.html"},{file:"note-20250523062959.html",title:"note-20250523062959.html",date:"20250523062959",path:"/notes/note-20250523062959.html"},{file:"note-20250523053933.html",title:"note-20250523053933.html",date:"20250523053933",path:"/notes/note-20250523053933.html"},{file:"note-20250523053858.html",title:"note-20250523053858.html",date:"20250523053858",path:"/notes/note-20250523053858.html"},{file:"note-20250523053848.html",title:"note-20250523053848.html",date:"20250523053848",path:"/notes/note-20250523053848.html"},{file:"note-20250523053810.html",title:"note-20250523053810.html",date:"20250523053810",path:"/notes/note-20250523053810.html"},{file:"note-20250523053747.html",title:"note-20250523053747.html",date:"20250523053747",path:"/notes/note-20250523053747.html"},{file:"note-20250523053658.html",title:"note-20250523053658.html",date:"20250523053658",path:"/notes/note-20250523053658.html"},{file:"note-20250521065937.html",title:"note-20250521065937.html",date:"20250521065937",path:"/notes/note-20250521065937.html"},{file:"note-20250521065909.html",title:"note-20250521065909.html",date:"20250521065909",path:"/notes/note-20250521065909.html"},{file:"note-20250521065901.html",title:"note-20250521065901.html",date:"20250521065901",path:"/notes/note-20250521065901.html"},{file:"note-20250521065822.html",title:"note-20250521065822.html",date:"20250521065822",path:"/notes/note-20250521065822.html"},{file:"note-20250521065603.html",title:"note-20250521065603.html",date:"20250521065603",path:"/notes/note-20250521065603.html"},{file:"note-20250521065449.html",title:"note-20250521065449.html",date:"20250521065449",path:"/notes/note-20250521065449.html"},{file:"note-20250520032323.html",title:"note-20250520032323.html",date:"20250520032323",path:"/notes/note-20250520032323.html"},{file:"note-20250520031838.html",title:"note-20250520031838.html",date:"20250520031838",path:"/notes/note-20250520031838.html"},{file:"note-20250520011209.html",title:"note-20250520011209.html",date:"20250520011209",path:"/notes/note-20250520011209.html"},{file:"note-20250520005632.html",title:"note-20250520005632.html",date:"20250520005632",path:"/notes/note-20250520005632.html"},{file:"note-20250520005624.html",title:"note-20250520005624.html",date:"20250520005624",path:"/notes/note-20250520005624.html"},{file:"note-20250520005610.html",title:"note-20250520005610.html",date:"20250520005610",path:"/notes/note-20250520005610.html"},{file:"note-20250519101827.html",title:"note-20250519101827.html",date:"20250519101827",path:"/notes/note-20250519101827.html"},{file:"note-20250519091618.html",title:"note-20250519091618.html",date:"20250519091618",path:"/notes/note-20250519091618.html"},{file:"note-20250519091300.html",title:"note-20250519091300.html",date:"20250519091300",path:"/notes/note-20250519091300.html"},{file:"note-20250519010704.html",title:"note-20250519010704.html",date:"20250519010704",path:"/notes/note-20250519010704.html"},{file:"note-20250515015948.html",title:"note-20250515015948.html",date:"20250515015948",path:"/notes/note-20250515015948.html"},{file:"note-20250514110146.html",title:"note-20250514110146.html",date:"20250514110146",path:"/notes/note-20250514110146.html"}];function O(){const[e,o]=b.useState([]),[a,l]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const f=(await Promise.all(z.map(async c=>{const d=await(await fetch(`/yuanbao-note-viewer/${c.path.replace(/^\//,"")}`)).text(),h=N(d,{allowedTags:N.defaults.allowedTags.concat(["h3","table","thead","tbody","tr","th","td","hr","ol","ul","li","blockquote","pre","code","span","svg","g","path","rect","circle","ellipse","polygon","foreignObject","marker","defs","style"]),allowedAttributes:{"*":["class","id","style"],div:["style","data-*"],pre:["class"],code:["class"],span:["class"],svg:["width","height","viewBox","xmlns","role","aria-roledescription","xmlns:xlink","xmlns:ev"],g:["id","class","transform"],path:["d","class","style","fill","stroke","stroke-width","marker-end"],rect:["x","y","width","height","class","style","fill","stroke","rx","ry"],circle:["cx","cy","r","class","style","fill","stroke"],foreignObject:["width","height"],marker:["id","class","viewBox","refX","refY","markerUnits","markerWidth","markerHeight","orient"],table:["style"],th:["style"],td:["style"]},allowedSchemes:["http","https","data"],allowedStyles:{"*":{"font-family":[/^.*$/],"font-size":[/^.*$/],color:[/^.*$/],"line-height":[/^.*$/],padding:[/^.*$/],margin:[/^.*$/],"text-align":[/^.*$/],"font-weight":[/^.*$/],"font-style":[/^.*$/],"background-color":[/^.*$/],border:[/^.*$/],width:[/^.*$/],height:[/^.*$/],"max-width":[/^.*$/],"max-height":[/^.*$/],"white-space":[/^.*$/],"word-break":[/^.*$/],display:[/^.*$/],"box-sizing":[/^.*$/],position:[/^.*$/],top:[/^.*$/],left:[/^.*$/],right:[/^.*$/],bottom:[/^.*$/],transform:[/^.*$/],stroke:[/^.*$/],"stroke-width":[/^.*$/],"stroke-dasharray":[/^.*$/],fill:[/^.*$/],overflow:[/^.*$/]}},transformTags:{style:()=>({tagName:"",attribs:{},text:""})}}),x=k(h),g=C(c.file);return{id:c.file,title:x,content:h,createdAt:g}}))).sort((c,u)=>u.createdAt-c.createdAt);o(f),f.length>0&&l(f[0])}catch(s){console.error("Error loading notes:",s)}})()},[]),{notes:e,selectedNote:a,selectNote:r=>{l(r)},addNote:(r,s)=>{const f=N(s,{allowedTags:N.defaults.allowedTags.concat(["h3","table","thead","tbody","tr","th","td","hr","ol","ul","li","blockquote"]),allowedAttributes:{"*":["class"],div:["style"],table:["style"],th:["style"],td:["style"]},allowedStyles:{"*":{"font-family":[/^.*$/],"font-size":[/^.*$/],color:[/^.*$/],"line-height":[/^.*$/],padding:[/^.*$/],margin:[/^.*$/],"text-align":[/^.*$/],"font-weight":[/^.*$/],"font-style":[/^.*$/],"background-color":[/^.*$/],border:[/^.*$/],width:[/^.*$/],"white-space":[/^.*$/],"word-break":[/^.*$/],display:[/^.*$/],"box-sizing":[/^.*$/]}},transformTags:{style:()=>({tagName:"",attribs:{},text:""})}}),c=k(f),u=C(r)||Date.now(),p={id:r,title:c,content:f,createdAt:u};o(d=>{const h=[p,...d].sort((x,g)=>g.createdAt-x.createdAt);return l(p),h})}}}function C(e){const o=e.match(/note-(\d{14})\.html/);if(!o)return Date.now();const[a,l,t,i,r,s]=[o[1].slice(0,4),o[1].slice(4,6),o[1].slice(6,8),o[1].slice(8,10),o[1].slice(10,12),o[1].slice(12,14)],f=`${a}-${l}-${t}T${i}:${r}:${s}Z`,c=new Date(f);return new Date(c.toLocaleString("en-US",{timeZone:"Asia/Shanghai"})).getTime()}function W(){const{notes:e,selectedNote:o,selectNote:a}=O(),[l,t]=b.useState(!1);return n.jsxs("div",{className:"yb-layout agent-layout layout-pc flex flex-row",children:[n.jsx(D,{notes:e,selectNote:a,selectedNote:o,isSidebarOpen:l,setIsSidebarOpen:t}),n.jsx(I,{note:o,onClick:()=>t(!1)})]})}function B(){return n.jsx(W,{})}H.createRoot(document.getElementById("app")).render(n.jsx(L.StrictMode,{children:n.jsx(B,{})}));
